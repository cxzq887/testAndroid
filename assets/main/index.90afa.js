window.__require=function t(e,n,i){function o(r,s){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return o(e[r][1][t]||t)},l,l.exports,t,e,n,i)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({Action:[function(t,e,n){"use strict";cc._RF.push(e,"8ead9Rg1hNE2ZrXeZCaDtTc","Action");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0}),n.Action_4=n.Action_3=n.Action_2=n.Action_1=n.Action=void 0;var o=function(){function t(){this.funcs=new Array}return t.prototype.add=function(t){this.funcs.push(t)},t.prototype.remove=function(t){var e=this.funcs.indexOf(t);this.funcs.splice(e,1)},t.prototype.ClearAll=function(){this.funcs.splice(0,this.funcs.length)},t.prototype.invok=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=this.funcs;n<i.length;n++){(0,i[n])(t)}},t}();n.Action=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invok=function(t){for(var e=0,n=this.funcs;e<n.length;e++){(0,n[e])(t)}},e}(o);n.Action_1=a;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invok=function(t,e){for(var n=0,i=this.funcs;n<i.length;n++){(0,i[n])(t,e)}},e}(o);n.Action_2=r;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invok=function(t,e,n){for(var i=0,o=this.funcs;i<o.length;i++){(0,o[i])(t,e,n)}},e}(o);n.Action_3=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.invok=function(t,e,n,i){for(var o=0,a=this.funcs;o<a.length;o++){(0,a[o])(t,e,n,i)}},e}(o);n.Action_4=c,cc._RF.pop()},{}],AddNum:[function(t,e,n){"use strict";cc._RF.push(e,"649b6IyaDtAKI6acgWx7VcT","AddNum");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInit=!1,e.moveTime=1,e.moveDistance=50,e.defaultX=131,e.changeY=0,e.changeAlpha=255,e.changeTime=0,e}return i(e,t),e.prototype.Init=function(t){t&&(this.numLabel=this.getComponent(cc.Label),this.numLabel.string="+"+t),this.node.setPosition(new cc.Vec2(this.defaultX,0)),this.node.opacity=255,this.isInit=!0},e.prototype.update=function(t){this.isInit&&(this.changeTime+=t,this.changeY=cc.misc.lerp(0,this.moveDistance,this.changeTime/this.moveTime),this.node.setPosition(new cc.Vec2(this.defaultX,this.changeY)),this.changeAlpha=cc.misc.lerp(255,0,this.changeTime/this.moveTime),this.node.opacity=this.changeAlpha,this.changeTime>=this.moveTime&&(this.changeTime=0,this.node.destroy()))},e=o([r],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],AnsBtn:[function(t,e,n){"use strict";cc._RF.push(e,"cedd3rJ3clEqo9zWWzv4ahm","AnsBtn");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.orgSprite=null,e.rightSprite=null,e.btnImg=null,e.ansTxt=null,e.clickCB=null,e}return i(e,t),e.prototype.onLoad=function(){this.btnImg=this.getComponent(cc.Sprite),this.ansTxt=this.node.getChildByName("Txt").getComponent(cc.Label)},e.prototype.init=function(t,e,n){this.orgSprite=t,this.rightSprite=e,this.clickCB=n},e.prototype.playRightAnim=function(){this.btnImg.spriteFrame=this.rightSprite},e.prototype.onBtnClick=function(t,e){console.log("on btn click: ",e),null===this||void 0===this||this.clickCB(parseInt(e))},e.prototype.updateAnsTxt=function(t){this.btnImg.spriteFrame=this.orgSprite,this.ansTxt.string=t},e=o([r],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],AnsCounter:[function(t,e,n){"use strict";cc._RF.push(e,"53774t9zItB544Ke4C+VZy+","AnsCounter");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.setCount(0)},e.prototype.setCount=function(t){for(var e=0;e<t;e++)this.node.children[e].opacity=255;for(;e<this.node.children.length;e++)this.node.children[e].opacity=0},e=o([r],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"69d00eOMQVEH6OICnJBMC5W","AudioManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.AudioManager=n.shakeMobileClipType=n.BigScreenAudioClipType=n.GuessClipTypes=n.QAClipTypes=n.AudioClipTypes=void 0;var a,r,s,c,u=cc._decorator,l=u.ccclass,p=u.property;(function(t){t[t.Right=0]="Right",t[t.Wrong=1]="Wrong"})(n.AudioClipTypes||(n.AudioClipTypes={})),function(t){t[t.Right=0]="Right",t[t.Wrong=1]="Wrong"}(a=n.QAClipTypes||(n.QAClipTypes={})),function(t){t[t.NumArrive=0]="NumArrive"}(r=n.GuessClipTypes||(n.GuessClipTypes={})),function(t){t[t.CountDown=0]="CountDown",t[t.BulletRedBag=1]="BulletRedBag"}(s=n.BigScreenAudioClipType||(n.BigScreenAudioClipType={})),function(t){t[t.shakeBell=0]="shakeBell"}(c=n.shakeMobileClipType||(n.shakeMobileClipType={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.QAClips=new Array,e.GuessClips=new Array,e.shakeBigScreenClips=new Array,e.shakeMobileClips=new Array,e}var n;return i(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.__preload=function(){n._instance=this},e.prototype.play=function(t,e,n){if(t){switch(n){case a:t.clip=this.QAClips[e];break;case r:t.clip=this.GuessClips[e];break;case s:t.clip=this.shakeBigScreenClips[e];break;case c:t.clip=this.shakeMobileClips[e]}t.play()}},o([p(cc.AudioClip)],e.prototype,"QAClips",void 0),o([p(cc.AudioClip)],e.prototype,"GuessClips",void 0),o([p(cc.AudioClip)],e.prototype,"shakeBigScreenClips",void 0),o([p(cc.AudioClip)],e.prototype,"shakeMobileClips",void 0),e=n=o([l],e)}(cc.Component);n.AudioManager=h,cc._RF.pop()},{}],AwardData:[function(t,e,n){"use strict";cc._RF.push(e,"432e7qRJLRB4bb6OoErmYLS","AwardData");var i=this&&this.__awaiter||function(t,e,n,i){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,a){function r(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?n(t.value):o(t.value).then(r,s)}c((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.AwardData=void 0;var a=t("../Utils/Utils"),r=function(){function t(t,e,n,i){this.iconUrl=t,this.awardName=e,this.star=n,this.countStr=i,this.loadSpritF()}return t.prototype.loadSpritF=function(){return i(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return t=this,[4,a.loadSpriteByUrl(this.iconUrl,"jpg")];case 1:return t.icon=e.sent(),[2]}})})},t}();n.AwardData=r,cc._RF.pop()},{"../Utils/Utils":"Utils"}],AwardPanel:[function(t,e,n){"use strict";cc._RF.push(e,"bbe9f67Br1PcprMN3PDV968","AwardPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Utils/Utils"),r=cc._decorator,s=r.ccclass,c=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noAwardSprite=null,e.awardImg=null,e.awardName=null,e.titleTxt=null,e.deviceID=null,e.noAward=!1,e}return i(e,t),e.prototype.onLoad=function(){this.awardImg=this.node.getChildByName("AwardImg").getComponent(cc.Sprite),this.awardName=this.node.getChildByName("AwardName").getComponent(cc.Label),this.titleTxt=this.node.getChildByName("New Label").getComponent(cc.Label)},e.prototype.show=function(t,e,n){this.deviceID=n,this.node.active=!0,a.loadImgByUrl(this.awardImg,t,"jpg"),this.awardName.string=e},e.prototype.showNoAward=function(t){this.deviceID=t,this.node.active=!0,this.awardImg.spriteFrame=this.noAwardSprite,this.awardName.string="",this.titleTxt.string="\u672a\u83b7\u5f97\u5956\u52b1",this.node.getChildByName("TicketsBtn").getComponentInChildren(cc.Label).string="\u8fd4\u56de",this.noAward=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.onJoinGameClick=function(){a.wxBackToJoinGame(this.deviceID)},e.prototype.onTicketsClick=function(){this.noAward?a.wxBack():a.wxBackToTickets()},o([c(cc.SpriteFrame)],e.prototype,"noAwardSprite",void 0),e=o([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Utils/Utils":"Utils"}],Bird:[function(t,e,n){"use strict";cc._RF.push(e,"43e925uGatHoaff8dxzFcq5","Bird");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/Loger"),r=t("../../Scripts/Utils/Utils"),s=t("./Game"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.birdAnimation=null,e.giftAnimation=null,e.audioClips=new Array,e.giftType=1,e.defaultX=1e3,e.overX=-1e3,e.minY=-630,e.maxY=650,e.game=null,e.currentX=0,e.moveSpeed=1,e.initY=0,e.isHited=!1,e}return i(e,t),e.prototype.init=function(t){this.isHited=!1,this.audioSource=this.getComponent(cc.AudioSource),this.game=cc.find("/Canvas").getComponent(s.default),this.giftType=t,this.playBirdAnim("fly"),this.playGiftAnim(0==t?"boomIdle":"giftIdle"),this.initY=r.RandomRange(this.minY,this.maxY,!0);var e=new cc.Vec2(this.defaultX,this.initY);this.node.setPosition(e);var n=r.RandomRange01(.7,1);this.node.setScale(n),this.currentX=this.defaultX,this.moveSpeed=r.RandomRange(200,600,!0)},e.prototype.playBirdAnim=function(t){this.birdAnimation&&this.birdAnimation.play(t)},e.prototype.playGiftAnim=function(t){this.giftAnimation&&this.giftAnimation.play(t)},e.prototype.ButtonEvent=function(){this.isHited||(this.playGiftAnim(0==this.giftType?"boom":"gift"),0==this.giftType?(this.audioSource.clip=this.audioClips[1],this.playBirdAnim("die"),this.game.isBoom=!0):(this.audioSource.clip=this.audioClips[0],this.game.localGiftCount++,a.Loger.log("add Local gift count : "+this.game.localGiftCount)),this.audioSource.play(),this.isHited=!0)},e.prototype.DestoryBird=function(){this.node.destroy()},e.prototype.start=function(){},e.prototype.update=function(t){this.currentX-=t*this.moveSpeed,this.node.setPosition(this.currentX,this.initY),this.currentX<=this.overX&&(this.currentX=0,this.DestoryBird())},o([l(cc.Animation)],e.prototype,"birdAnimation",void 0),o([l(cc.Animation)],e.prototype,"giftAnimation",void 0),o([l(cc.AudioClip)],e.prototype,"audioClips",void 0),e=o([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Scripts/Loger":"Loger","../../Scripts/Utils/Utils":"Utils","./Game":"Game"}],BulletScreenItem:[function(t,e,n){"use strict";cc._RF.push(e,"1eb0bNbQoZD76AxChWI3Bop","BulletScreenItem");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/Utils/Utils"),r=cc._decorator,s=r.ccclass,c=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.head=null,e.defaultX=400,e.overX=-400,e.minY=-158,e.maxY=250,e.currentX=0,e.moveSpeed=1,e.initY=0,e}return i(e,t),e.prototype.init=function(t,e){a.loadImgByUrl(this.head,t,"png"),this.initY=a.RandomRange(this.minY,this.maxY,!0);var n=new cc.Vec2(this.defaultX,this.initY);this.node.setPosition(n),this.currentX=this.defaultX,this.moveSpeed=a.RandomRange(100,200,!0),this.label.string=e},e.prototype.start=function(){},e.prototype.update=function(t){this.currentX-=t*this.moveSpeed,this.node.setPosition(this.currentX,this.initY),this.currentX<=this.overX&&(this.currentX=0,this.node.destroy())},o([c(cc.Label)],e.prototype,"label",void 0),o([c(cc.Sprite)],e.prototype,"head",void 0),e=o([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Scripts/Utils/Utils":"Utils"}],BulletScreen:[function(t,e,n){"use strict";cc._RF.push(e,"64896gSd21LVaS0iio2guJo","BulletScreen");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},a=this&&this.__awaiter||function(t,e,n,i){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,a){function r(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?n(t.value):o(t.value).then(r,s)}c((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Loger"),c=t("../../Utils/Action"),u=t("../../Utils/Utils"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelSpace=6,e.isInitOver=!1,e.speed=100,e.onBulletMoveOutEvent=new c.Action,e}return i(e,t),e.prototype.onLoad=function(){this.headIcon=this.node.getChildByName("HeadIconMask").getChildByName("HeadIcon").getComponent(cc.Sprite),this.nameTxt=this.node.getChildByName("NameTxt").getComponent(cc.Label),this.descTxt=this.node.getChildByName("DescTxt").getComponent(cc.Label),this.backTransform=this.node.getChildByName("Bg")},e.prototype.init=function(t,e,n){return a(this,void 0,void 0,function(){var i,o,a;return r(this,function(r){switch(r.label){case 0:return this.isInitOver=!1,this.nameTxtPosX=this.nameTxt.node.position.x,this.nodePosX=this.node.position.x,this.nodePosY=this.node.position.y,i=this.headIcon,[4,u.loadSpriteByUrl(t,"jpg")];case 1:return i.spriteFrame=r.sent(),this.speed=u.RandomRange(120,200,!1),this.nameTxt.string=e,this.descTxt.string=n,this.nameTxt._forceUpdateRenderData(!0),this.descTxt._forceUpdateRenderData(!0),o=this.nameTxtPosX+this.nameTxt.node.width+this.labelSpace,a=80+this.nameTxt.node.width+this.descTxt.node.width+this.labelSpace,this.descTxt.node.setPosition(o,0,0),this.width=a,this.backTransform.width=a,this.isInitOver=!0,[2]}})})},e.prototype.update=function(t){this.isInitOver&&(this.nodePosX-=t*this.speed,this.node.setPosition(this.nodePosX,this.nodePosY),this.nodePosX<=-600-this.width&&(this.isInitOver=!1,this.onBulletMoveOutEvent.invok(),this.node.destroy(),s.Loger.logErr("[BulletScreen] destory")))},e=o([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../../Loger":"Loger","../../Utils/Action":"Action","../../Utils/Utils":"Utils"}],Config:[function(t,e,n){"use strict";cc._RF.push(e,"cd3b0qHCwdIkoH+wfEvKrQi","Config"),Object.defineProperty(n,"__esModule",{value:!0}),n.Config=void 0;var i=function(){function t(){}return Object.defineProperty(t,"version",{get:function(){return this.versions[this.gameID]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"gameType",{get:function(){return this.gameTypes[this.gameID]},enumerable:!1,configurable:!0}),t.versions=["20201104.1","20201027.1","20201104.1","20201104.1","20201021.1","20201104.1"],t.gameTypes=["qanda","guess","eyesight","redBag","wheel","shake"],t.gameID=0,t.avaUrl="https://wx.qlogo.cn/mmopen/vi_32/sibKHGaZz0uW64nbhL6VTBKtRiadtxtzwonghdu3z1IBAzg4FSymmYUDcFTsUdTBJv9QTqOVLzo5zJqbouGU9fXQ/132",t.avaUrls=["https://wx.qlogo.cn/mmopen/vi_32/sibKHGaZz0uW64nbhL6VTBKtRiadtxtzwonghdu3z1IBAzg4FSymmYUDcFTsUdTBJv9QTqOVLzo5zJqbouGU9fXQ/132","https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLxR2vGS5HHWxhUc9vXb2eF7gLPNFQvaM4oeKguf4OZTSKqrEgHGJRUkQYdLkSml7rlWMqTtlESAg/132","https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJZsiblhicDcENYX4icqGdzJzJxhUCy2rbtxKX1ia82qwZplH9g9TmA6Lg9TPyD2FQkWuVCFlQj63lmsw/132","https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIhseUSvPCfkkYGEwwCER1OI6yqX9w4s3osWmRnWHrMFtAsOWk839yEdicuWyuJ68ic5wnv595Ay09w/132","https://wx.qlogo.cn/mmopen/vi_32/H6iaU4sCz76lfq6iadR7r96WmRpmGMOFGecWSJaKanrDiaQByCDicd0ibibfhGsq54qeuGcqkjnLmZUaWUDTYicumJhbA/132","https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqSialic22eDfGEYr3ffYnMNOZKwrOk3LanAUWxmiaxV67M2JvuMTdhsSJ0989ACXODNic07yzjiaH1bsw/132"],t.debug=!1,t.sendLog=!1,t.saveLog=!1,t.debugByLog=!1,t}();n.Config=i,cc._RF.pop()},{}],EyesightAwardPanel:[function(t,e,n){"use strict";cc._RF.push(e,"e1dc1gtnrRIU5RZ1M8T5TCW","EyesightAwardPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scripts/UIs/Panels/AwardPanel"),r=t("../EyesightGameManager"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gradePic=null,e.gradeSpriteFrameList=new Array,e.grade=-1,e}return i(e,t),e.prototype.OnButtonEvent=function(){},e.prototype.show=function(e,n){t.prototype.show.call(this,e,n),this.OnShow(!0)},e.prototype.hide=function(){t.prototype.hide.call(this),this.OnShow(!1)},e.prototype.OnShow=function(t){t&&this.CheckGrade()},e.prototype.CheckGrade=function(){r.default.instance.totalWaveScore<=100?this.grade=0:r.default.instance.totalWaveScore<=300&&r.default.instance.totalWaveScore>100?this.grade=1:r.default.instance.totalWaveScore<=500&&r.default.instance.totalWaveScore>300?this.grade=2:r.default.instance.totalWaveScore<=800&&r.default.instance.totalWaveScore>500?this.grade=3:r.default.instance.totalWaveScore>=1e3&&(this.grade=4),this.gradePic.spriteFrame=this.gradeSpriteFrameList[this.grade]},o([u(cc.Sprite)],e.prototype,"gradePic",void 0),o([u(cc.SpriteFrame)],e.prototype,"gradeSpriteFrameList",void 0),e=o([c],e)}(a.default);n.default=l,cc._RF.pop()},{"../../../Scripts/UIs/Panels/AwardPanel":"AwardPanel","../EyesightGameManager":"EyesightGameManager"}],EyesightConfig:[function(t,e,n){"use strict";cc._RF.push(e,"2f837jF+TlDJrHUqaXNq34e","EyesightConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.EyesightConfig=void 0;var i=function(){function t(){}return t.configData={addScore:100,awardTotalScore:5e3,maxGameTimes:2,queData:[{heartNum:2,pic1:"http://storage.360buyimg.com/game-yanlibipin/01-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/01-2.jpg",differentNum:4,coordData:[{x:259,y:343,w:169,h:57},{x:255,y:261,w:61,h:61},{x:429,y:200,w:100,h:100},{x:189,y:210,w:57,h:57}]},{heartNum:3,pic1:"http://storage.360buyimg.com/game-yanlibipin/02-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/02-2.jpg",differentNum:6,coordData:[{x:94,y:149,w:100,h:100},{x:285,y:121,w:100,h:100},{x:255,y:246,w:100,h:100},{x:348,y:372,w:100,h:100},{x:384,y:300,w:47,h:47},{x:566,y:246,w:100,h:100}]},{heartNum:3,pic1:"http://storage.360buyimg.com/game-yanlibipin/03-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/03-2.jpg",differentNum:6,coordData:[{x:132,y:166,w:100,h:100},{x:310,y:201,w:65,h:65},{x:451,y:109,w:100,h:100},{x:410,y:261,w:82,h:82},{x:384,y:370,w:100,h:100},{x:371,y:169,w:40,h:40}]},{heartNum:3,pic1:"http://storage.360buyimg.com/game-yanlibipin/04-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/04-2.jpg",differentNum:6,coordData:[{x:154,y:344,w:100,h:100},{x:257,y:321,w:90,h:90},{x:285,y:203,w:100,h:100},{x:409,y:157,w:100,h:100},{x:546,y:127,w:100,h:100},{x:170,y:60,w:100,h:100}]},{heartNum:3,pic1:"http://storage.360buyimg.com/game-yanlibipin/05-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/05-2.jpg",differentNum:6,coordData:[{x:525,y:344,w:100,h:100},{x:109,y:254,w:100,h:100},{x:530,y:213,w:100,h:100},{x:273,y:150,w:75,h:75},{x:170,y:87,w:100,h:100},{x:575,y:76,w:100,h:100}]},{heartNum:2,pic1:"http://storage.360buyimg.com/game-yanlibipin/06-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/06-2.jpg",differentNum:5,coordData:[{x:135,y:327,w:100,h:100},{x:310,y:266,w:100,h:100},{x:97,y:152,w:100,h:100},{x:459,y:162,w:100,h:100},{x:608,y:163,w:100,h:100}]},{heartNum:2,pic1:"http://storage.360buyimg.com/game-yanlibipin/07-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/07-2.jpg",differentNum:4,coordData:[{x:249,y:279,w:70,h:70},{x:363,y:320,w:100,h:100},{x:216,y:122,w:146,h:213},{x:449,y:128,w:100,h:100}]},{heartNum:2,pic1:"http://storage.360buyimg.com/game-yanlibipin/08-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/08-2.jpg",differentNum:4,coordData:[{x:237,y:237,w:100,h:100},{x:39,y:35,w:100,h:100},{x:188,y:52,w:100,h:100},{x:506,y:117,w:144,h:228}]},{heartNum:2,pic1:"http://storage.360buyimg.com/game-yanlibipin/09-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/09-2.jpg",differentNum:4,coordData:[{x:427,y:359,w:169,h:120},{x:110,y:183,w:178,h:178},{x:466,y:232,w:203,h:118},{x:294,y:91,w:134,h:134}]},{heartNum:2,pic1:"http://storage.360buyimg.com/game-yanlibipin/10-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/10-2.jpg",differentNum:5,coordData:[{x:474,y:353,w:100,h:100},{x:229,y:178,w:100,h:100},{x:457,y:146,w:100,h:100},{x:49,y:71,w:100,h:100},{x:457,y:40,w:100,h:100}]},{heartNum:2,pic1:"http://storage.360buyimg.com/game-yanlibipin/11-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/11-2.jpg",differentNum:5,coordData:[{x:273,y:368,w:100,h:100},{x:577,y:362,w:100,h:100},{x:73,y:186,w:100,h:100},{x:250,y:224,w:100,h:100},{x:510,y:120,w:100,h:100}]},{heartNum:2,pic1:"http://storage.360buyimg.com/game-yanlibipin/12-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/12-2.jpg",differentNum:4,coordData:[{x:249,y:384,w:100,h:100},{x:568,y:328,w:100,h:100},{x:82,y:247,w:100,h:100},{x:460,y:144,w:100,h:100}]},{heartNum:2,pic1:"http://storage.360buyimg.com/game-yanlibipin/13-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/13-2.jpg",differentNum:4,coordData:[{x:85,y:161,w:150,h:150},{x:235,y:206,w:80,h:80},{x:339,y:228,w:100,h:100},{x:379,y:50,w:100,h:100}]},{heartNum:2,pic1:"http://storage.360buyimg.com/game-yanlibipin/14-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/14-2.jpg",differentNum:5,coordData:[{x:246,y:401,w:100,h:100},{x:319,y:261,w:100,h:100},{x:496,y:291,w:100,h:100},{x:588,y:124,w:100,h:100},{x:503,y:48,w:50,h:50}]},{heartNum:3,pic1:"http://storage.360buyimg.com/game-yanlibipin/15-1.jpg",pic2:"http://storage.360buyimg.com/game-yanlibipin/15-2.jpg",differentNum:5,coordData:[{x:199,y:215,w:100,h:100},{x:312,y:224,w:78,h:78},{x:365,y:46,w:110,h:110},{x:388,y:352,w:100,h:100},{x:508,y:196,w:100,h:100}]}]},t}();n.EyesightConfig=i,cc._RF.pop()},{}],EyesightGameMainPanel:[function(t,e,n){"use strict";cc._RF.push(e,"8c986g+QJBJH7zMDk40vMzG","EyesightGameMainPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scripts/Loger"),r=t("../../../Scripts/Utils/MessageManager"),s=t("../../../Scripts/Utils/Utils"),c=t("../EyesightGameManager"),u=t("../PicButton"),l=cc._decorator,p=l.ccclass,h=l.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreLabel=null,e.heartPic=null,e.gameDescLabel=null,e.pic1=null,e.pic2=null,e.breakHeart=null,e.defaultHeart=null,e.picButton=null,e.loadingpic=null,e.heartList=new Array,e.picButtonList=new Array,e}return i(e,t),e.prototype.getGameDesc=function(){return"<color=#fff45c>[\u53cc\u56fe\u627e\u832c]</c><color=#78909c>\u8bf7\u5728\u4e24\u5f20\u56fe\u7247\u4e2d\u627e\u51fa"+c.default.instance.currentWaveTotalRightCount+"\u5904\u4e0d\u540c("+c.default.instance.currentWaveRightCount+"/</color><color=#5ac417>"+c.default.instance.currentWaveTotalRightCount+"</color><color=#78909c>)</color>"},e.prototype.start=function(){},e.prototype.onDisable=function(){r.MessageManager.RemoveListener("wrongTouch",function(){},this),r.MessageManager.RemoveListener("resetHeart",function(){},this)},e.prototype.Show=function(){this.node.active=!0,this.OnShow(!0)},e.prototype.Hide=function(){this.node.active=!1,this.OnShow(!1)},e.prototype.OnShow=function(t){if(t){r.MessageManager.AddListener("wrongTouch",this.OnWrongTouch,this),r.MessageManager.AddListener("resetHeart",this.OnResetHeart,this),this.InstanceHeart(c.default.instance.currentQueData.heartNum),this.heartNum=c.default.instance.currentQueData.heartNum,this.scoreLabel.string=c.default.instance.currentWaveScore.toString(),s.loadImgByUrlWithDefaultSprit(this.pic1,c.default.instance.currentQueData.pic1,"png",this.loadingpic),s.loadImgByUrlWithDefaultSprit(this.pic2,c.default.instance.currentQueData.pic2,"png",this.loadingpic),a.Loger.log(this.pic1.spriteFrame.getOriginalSize()+" ====== "+this.pic1.node.getContentSize());var e=this.pic1.node.getContentSize().width/this.pic1.spriteFrame.getOriginalSize().width;this.InstancePicButton(c.default.instance.currentQueData.coordData,e)}},e.prototype.InstanceHeart=function(t){this.ClearHeartList(),this.heartPic.spriteFrame=this.defaultHeart,this.heartList.push(this.heartPic);for(var e=0;e<t-1;e++){var n=cc.instantiate(this.heartPic.node).getComponent(cc.Sprite);n.node.setParent(this.heartPic.node.parent),n.spriteFrame=this.defaultHeart,this.heartList.push(n)}},e.prototype.ClearHeartList=function(){for(var t=1;t<this.heartList.length;t++)this.heartList[t].node.destroy();this.heartList.splice(0)},e.prototype.InstancePicButton=function(t,e){a.Loger.log("coorData : ",t),this.ClearPicButton(),c.default.instance.currentWaveTotalRightCount=t.length,this.gameDescLabel.string=this.getGameDesc();for(var n=0;n<t.length;n++){var i=cc.instantiate(this.picButton.node).getComponent(u.default),o=cc.instantiate(this.picButton.node).getComponent(u.default);i.node.setParent(this.pic1.node),o.node.setParent(this.pic2.node),i.Init(t[n].x,t[n].y,t[n].w,t[n].h,o,e),o.Init(t[n].x,t[n].y,t[n].w,t[n].h,i,e),this.picButtonList.push(i),this.picButtonList.push(o);for(var r=0;r<c.default.instance.currentWaveButtonXList.length;r++)if(t[n].x==c.default.instance.currentWaveButtonXList[r]){i.Clicked();break}}},e.prototype.ClearPicButton=function(){for(var t=0;t<this.picButtonList.length;t++)this.picButtonList[t].node.destroy();this.picButtonList.splice(0)},e.prototype.OnPicButtonEvnet=function(){c.default.instance.currentWaveRightCount++,r.MessageManager.DoListen("rightTouch"),this.scoreLabel.string=c.default.instance.currentWaveScore.toString(),this.gameDescLabel.string=this.getGameDesc(),c.default.instance.currentWaveRightCount>=c.default.instance.currentWaveTotalRightCount&&c.default.instance.WaveOver()},e.prototype.OnWrongTouch=function(){c.default.instance.OnWrongTouch(),this.heartNum--,this.heartList[this.heartNum].spriteFrame=this.breakHeart,this.heartNum<=0&&c.default.instance.WaveOver(),r.MessageManager.DoListen("sendData")},e.prototype.OnResetHeart=function(t,e){if(!(e>=this.heartNum))for(var n=this.heartNum-e;n;)n--,this.heartNum--,this.heartList[this.heartNum].spriteFrame=this.breakHeart},o([h(cc.Label)],e.prototype,"scoreLabel",void 0),o([h(cc.Sprite)],e.prototype,"heartPic",void 0),o([h(cc.RichText)],e.prototype,"gameDescLabel",void 0),o([h(cc.Sprite)],e.prototype,"pic1",void 0),o([h(cc.Sprite)],e.prototype,"pic2",void 0),o([h(cc.SpriteFrame)],e.prototype,"breakHeart",void 0),o([h(cc.SpriteFrame)],e.prototype,"defaultHeart",void 0),o([h(u.default)],e.prototype,"picButton",void 0),o([h(cc.SpriteFrame)],e.prototype,"loadingpic",void 0),e=o([p],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Scripts/Loger":"Loger","../../../Scripts/Utils/MessageManager":"MessageManager","../../../Scripts/Utils/Utils":"Utils","../EyesightGameManager":"EyesightGameManager","../PicButton":"PicButton"}],EyesightGameManager:[function(t,e,n){"use strict";cc._RF.push(e,"c3cdawPc3lAAIaACwQ+4lmt","EyesightGameManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/Config/Config"),r=t("../../Scripts/GameManager"),s=t("../../Scripts/Loger"),c=t("../../Scripts/Network"),u=t("../../Scripts/Utils/MessageManager"),l=t("../../Scripts/Utils/Utils"),p=t("./EyesightConfig"),h=t("./EyesightUIManager"),g=cc._decorator,d=g.ccclass,f=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioClips=new Array,e.audioSource=null,e.currentWaveTotalRightCount=0,e.currentWaveRightCount=0,e.currentWaveWrongCount=0,e.currentWaveButtonXList=new Array,e.currentWaveScore=0,e.totalWaveScore=0,e.queDataIndex=0,e.isResetStart=!1,e.playTimes=0,e.gameData={playTimes:0,score:0,heartNum:0,totalScore:0,buttones:[],queDataIndex:0,randomSeed:0,rightCount:0,wrongCount:0},e}var n;return i(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.initGameID=function(){a.Config.gameID=2},e.prototype.onLoad=function(){n._instance=this,t.prototype.onLoad.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.start=function(){this.totalWaveScore=0,u.MessageManager.AddListener("rightTouch",this.OnRightTouch,this),u.MessageManager.AddListener("sendData",this.SendGameData,this),this.bgAudioSource=this.getComponent(cc.AudioSource),this.bgAudioSource.loop=!0,this.bgAudioSource.play()},e.prototype.updateGameData=function(e){t.prototype.updateGameData.call(this,e),e.hasOwnProperty("totalScore")?this.gameData=e:this.gameData.heartNum=0},e.prototype.updateGameConfig=function(e){if(t.prototype.updateGameConfig.call(this,e),p.EyesightConfig.configData=e,this.gameConfigData=p.EyesightConfig.configData,s.Loger.log("gameConfigData :",this.gameConfigData),this.gameData.hasOwnProperty("totalScore")&&this.gameData.totalScore<this.gameConfigData.awardTotalScore&&this.gameData.heartNum>0?(s.Loger.log("\u91cd\u7f6e\u6570\u636e : ",this.gameData),this.isResetStart=!0,this.ResetGameData()):(this.gameData.hasOwnProperty("playTimes")?this.playTimes=this.gameData.playTimes:this.playTimes=0,this.playTimes++,this.isResetStart=!1,l.RandomTool.SetRandomSeed()),this.playTimes>this.gameConfigData.maxGameTimes)return s.Loger.log("[QAManager] Max Game Time"),void this.msgPanel.showMessage("\u5df2\u8d85\u8fc7\u5f53\u524d\u6700\u5927\u53ef\u73a9\u6b21\u6570\uff01");l.ShuffleArrayListWithSeed(this.gameConfigData.queData);var n=this.gameConfigData.queData[this.queDataIndex];this.StartGame(n)},e.prototype.ResetGameData=function(){l.RandomTool.seed=this.gameData.randomSeed,this.queDataIndex=this.gameData.queDataIndex,this.currentWaveRightCount=this.gameData.rightCount,this.currentWaveWrongCount=this.gameData.wrongCount,this.currentWaveScore=this.gameData.score,this.totalWaveScore=this.gameData.totalScore,this.heartNum=this.gameData.heartNum,this.playTimes=this.gameData.playTimes;for(var t=0;t<this.gameData.buttones.length;t++)this.currentWaveButtonXList.push(this.gameData.buttones[t])},e.prototype.StartGame=function(t){s.Loger.log("start Game queData : ",t),this.currentQueData=t,this.isResetStart?this.currentWaveRightCount>=this.currentQueData.coordData.length?(h.default.Instance.ShowPanel(h.PanelType.MAIN),h.default.Instance.ShowPanel(h.PanelType.RESULT)):h.default.Instance.ShowPanel(h.PanelType.MAIN):(this.heartNum=this.currentQueData.heartNum,this.currentWaveScore=0,h.default.Instance.ShowPanel(h.PanelType.MAIN)),u.MessageManager.DoListen("resetHeart",this.heartNum)},e.prototype.NextWave=function(){this.currentWaveButtonXList.splice(0),this.currentWaveRightCount=0,this.currentWaveWrongCount=0,this.currentWaveScore=0,this.queDataIndex++,this.queDataIndex>=this.gameConfigData.queData.length&&(l.RandomTool.SetRandomSeed(),l.ShuffleArrayListWithSeed(this.gameConfigData.queData),this.queDataIndex=0),this.SendGameData();var t=this.gameConfigData.queData[this.queDataIndex];this.heartNum=t.heartNum,this.StartGame(t),this.bgAudioSource.loop=!0,this.bgAudioSource.play()},e.prototype.WaveOver=function(){if(this.heartNum<=0)return h.default.Instance.CloseAllPanel(),void this.gameOver();this.totalWaveScore+=this.currentWaveScore,h.default.Instance.ShowPanel(h.PanelType.RESULT)},e.prototype.GetAward=function(){var t=this;s.Loger.log("Game Over ! "+this.totalWaveScore),c.default.getAwardData(function(e){t.showResult(e)},this.totalWaveScore)},e.prototype.OnRightTouch=function(){this.PlayAudio(0),this.currentWaveScore+=100*this.currentWaveRightCount,this.currentWaveRightCount>=this.currentWaveTotalRightCount&&(this.currentWaveScore+=100*this.heartNum*this.heartNum)},e.prototype.OnWrongTouch=function(){this.PlayAudio(1),this.currentWaveWrongCount++,this.heartNum--},e.prototype.onDestroy=function(){this.Finish()},e.prototype.onDisable=function(){this.Finish()},e.prototype.Finish=function(){u.MessageManager.RemoveListener("rightTouch",function(){},this),u.MessageManager.RemoveListener("sendData",function(){},this)},e.prototype.PlayAudio=function(t){this.audioSource&&t<this.audioClips.length&&(this.audioSource.clip=this.audioClips[t],this.audioSource.play())},e.prototype.SendGameData=function(){this.gameData.playTimes=this.playTimes,this.gameData.heartNum=this.heartNum,this.gameData.queDataIndex=this.queDataIndex,s.Loger.logErr("send data seed : "+l.RandomTool.seed),this.gameData.randomSeed=l.RandomTool.seed,this.gameData.rightCount=this.currentWaveRightCount,this.gameData.wrongCount=this.currentWaveWrongCount,this.gameData.score=this.currentWaveScore,this.gameData.totalScore=this.totalWaveScore,this.gameData.buttones.splice(0);for(var t=0;t<this.currentWaveButtonXList.length;t++)this.gameData.buttones.push(this.currentWaveButtonXList[t]);c.default.setMessage(function(t){return s.Loger.log("pushMessage",t)},JSON.stringify(this.gameData))},e.prototype.ClearGameData=function(){c.default.setMessage(function(t){return s.Loger.log("pushMessage",t)},JSON.stringify({}))},o([f(cc.AudioClip)],e.prototype,"audioClips",void 0),o([f(cc.AudioSource)],e.prototype,"audioSource",void 0),e=n=o([d],e)}(r.default);n.default=m,cc._RF.pop()},{"../../Scripts/Config/Config":"Config","../../Scripts/GameManager":"GameManager","../../Scripts/Loger":"Loger","../../Scripts/Network":"Network","../../Scripts/Utils/MessageManager":"MessageManager","../../Scripts/Utils/Utils":"Utils","./EyesightConfig":"EyesightConfig","./EyesightUIManager":"EyesightUIManager"}],EyesightResultPanel:[function(t,e,n){"use strict";cc._RF.push(e,"5d156lXGrFHJ41l5C6K5mja","EyesightResultPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../EyesightGameManager"),r=cc._decorator,s=r.ccclass,c=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.theQueScore=null,e.rightQueNum=null,e.wrongQueNum=null,e.awardPic=null,e.needScore=null,e.totalScore=null,e.buttonLabel=null,e.isNexteWave=!0,e}return i(e,t),e.prototype.start=function(){},e.prototype.OnButtonEvent=function(){this.isNexteWave?a.default.instance.NextWave():a.default.instance.GetAward()},e.prototype.Show=function(){this.node.active=!0,this.OnShow(!0)},e.prototype.Hide=function(){this.node.active=!1,this.OnShow(!1)},e.prototype.OnShow=function(t){if(t){this.rightQueNum.string=a.default.instance.currentWaveRightCount+"/"+a.default.instance.currentWaveTotalRightCount,this.wrongQueNum.string=a.default.instance.currentWaveWrongCount+"/"+a.default.instance.currentWaveTotalRightCount,this.theQueScore.string="\u672c\u9898\u5f97\u5206"+a.default.instance.currentWaveScore;var e=a.default.instance.gameConfigData.awardTotalScore-a.default.instance.totalWaveScore;this.needScore.string="\u9886\u5956\u8fd8\u9700:"+(e<0?0:e)+"\u5206",this.totalScore.string="\u603b\u5206:"+a.default.instance.totalWaveScore,this.isNexteWave=a.default.instance.totalWaveScore<a.default.instance.gameConfigData.awardTotalScore,this.buttonLabel.string=this.isNexteWave?"\u7ee7\u7eed\u7b54\u9898":"\u9886\u53d6\u5956\u52b1"}},o([c(cc.Label)],e.prototype,"theQueScore",void 0),o([c(cc.Label)],e.prototype,"rightQueNum",void 0),o([c(cc.Label)],e.prototype,"wrongQueNum",void 0),o([c(cc.Sprite)],e.prototype,"awardPic",void 0),o([c(cc.Label)],e.prototype,"needScore",void 0),o([c(cc.Label)],e.prototype,"totalScore",void 0),o([c(cc.Label)],e.prototype,"buttonLabel",void 0),e=o([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../EyesightGameManager":"EyesightGameManager"}],EyesightUIManager:[function(t,e,n){"use strict";cc._RF.push(e,"bced2VSYG9EC63hScyQ+UUg","EyesightUIManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PanelType=void 0;var a,r=t("./Panel/EyesightGameMainPanel"),s=t("./Panel/EyesightResultPanel"),c=cc._decorator,u=c.ccclass;c.property;(function(t){t[t.MAIN=0]="MAIN",t[t.RESULT=1]="RESULT",t[t.AWARD=2]="AWARD"})(a=n.PanelType||(n.PanelType={}));var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return i(e,t),n=e,Object.defineProperty(e,"Instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){n._instance=this,this.mainPanel=cc.find("/Canvas/GameMainPanel").getComponent(r.default),this.resultPanel=cc.find("/Canvas/ResultPanel").getComponent(s.default),this.Init()},e.prototype.start=function(){},e.prototype.Init=function(){},e.prototype.CloseAllPanel=function(){this.mainPanel.Hide(),this.resultPanel.Hide()},e.prototype.ShowPanel=function(t,e){t==a.MAIN?(this.CloseAllPanel(),this.mainPanel.Show()):t==a.RESULT&&this.resultPanel.Show()},e=n=o([u],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./Panel/EyesightGameMainPanel":"EyesightGameMainPanel","./Panel/EyesightResultPanel":"EyesightResultPanel"}],FieldPanel:[function(t,e,n){"use strict";cc._RF.push(e,"73794XbXRVMB6SY3UIpCmio","FieldPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Utils/Utils"),r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.msgTxt=null,e.deviceID=null,e}return i(e,t),e.prototype.onLoad=function(){this.msgTxt=this.node.getChildByName("New Label").getComponent(cc.Label)},e.prototype.show=function(t){this.deviceID=t,this.node.active=!0},e.prototype.setMessage=function(t){this.msgTxt&&(this.msgTxt.string=t)},e.prototype.Hide=function(){this.node.active=!1},e.prototype.onJoinGameClick=function(){a.wxBackToJoinGame(this.deviceID)},e=o([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{"../../Utils/Utils":"Utils"}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"9a0c3FAz9JBRrfTsaftz2Ea","GameManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GameState=void 0;var a,r=t("./AudioManager"),s=t("./Config/Config"),c=t("./Loger"),u=t("./Network"),l=t("./SkinManager"),p=t("./UIs/Panels/AwardPanel"),h=t("./UIs/Panels/FieldPanel"),g=t("./UIs/Panels/MessagePanel"),d=t("./UIs/Widget/BulletScreen"),f=t("./UploadLoger"),m=t("./Utils/MessageManager"),y=t("./Utils/Utils"),v=cc._decorator,w=v.ccclass,S=v.property;(function(t){t[t.Null=0]="Null",t[t.Init=1]="Init",t[t.Start=2]="Start",t[t.Gameing=3]="Gameing",t[t.End=4]="End"})(a=n.GameState||(n.GameState={}));var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameState=a.Null,e.isScreen=!1,e.getBulletInterval=2,e.awardPool=new Array,e.awardPanel=null,e.msgPanel=null,e.bulletScreenPb=null,e.fieldPanel=null,e.countDownAnim=null,e.audioSource=null,e.netaddrs=new Map,e.joinBulletIDs=new Map,e.awardsBulletIDs=new Map,e}var n;return i(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.__preload=function(){c.Loger.log("[GameManager] pLoad"),n._instance=this,this.initGameID(),this.netaddrs.set("1","https://mossp.jd.com/game_web_pre/"),this.netaddrs.set("2","https://mossp.jd.com/game_web/"),this.token=y.getQueryString("token"),this.uid=y.getQueryString("uid"),this.sheetId=parseInt(y.getQueryString("sheetId")),this.urlType=y.getQueryString("urlType"),this.deviceID=y.getQueryString(this.isScreen?"mac":"deviceId"),null==this.urlType&&(this.uid="5f55f607f1f8ed54a56eb422",this.sheetId=481,this.token="42720b316da8d1fb6f8528d93c037a9e",this.urlType="1",this.deviceID=y.getScreenMac());var t=this.urlType?this.netaddrs.get(this.urlType):"http://127.0.0.1:8070";c.Loger.log("token: "+this.token),c.Loger.log("uid: "+this.uid),c.Loger.log("sheetId: "+this.sheetId),c.Loger.log("urlType: "+this.urlType),c.Loger.log("deviceID: "+this.deviceID),this.startGameTimeStamp=(new Date).getTime(),u.default.init(t,this.deviceID,this.token),f.UploadLoger.init(this.urlType),this.node.addComponent(l.default),this.addVersionLabel()},e.prototype.initGameID=function(){s.Config.gameID=0},e.prototype.onLoad=function(){this.isScreen?(this.countDownAnim=cc.find("/Canvas/BigScreenPanel/countDown").getComponent(cc.Animation),this.audioSource=this.getComponent(cc.AudioSource)):(this.awardPanel=cc.find("/Canvas/AwardPanel").getComponent(p.default),this.msgPanel=cc.find("/Canvas/MessagePanel").getComponent(g.MessagePanel),this.bulletScreenPb=cc.find("/Canvas/BulletScreenRoot/BulletScreen"),this.fieldPanel=cc.find("/Canvas/FieldPanel").getComponent(h.default)),this.init()},e.prototype.update=function(t){this.gameState>=a.Start&&(this.getBulletInterval-=t,this.getBulletInterval<=0&&(this.getBullet(),this.getBulletInterval=4))},e.prototype.init=function(){var t=this;c.Loger.log("[GameManager] init!"),this.gameState=a.Init,m.MessageManager.AddListener("ShowTipsMessage",function(e,n,i,o){t.isScreen?c.Loger.logErr("get message : "+n):t.msgPanel.showMessage(n,i,o)},this),this.isScreen?(this.countDownAnim.play(),this.audioSource&&r.AudioManager.instance&&r.AudioManager.instance.play(this.audioSource,r.BigScreenAudioClipType.CountDown,r.BigScreenAudioClipType),this.scheduleOnce(function(){u.default.screenShakeGetInitInfo(t.updateScreenInitInfo.bind(t),t.sheetId)},4)):this.GetGameCongigInfo()},e.prototype.GetGameCongigInfo=function(){u.default.getGameConfig(this.updateGameInfos.bind(this),this.sheetId)},e.prototype.updateScreenInitInfo=function(t){c.Loger.log("[GameManager] updateScreenInitInfo",t),this.gameState=a.Start,t.conf&&this.updateGameConfig(JSON.parse(t.conf)),t.awards&&this.updateAwardPool(JSON.parse(t.awards))},e.prototype.updateGameInfos=function(t){c.Loger.log("[GameManager] updateGameInfos",t),this.gameState=a.Start;var e,n=t;n.conf&&(e=JSON.parse(n.conf)),n.data&&this.updateGameData(JSON.parse(n.data)),n.awards&&this.updateAwardPool(JSON.parse(n.awards)),e&&this.updateGameConfig(e),e.skin&&this.updateGameSkin(e.skin)},e.prototype.updateGameData=function(t){c.Loger.log("[GameManager] GameData",t),t&&(this.gameData=t)},e.prototype.updateAwardPool=function(t){c.Loger.log("[GameManager] AwardPool",t)},e.prototype.updateGameConfig=function(t){c.Loger.log("[GameManager] GameConfig",t),this.gameState=a.Gameing},e.prototype.updateGameSkin=function(t){c.Loger.log("[GameManager] GameSkin",t),l.default.instance.onReceiveSkinData(t)},e.prototype.showResult=function(t){c.Loger.log("[GameManager] showResult",t),this.gameState=a.End,this.isScreen||f.UploadLoger.uploadGameTime(this.uid,this.deviceID,(new Date).getTime()-this.startGameTimeStamp),t?this.awardPanel.show(t.imgApp,t.couponName,this.deviceID):this.awardPanel.showNoAward(this.deviceID)},e.prototype.gameOver=function(){this.gameState=a.End,this.fieldPanel||(this.fieldPanel=cc.find("/Canvas/FieldPanel").getComponent(h.default)),this.fieldPanel.show(this.deviceID),u.default.getAwardData(function(t){c.Loger.log("gameOver getAwardData send Fialed 1 : ",t)},0,1)},e.prototype.addVersionLabel=function(){var t=new cc.Node;t.color=cc.Color.BLACK,t.parent=this.node,t.anchorX=0,t.setPosition(-520,-940),t.setScale(.5,.5);var e=t.addComponent(cc.Widget);e.isAbsoluteBottom=!0,e.isAbsoluteLeft=!0,e.bottom=0,e.left=0,e.updateAlignment();var n="v"+s.Config.version;this.urlType?"1"===this.urlType?n+="_debug":"2"===this.urlType&&(n+="_online"):n+="_local",t.addComponent(cc.Label).string=n},e.prototype.getBullet=function(){var t=this;u.default.getBulletScreen(function(e){e.forEach(function(e){e.awardName&&e.awardName.length>0?t.pushBulletScreen(e.userId,e.avatarUrl,e.nickName,"\u83b7\u5f97\u4e86"+e.awardName):t.pushBulletScreen(e.userId,e.avatarUrl,e.nickName,"\u52a0\u5165\u4e86\u6e38\u620f")})})},e.prototype.pushBulletScreen=function(t,e,n,i){if("\u52a0\u5165\u4e86\u6e38\u620f"===i){if(this.joinBulletIDs.has(t))return;this.joinBulletIDs.set(t,!0)}else{if(this.awardsBulletIDs.has(t))return;this.awardsBulletIDs.set(t,!0)}var o=cc.instantiate(this.bulletScreenPb);o.parent=this.bulletScreenPb.parent,o.setPosition(650,y.RandomRange(550,780,!1)),o.active=!0,o.getComponent(d.default).init(e,n,i)},o([S(cc.Boolean)],e.prototype,"isScreen",void 0),e=n=o([w],e)}(cc.Component);n.default=_,cc._RF.pop()},{"./AudioManager":"AudioManager","./Config/Config":"Config","./Loger":"Loger","./Network":"Network","./SkinManager":"SkinManager","./UIs/Panels/AwardPanel":"AwardPanel","./UIs/Panels/FieldPanel":"FieldPanel","./UIs/Panels/MessagePanel":"MessagePanel","./UIs/Widget/BulletScreen":"BulletScreen","./UploadLoger":"UploadLoger","./Utils/MessageManager":"MessageManager","./Utils/Utils":"Utils"}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"d8b61V4N75NzqSWOOl4JJaO","Game");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/Config/Config"),r=t("../../Scripts/GameManager"),s=t("../../Scripts/Loger"),c=t("../../Scripts/Network"),u=t("../../Scripts/Utils/Utils"),l=t("./SpawnBirdManager"),p=cc._decorator,h=p.ccclass,g=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panels=new Array,e.timeLabel=null,e.startButton=null,e.gameDesc=null,e.isBoom=!1,e.isStart=!1,e.spawnTime=.5,e.gameTime=60,e.waitTime=5,e.isClear=!1,e.playTimes=0,e.isGameOver=0,e.gameTotalTime=0,e.gameData={playTimes:0},e}return i(e,t),e.prototype.initGameID=function(){a.Config.gameID=3},e.prototype.onLoad=function(){this.bgAudioSource=this.getComponent(cc.AudioSource),this.bgAudioSource.loop=!0,this.bgAudioSource.play(),this.startButton.interactable=!1,t.prototype.onLoad.call(this)},e.prototype.updateGameData=function(e){t.prototype.updateGameData.call(this,e),this.gameData=e},e.prototype.updateGameConfig=function(e){t.prototype.updateGameConfig.call(this,e);var n=e;this.gameTotalTime=n.gameTime,this.gameData&&this.gameData.hasOwnProperty("playTimes")?this.playTimes=this.gameData.playTimes:this.playTimes=0,this.playTimes++,s.Loger.logErr("playTimes : "+this.playTimes),this.localGiftCount=0;var i=0;if(n.gameDesc){var o=n.gameDesc;this.gameDesc.string=o.replace("n","\n")}if(i=n.chance?n.chance:8,this.totalGiftCount=u.RandomRange(i-1,i+1,!0),this.SendGameData(),n.gameTime&&(this.gameTime=n.gameTime),this.gameInit(),this.playTimes>n.maxGameTimes)return s.Loger.log("[QAManager] Max Game Time"),void this.msgPanel.showMessage("\u5df2\u8d85\u8fc7\u5f53\u524d\u6700\u5927\u53ef\u73a9\u6b21\u6570\uff01");s.Loger.log("total count : "+this.totalGiftCount),s.Loger.log("local gift count : "+this.localGiftCount),this.startButton.interactable=!0},e.prototype.gameInit=function(){this.isStart=!1},e.prototype.update=function(e){t.prototype.update.call(this,e),this.isStart&&(this.timeLabel.string=this.numToTime(this.gameTime),this.isBoom?(this.isClear||(this.isClear=!0,this.spawnTime=.5,l.default.instance.ClearBird()),this.waitTime-=e,this.waitTime<=0&&(this.waitTime=5,this.isClear=!1,this.isBoom=!1)):(this.spawnTime-=e,this.spawnTime<=0&&(this.spawnTime=.5,l.default.instance.SpawnBird())),this.gameTime-=e,this.gameTime<=0?(this.gameTime=this.gameTotalTime,this.RedBagGameOver(!1)):this.localGiftCount>=this.totalGiftCount&&(this.localGiftCount=0,this.isStart=!1,this.RedBagGameOver(!0)))},e.prototype.numToTime=function(t){var e=Math.round(t),n=Math.floor(e/60);return e-=60*n,("0"+n).slice(-2)+":"+("0"+e).slice(-2)},e.prototype.RedBagGameOver=function(t){var e=this;this.isStart=!1,this.panels[1].active=!1,t?c.default.getAwardData(function(t){e.showResult(t)},100):this.gameOver()},e.prototype.StartGame=function(){this.isStart=!0,this.panels[0].active=!1,this.panels[1].active=!0},e.prototype.BackToTickes=function(){u.wxBackToTickets()},e.prototype.BackToHome=function(){u.wxBackToHome()},e.prototype.SendGameData=function(){this.gameData.playTimes=this.playTimes,c.default.setMessage(function(t){return s.Loger.log("pushMessage",t)},JSON.stringify(this.gameData))},e.prototype.ClearGameData=function(){c.default.setMessage(function(t){return s.Loger.log("pushMessage",t)},JSON.stringify({}))},o([g(cc.Node)],e.prototype,"panels",void 0),o([g(cc.Label)],e.prototype,"timeLabel",void 0),o([g(cc.Button)],e.prototype,"startButton",void 0),o([g(cc.Label)],e.prototype,"gameDesc",void 0),e=o([h],e)}(r.default);n.default=d,cc._RF.pop()},{"../../Scripts/Config/Config":"Config","../../Scripts/GameManager":"GameManager","../../Scripts/Loger":"Loger","../../Scripts/Network":"Network","../../Scripts/Utils/Utils":"Utils","./SpawnBirdManager":"SpawnBirdManager"}],GetAwardUsersData:[function(t,e,n){"use strict";cc._RF.push(e,"9b84aLmkrxNVYYK4Mdd+rTa","GetAwardUsersData");var i=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},o=this&&this.__awaiter||function(t,e,n,i){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,a){function r(t){try{c(i.next(t))}catch(t){a(t)}}function s(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){t.done?n(t.value):o(t.value).then(r,s)}c((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,o,a,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,i=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(6===a[0]&&r.label<o[1]){r.label=o[1],o=a;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(a);break}o[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GetAwardUsersData=void 0;var r=t("../../Scripts/Utils/Utils"),s=cc._decorator,c=s.ccclass,u=(s.property,function(){function t(t,e,n,i){this.awardUrl=t,this.awardName=e,this.avaUrl=n,this.userName=i,this.defaultAwardUrl="https://storage.360buyimg.com/aiad-coupon-private/pre/couponImg/b5ca979a9fc03770118e0923414b761c.jpg?Expires=1603704853&AccessKey=yxOSt9fpJF1ExsS6&Signature=oMZVZnGtWrfDlYTsXgE6FbqrLV0%3D",this.loadSpritF()}return t.prototype.loadSpritF=function(){return o(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return t=this,[4,r.loadSpriteByUrl(this.awardUrl?this.awardUrl:this.defaultAwardUrl,"png")];case 1:return t.awardSpriteFrame=n.sent(),e=this,[4,r.loadSpriteByUrl(this.avaUrl,"png")];case 2:return e.avaSpriteFrame=n.sent(),[2]}})})},t=i([c],t)}());n.GetAwardUsersData=u,cc._RF.pop()},{"../../Scripts/Utils/Utils":"Utils"}],GuessConfig:[function(t,e,n){"use strict";cc._RF.push(e,"ddb28vmQphJDYrsSD7YqUPF","GuessConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.GuessConfig=void 0;var i=function(){function t(){}return t.gameConfig={maxGameTimes:10,timer:60,desc:"\u731c\u4ef7\u683c\u6d3b\u52a8\u63cf\u8ff0",awardName:"awardName",imgUrl:"https://wx.qlogo.cn/mmopen/vi_32/sibKHGaZz0uW64nbhL6VTBKtRiadtxtzwonghdu3z1IBAzg4FSymmYUDcFTsUdTBJv9QTqOVLzo5zJqbouGU9fXQ/132",orgPrice:9999,realPrice:101,minPrice:100,maxPrice:6e3},t}();n.GuessConfig=i,cc._RF.pop()},{}],GuessManager:[function(t,e,n){"use strict";cc._RF.push(e,"591d0HX6EZNa7ygIer3i9/G","GuessManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/Config/Config"),r=t("../../Scripts/GameManager"),s=t("../../Scripts/Loger"),c=t("../../Scripts/Network"),u=t("../../Scripts/UIs/Panels/TeachPanel"),l=t("../../Scripts/Utils/Utils"),p=t("./Config/GuessConfig"),h=t("./UIs/Widget/PriceInputs"),g=t("./UIs/Widget/PriceSection"),d=cc._decorator,f=d.ccclass,m=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timer=0,e.gameData={times:0,preMinPrice:0,preMaxPrice:0,win:!1},e}return i(e,t),e.prototype.onLoad=function(){this.awardImg=cc.find("Canvas/MainPanel/AwardImg").getComponent(cc.Sprite),this.awardName=cc.find("Canvas/MainPanel/AwardName").getComponent(cc.Label),this.orgPrice=cc.find("Canvas/MainPanel/OrgPrice").getComponent(cc.Label),this.descTxt=cc.find("Canvas/MainPanel/DescTxt").getComponent(cc.Label),this.countDownProccess=cc.find("Canvas/MainPanel/CountdownBar/Proccess").getComponent(cc.Sprite),this.countDownTxt=cc.find("Canvas/MainPanel/CountdownBar/CountdownTxt").getComponent(cc.Label),this.priceSection=cc.find("Canvas/MainPanel/PriceSection").getComponent(g.default),this.priceInput=cc.find("Canvas/MainPanel/PriceInputs").getComponent(h.default),this.teachPanel=cc.find("Canvas/TeachPanel").getComponent(u.default),this.inputBlock=cc.find("Canvas/MainPanel/InputBlock").getComponent(cc.BlockInputEvents),this.teachPanel.showDesc(null),this.inputBlock.enabled=!0,t.prototype.onLoad.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e),this.gameState==r.GameState.Gameing&&(this.timer-=e,this.countDownTxt.string=Math.ceil(this.timer).toString(),this.countDownProccess.fillRange=this.timer/p.GuessConfig.gameConfig.timer,this.timer<=0&&(this.gameOver(),this.inputBlock.enabled=!1,this.fieldPanel.setMessage("\u65f6\u95f4\u5230!")))},e.prototype.initGameID=function(){a.Config.gameID=1},e.prototype.updateGameConfig=function(t){return s.Loger.log("[GuessManager] GameConfig",t),p.GuessConfig.gameConfig=t,l.loadImgByUrl(this.awardImg,p.GuessConfig.gameConfig.imgUrl,"jpg"),this.descTxt.string=p.GuessConfig.gameConfig.desc,this.orgPrice.string="\u539f\u4ef7\uff1a"+p.GuessConfig.gameConfig.orgPrice,this.awardName.string=p.GuessConfig.gameConfig.awardName,this.priceSection.init(p.GuessConfig.gameConfig.minPrice,p.GuessConfig.gameConfig.maxPrice),0==this.gameData.preMinPrice&&0==this.gameData.preMaxPrice&&(this.gameData.preMinPrice=p.GuessConfig.gameConfig.minPrice,this.gameData.preMaxPrice=p.GuessConfig.gameConfig.maxPrice),this.timer=p.GuessConfig.gameConfig.timer,this.addGameTimes(),this.priceSection.setSection(this.gameData.preMinPrice,this.gameData.preMaxPrice),this.priceInput.setPriceDigit(p.GuessConfig.gameConfig.maxPrice.toString().length),this.gameData.win?(s.Loger.log("[GuessManager] already win"),this.msgPanel.showMessage("\u60a8\u5df2\u7ecf\u731c\u4e2d\u8fc7\u672c\u5546\u54c1\uff0c\u8bf7\u5728\u5238\u5305\u67e5\u770b\u5956\u54c1"),void(this.teachPanel.startBtn.interactable=!1)):this.gameData.times>p.GuessConfig.gameConfig.maxGameTimes?(s.Loger.log("[GuessManager] Max Game Time"),this.msgPanel.showMessage("\u5df2\u8d85\u8fc7\u5f53\u524d\u6700\u5927\u53ef\u73a9\u6b21\u6570\uff01"),void(this.teachPanel.startBtn.interactable=!1)):void 0},e.prototype.onStartClick=function(){this.gameState=r.GameState.Gameing,this.inputBlock.enabled=!1},e.prototype.onInputBtnClick=function(){var t=this,e=this.priceInput.getInputPrice();e==p.GuessConfig.gameConfig.realPrice?(s.Loger.log("Right!!!"),this.gameData.win=!0,c.default.getAwardData(function(e){t.showResult(e)},100)):e<p.GuessConfig.gameConfig.realPrice?(s.Loger.log("Low!!!"),this.gameOver(),this.fieldPanel.setMessage("\u4f60\u731c\u7684\u4ef7\u683c\u4f4e\u4e86!"),e>this.gameData.preMinPrice&&(this.gameData.preMinPrice=e)):e>p.GuessConfig.gameConfig.realPrice&&(s.Loger.log("High!!!"),this.gameOver(),this.fieldPanel.setMessage("\u4f60\u731c\u7684\u4ef7\u683c\u9ad8\u4e86!"),e<this.gameData.preMaxPrice&&(this.gameData.preMaxPrice=e)),c.default.setMessage(null,JSON.stringify(this.gameData)),this.inputBlock.enabled=!0},e.prototype.addGameTimes=function(){this.gameData.times++,c.default.setMessage(null,JSON.stringify(this.gameData))},e=o([f],e)}(r.default));n.default=m,cc._RF.pop()},{"../../Scripts/Config/Config":"Config","../../Scripts/GameManager":"GameManager","../../Scripts/Loger":"Loger","../../Scripts/Network":"Network","../../Scripts/UIs/Panels/TeachPanel":"TeachPanel","../../Scripts/Utils/Utils":"Utils","./Config/GuessConfig":"GuessConfig","./UIs/Widget/PriceInputs":"PriceInputs","./UIs/Widget/PriceSection":"PriceSection"}],Loger:[function(t,e,n){"use strict";cc._RF.push(e,"9bf5c2Jhi1Mxq6JtWfhXrrr","Loger"),Object.defineProperty(n,"__esModule",{value:!0}),n.Loger=void 0;var i=function(){function t(){}return t.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.disable||(e.length>0?console.log(t,e):console.log(t))},t.logDebug=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.disable||(e.length>0?console.debug(t,e):console.debug(t))},t.logWarn=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.disable||(e.length>0?console.warn(t,e):console.warn(t))},t.logErr=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.disable||(e.length>0?console.error(t,e):console.error(t))},t.appdenToFile=function(e,n){void 0===n&&(n=!0),this.disable||(t.logData+="\n"+e,n&&(t.logOrgData+="\n"+e))},t.saveToFile=function(){},t.disable=!1,t.logNet=!1,t.logData="",t.logOrgData="",t}();n.Loger=i,cc._RF.pop()},{}],MessageManager:[function(t,e,n){"use strict";cc._RF.push(e,"68727zAAv9BxLv5oKk7Al5P","MessageManager");var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var a=arguments[e],r=0,s=a.length;r<s;r++,o++)i[o]=a[r];return i};Object.defineProperty(n,"__esModule",{value:!0}),n.MessageManager=void 0;var o=function(){function t(){}return t.AddListener=function(e,n,i){t.listeners[e]||(t.listeners[e]=[]),t.listeners[e].push(new a(n,i))},t.RemoveListener=function(e,n,i){var o=t.listeners[e];if(o){for(var a=o.length,r=0;r<a;r++){if(o[r].compar(i)){o.splice(r,1),n();break}}0==o.length&&delete t.listeners[e]}},t.DoListen=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var a=t.listeners[e];if(a)for(var r=a.length,s=0;s<r;s++){var c=a[s];c.notify.apply(c,i([e],n))}},t.listeners={},t}();n.MessageManager=o;var a=function(){function t(t,e){this.callback=null,this.context=null;this.callback=t,this.context=e}return t.prototype.notify=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(t=this.callback).call.apply(t,i([this.context],e))},t.prototype.compar=function(t){return t==this.context},t}();cc._RF.pop()},{}],MessagePanel:[function(t,e,n){"use strict";cc._RF.push(e,"dd0d1JNTrVFEYGc9KX3vcM3","MessagePanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.MessagePanel=void 0;var a=t("../../Loger"),r=t("../../Utils/Utils"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.msgTxt=null,e.buttonLabel=null,e.closeButtonCB=null,e}return i(e,t),e.prototype.onLoad=function(){this.msgTxt=this.node.getChildByName("MsgTxt").getComponent(cc.Label),this.buttonLabel=this.node.getChildByName("BtnClose").children[0].getComponent(cc.Label)},e.prototype.showMessage=function(t,e,n){a.Loger.log("show message : "+t+" ; ",e,n),this.node.active=!0,this.node.setSiblingIndex(this.node.parent.children.length-1),this.msgTxt.string=t,this.closeButtonCB=e,this.buttonLabel.string=n||"\u5173\u95ed"},e.prototype.onBtnCloseClick=function(){this.node.active=!1,this.closeButtonCB?this.closeButtonCB():r.wxBack()},e=o([c],e)}(cc.Component));n.MessagePanel=u,cc._RF.pop()},{"../../Loger":"Loger","../../Utils/Utils":"Utils"}],Network:[function(t,e,n){"use strict";cc._RF.push(e,"341cbiM7kFAhrJH45muFKCb","Network"),Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Config/Config"),o=t("./Utils/MessageManager"),a=t("./Utils/Utils"),r=function(){function t(){}return t.init=function(t,e,n){this.url=t,this.deviceID=e,this.token=n},t.getGameConfig=function(t,e){a.httpResquestPost(this.url+"/api/common/get_game_info",{deviceId:this.deviceID,gameKey:i.Config.gameType,sheetId:e},t,this.token,this.showMsg.bind(this))},t.pushMessage=function(t,e){a.httpResquestPost(this.url+"/api/common/push_game_data",{deviceId:this.deviceID,gameKey:i.Config.gameType,data:e},t,this.token,this.showMsg.bind(this))},t.setMessage=function(t,e){a.httpResquestPost(this.url+"/api/common/set_game_data",{deviceId:this.deviceID,gameKey:i.Config.gameType,data:e},t,this.token,this.showMsg.bind(this))},t.getMessage=function(t){a.httpResquestPost(this.url+"/api/common/get_game_data",{deviceId:this.deviceID,gameKey:i.Config.gameType},t,this.token,this.showMsg.bind(this))},t.getAwardData=function(t,e,n){void 0===n&&(n=0),a.httpResquestPost(this.url+"/api/common/get_game_award",{deviceId:this.deviceID,gameKey:i.Config.gameType,score:e,failed:n},t,this.token,this.showMsg.bind(this))},t.getBulletScreen=function(t){a.httpResquestPost(this.url+"/api/common/get_game_barrage",{deviceId:this.deviceID,gameKey:i.Config.gameType},t,this.token,this.showMsg.bind(this))},t.showMsg=function(t){o.MessageManager.DoListen("ShowTipsMessage",t)},t.screenShakeGetInitInfo=function(t,e){a.httpResquestPost(this.url+"/api/shake/shake_init_info",{deviceId:this.deviceID,gameKey:i.Config.gameType,sheetId:e},t,this.token,this.showMsg.bind(this))},t.screenGetShakeData=function(t,e){a.httpResquestPost(this.url+"/api/shake/get_shake_info",{deviceId:this.deviceID,gameKey:i.Config.gameType,sheetId:e},t,this.token,this.showMsg.bind(this))},t.setShakeNum=function(t,e){a.httpResquestPost(this.url+"/api/shake/set_shake_num",{deviceId:this.deviceID,gameKey:i.Config.gameType,num:e},t,this.token,this.showMsg.bind(this))},t.getShakeAward=function(t,e){a.httpResquestPost(this.url+"/api/shake/get_shake_award",{deviceId:this.deviceID,gameKey:i.Config.gameType,score:e},t,this.token,this.showMsg.bind(this))},t.getAllAwardLog=function(t){a.httpResquestPost(this.url+"/api/shake/get_award_log",{deviceId:this.deviceID,gameKey:i.Config.gameType},t,this.token,this.showMsg.bind(this))},t.url="11111",t.deviceID="00-00-00-00-00",t.token="",t}();n.default=r,cc._RF.pop()},{"./Config/Config":"Config","./Utils/MessageManager":"MessageManager","./Utils/Utils":"Utils"}],NumberWheel:[function(t,e,n){"use strict";cc._RF.push(e,"a9bc5W0WHBFWabFe0ZacecB","NumberWheel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scripts/AudioManager"),r=t("../../../../Scripts/Utils/Utils"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.interactable=!0,e.autoScrollTimes=0,e}return i(e,t),Object.defineProperty(e.prototype,"Interactable",{get:function(){return this.interactable},set:function(t){this.interactable=t,this.scrollView.enabled=t,this.lockImgNode.active=!t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.scrollView=this.getComponent(cc.ScrollView),this.viewContent=this.scrollView.node.getChildByName("Content"),this.itemTemplate=this.viewContent.children[0],this.numberLabels=this.viewContent.getComponentsInChildren(cc.Label),this.lockImgNode=this.scrollView.node.getChildByName("Lock"),this.audioPlayer=cc.find("Canvas").getComponent(cc.AudioSource),this.orgX=this.viewContent.position.x,this.orgY=this.viewContent.position.y},e.prototype.onScroll=function(){this.scrollView.isAutoScrolling()?(this.autoScrollTimes++,this.autoScrollTimes>15&&this.scrollView.stopAutoScroll()):this.autoScrollTimes=0,this.viewContent.position.y-this.orgY>this.itemTemplate.height&&(this.scrollView.stopAutoScroll(),this.viewContent.setPosition(this.orgX,this.orgY),r.vibrateShort(),a.AudioManager.instance.play(this.audioPlayer,a.GuessClipTypes.NumArrive,a.GuessClipTypes),this.numberLabels.forEach(function(t){var e=parseInt(t.string);--e<0&&(e=9),t.string=e.toString()})),this.viewContent.position.y-this.orgY<-this.itemTemplate.height&&(this.scrollView.stopAutoScroll(),this.viewContent.setPosition(this.orgX,this.orgY),r.vibrateShort(),a.AudioManager.instance.play(this.audioPlayer,a.GuessClipTypes.NumArrive,a.GuessClipTypes),this.numberLabels.forEach(function(t){var e=parseInt(t.string);++e>9&&(e=0),t.string=e.toString()})),this.scrollView.isScrolling()||this.scrollView.isAutoScrolling()||this.onStopScroll()},e.prototype.onStopScroll=function(){var t=this.viewContent.position.y-this.orgY;0!=t&&(t>0?this.scrollView.scrollToBottom(1):this.scrollView.scrollToTop(1))},e.prototype.getSelectedNumber=function(){return this.interactable?parseInt(this.numberLabels[3].string):""},e=o([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../../../Scripts/AudioManager":"AudioManager","../../../../Scripts/Utils/Utils":"Utils"}],PaoItem:[function(t,e,n){"use strict";cc._RF.push(e,"1fe02VL8GRPoYFx684inX3M","PaoItem");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/Utils/Utils"),r=cc._decorator,s=r.ccclass,c=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.awardSprite=null,e.animation=null,e}return i(e,t),e.prototype.setAward=function(t){this.awardSprite.spriteFrame=t},e.prototype.init=function(t){a.loadImgByUrl(this.awardSprite,t,"png");var e=a.RandomRange(.2,1.5,!1),n=this.animation.getClips()[0].name;this.animation.getAnimationState(n).speed=e,this.animation.play(n)},e.prototype.start=function(){},o([c(cc.Sprite)],e.prototype,"awardSprite",void 0),o([c(cc.Animation)],e.prototype,"animation",void 0),e=o([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../Scripts/Utils/Utils":"Utils"}],PersistNode:[function(t,e,n){"use strict";cc._RF.push(e,"ea3f1e4LMtMBpAIU7Fb49Go","PersistNode");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.PersistNode=void 0;var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node)},e=o([r],e)}(cc.Component));n.PersistNode=s,cc._RF.pop()},{}],PicButton:[function(t,e,n){"use strict";cc._RF.push(e,"ee5b6ketnJMrbT1XRJE2xH7","PicButton");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/Loger"),r=t("../../Scripts/Utils/MessageManager"),s=t("./EyesightGameManager"),c=cc._decorator,u=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.button=null,e.animation=null,e.isClicked=!1,e}return i(e,t),e.prototype.Init=function(t,e,n,i,o,a){this.x=t,this.isClicked=!1,this.brotherButton=o,this.node.setPosition(t*a,e*a),this.node.setContentSize(n*a,i*a),this.node.opacity=0},e.prototype.OnButtonEvent=function(){this.isClicked||(this.Clicked(),a.Loger.log("button X : "+this.x),s.default.instance.currentWaveButtonXList.push(this.x),r.MessageManager.DoListen("sendData"))},e.prototype.Clicked=function(){this.isClicked||(this.isClicked=!0,this.animation.play("greenCycleShow"),this.button.destroy(),this.brotherButton.Clicked())},o([l(cc.Button)],e.prototype,"button",void 0),o([l(cc.Animation)],e.prototype,"animation",void 0),e=o([u],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../Scripts/Loger":"Loger","../../Scripts/Utils/MessageManager":"MessageManager","./EyesightGameManager":"EyesightGameManager"}],Pic:[function(t,e,n){"use strict";cc._RF.push(e,"97f64/opHlP6J7PFwSJwQj9","Pic");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/Loger"),r=t("../../Scripts/Utils/MessageManager"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.picAnimation=null,e.touchEffectAnimation=null,e.wrongImg=null,e}return i(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.OnTouchEvent,this)},e.prototype.OnTouchEvent=function(t){var e=this;a.Loger.logErr("pic Button event!",t," ==== "+t.getLocation()),r.MessageManager.DoListen("wrongTouch"),this.picAnimation.play("picSclaeAnimation"),this.touchEffectAnimation.node.setPosition(t.getLocation()),this.touchEffectAnimation.play("touchEffectAnimation"),this.scheduleOnce(function(){e.ShowWrongImg(t.getLocation())},.25)},e.prototype.ShowWrongImg=function(t){var e=this;this.wrongImg.setPosition(t),this.wrongImg.active=!0,this.scheduleOnce(function(){e.wrongImg.active=!1},.25)},o([u(cc.Animation)],e.prototype,"picAnimation",void 0),o([u(cc.Animation)],e.prototype,"touchEffectAnimation",void 0),o([u(cc.Node)],e.prototype,"wrongImg",void 0),e=o([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Scripts/Loger":"Loger","../../Scripts/Utils/MessageManager":"MessageManager"}],PriceInputs:[function(t,e,n){"use strict";cc._RF.push(e,"769879qf8xPmb4v/bTFkTXm","PriceInputs");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scripts/Loger"),r=t("./NumberWheel"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.numberWheels=this.node.getComponentsInChildren(r.default)},e.prototype.start=function(){},e.prototype.setPriceDigit=function(t){if(t>5||t<=0)a.Loger.logErr("invalid args digit: "+t);else for(this.numberWheels.forEach(function(t){t.Interactable=!1});t-- >0;)this.numberWheels[this.numberWheels.length-1-t].Interactable=!0},e.prototype.getInputPrice=function(){var t="";return this.numberWheels.forEach(function(e){t+=e.getSelectedNumber()}),a.Loger.log("[PriceInputs] get input price: "+parseInt(t)),parseInt(t)},e=o([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../../../Scripts/Loger":"Loger","./NumberWheel":"NumberWheel"}],PriceSection:[function(t,e,n){"use strict";cc._RF.push(e,"47369gHKnJDzpIthEoBYtvc","PriceSection");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../Scripts/Loger"),r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.proccessBar=this.node.getChildByName("ProccessBar"),this.startArr=this.node.getChildByName("StartArr"),this.endArr=this.node.getChildByName("EndArr"),this.startPrice=this.startArr.getChildByName("StartPrice").getComponent(cc.Label),this.endPrice=this.endArr.getChildByName("EndPrice").getComponent(cc.Label)},e.prototype.init=function(t,e){t>=e?a.Loger.logErr("invalid args orgMin :"+t+" orgMax:"+e):(this.orgMin=t,this.orgMax=e,this.orgWidth=this.proccessBar.width,this.startPrice.string=t.toString(),this.endPrice.string=e.toString(),this.factor=600/(e-t),a.Loger.logErr("factor:"+this.factor),this.diff=-300-t*this.factor,a.Loger.logErr("diff:"+this.diff))},e.prototype.setSection=function(t,e){if(t>=e||t<this.orgMin||e>this.orgMax)a.Loger.logErr("invalid args min :"+t+" max:"+e);else{this.startPrice.string=t.toString(),this.endPrice.string=e.toString();var n=this.orgWidth*(e-t)/(this.orgMax-this.orgMin);this.proccessBar.width=n;var i=t*this.factor+this.diff;a.Loger.logErr("posX:"+i),this.proccessBar.setPosition(i,this.proccessBar.y),this.startArr.setPosition(i,this.startArr.y),this.endArr.setPosition(i+n,this.endArr.y)}},e=o([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{"../../../../Scripts/Loger":"Loger"}],QAManager:[function(t,e,n){"use strict";cc._RF.push(e,"ab1d6UE71ZPvL/jnqtRJtvx","QAManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/AudioManager"),r=t("../../Scripts/Config/Config"),s=t("../../Scripts/GameManager"),c=t("../../Scripts/Loger"),u=t("../../Scripts/Network"),l=t("../../Scripts/UIs/Panels/AwardPanel"),p=t("../../Scripts/UIs/Panels/FieldPanel"),h=t("../../Scripts/UIs/Panels/MessagePanel"),g=t("../../Scripts/Utils/Utils"),d=t("./Config/QAndAConfig"),f=t("./UIs/Widget/AnsBtn"),m=t("./UIs/Widget/AnsCounter"),y=cc._decorator,v=y.ccclass,w=y.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rightSpriteF=null,e.wrongSpriteF=null,e.btnOrgSpriteF=null,e.btnRightSpriteF=null,e.quesImg=null,e.ansMaskImg=null,e.scoreTxt=null,e.addScoreTxt=null,e.tipsTxt=null,e.quesTxt=null,e.turnTxt=null,e.wrongTxt=null,e.quesTimerTxt=null,e.quesTimerProccess=null,e.audioPlayer=null,e.ansBtns=null,e.ansAnim=null,e.inputBlock=null,e.rightCounter=null,e.wrongCounter=null,e.curQuesIndex=-1,e.orgTimer=10,e.quesTimer=10,e.syncStateTimer=1,e.startQuesTimer=!1,e.finish=!1,e.gameData={times:0,turn:0,score:0,rightAnsCount:0,wrongAnsCount:0,curQuesId:0},e}return i(e,t),e.prototype.onLoad=function(){this.awardPanel=cc.find("/Canvas/AwardPanel").getComponent(l.default),this.msgPanel=cc.find("/Canvas/MessagePanel").getComponent(h.MessagePanel),this.bulletScreenPb=cc.find("/Canvas/BulletScreenRoot/BulletScreen"),this.fieldPanel=cc.find("/Canvas/FieldPanel").getComponent(p.default),this.quesImg=cc.find("/Canvas/Top/QuesImg").getComponent(cc.Sprite),this.ansMaskImg=cc.find("/Canvas/Top/AnsMaskImg").getComponent(cc.Sprite),this.scoreTxt=cc.find("/Canvas/Top/ScoreTxt").getComponent(cc.Label),this.addScoreTxt=cc.find("/Canvas/Top/AddScoreTxt").getComponent(cc.Label),this.tipsTxt=cc.find("/Canvas/Top/TipsTxt").getComponent(cc.Label),this.quesTxt=cc.find("/Canvas/Bottom/QuesTxt").getComponent(cc.Label),this.turnTxt=cc.find("/Canvas/Bottom/TurnTxt").getComponent(cc.Label),this.wrongTxt=cc.find("/Canvas/Bottom/WrongTxt").getComponent(cc.RichText),this.quesTimerTxt=cc.find("/Canvas/Bottom/QuesTimerTxt").getComponent(cc.Label),this.quesTimerProccess=cc.find("/Canvas/Bottom/QuesTimerBg/Proccess").getComponent(cc.Sprite),this.ansBtns=cc.find("/Canvas/Bottom/AnsBtns").getComponentsInChildren(f.default),this.inputBlock=cc.find("/Canvas/InputBlock").getComponent(cc.BlockInputEvents),this.ansAnim=cc.find("/Canvas/Top").getComponent(cc.Animation),this.rightCounter=cc.find("/Canvas/Top/RightCounter").getComponent(m.default),this.wrongCounter=cc.find("/Canvas/Top/WrongCounter").getComponent(m.default),this.audioPlayer=this.getComponent(cc.AudioSource),this.init()},e.prototype.update=function(e){t.prototype.update.call(this,e),this.startQuesTimer&&(this.quesTimer<=0?(this.updateQues(),this.setToNoAnswer()):(this.quesTimer-=e,this.quesTimerTxt.string=Math.ceil(this.quesTimer).toString(),this.quesTimerProccess.fillRange=this.quesTimer/this.orgTimer))},e.prototype.initGameID=function(){r.Config.gameID=0},e.prototype.init=function(){var e,n=this;t.prototype.init.call(this),null===(e=this.ansAnim)||void 0===e||e.on("finished",function(){n.rightCounter.setCount(n.gameData.rightAnsCount),n.wrongCounter.setCount(n.gameData.wrongAnsCount)}),this.ansMaskImg.node.opacity=0,this.scoreTxt.string=this.gameData.score.toString(),this.ansBtns.forEach(function(t){t.init(n.btnOrgSpriteF,n.btnRightSpriteF,n.checkAns.bind(n))})},e.prototype.updateGameConfig=function(t){var e;if(c.Loger.log("[QAManager] GameConfig",t),d.QAndAConfig.gameConfig=t,0!=this.gameData.curQuesId&&(e=t.questions[this.gameData.curQuesId-1]),d.QAndAConfig.gameConfig.questions=this.getRandomQues(t),!this.checkGameOver()){var n=d.QAndAConfig.gameConfig.questions;if(this.gameData.turn>=n.length&&(c.Loger.log("[QAManager] game turn more than length!!!"),this.initGameData()),0==this.gameData.turn?(c.Loger.log("[QAManager] add game times!!!"),this.gameData.times++,u.default.setMessage(null,JSON.stringify(this.gameData))):(c.Loger.log("[QAManager] resume game state!!!"),d.QAndAConfig.gameConfig.questions=n.slice(this.gameData.turn,n.length),this.scoreTxt.string=this.gameData.score.toString(),e&&(d.QAndAConfig.gameConfig.questions[0]=e),this.rightCounter.setCount(this.gameData.rightAnsCount),this.wrongCounter.setCount(this.gameData.wrongAnsCount)),this.updateWrongTxt(),this.gameData.times>d.QAndAConfig.gameConfig.maxGameTimes)return c.Loger.log("[QAManager] Max Game Time"),void this.msgPanel.showMessage("\u5df2\u8d85\u8fc7\u5f53\u524d\u6700\u5927\u53ef\u73a9\u6b21\u6570\uff01");this.updateQues(),this.gameState=s.GameState.Gameing}},e.prototype.getRandomQues=function(t){for(var e=t.maxTurn?t.maxTurn:3,n=t.questions,i=new Array;e-- >0;){var o=g.RandomRange(0,n.length-1,!0);i.push(n[o]),n.splice(o,1)}return i},e.prototype.updateQues=function(){var t=this;if(this.curQuesIndex++,this.curQuesIndex==d.QAndAConfig.gameConfig.questions.length)return this.finish=!0,this.startQuesTimer=!1,this.inputBlock.enabled=!1,void u.default.getAwardData(function(e){t.showResult(e)},this.gameData.score);this.startQuesTimer=!0,this.inputBlock.enabled=!1;var e=d.QAndAConfig.gameConfig.questions[this.curQuesIndex];this.gameData.curQuesId=e.id+1,u.default.setMessage(null,JSON.stringify(this.gameData)),this.orgTimer=e.timer,this.quesTimer=this.orgTimer,this.tipsTxt.string=e.tips,g.loadImgByUrl(this.quesImg,e.imgUrl,"jpg"),this.quesTxt.string=e.question;var n=d.QAndAConfig.gameConfig.questions.length-this.curQuesIndex;this.turnTxt.string="\u518d\u7b54"+n+"\u9053\u9898\u53ef\u83b7\u5f97\u5956\u52b1";for(var i=0;i<e.options.length;i++)this.ansBtns[i].updateAnsTxt(e.options[i]);this.ansMaskImg.node.opacity=0},e.prototype.checkAns=function(t){var e=this;if(!this.finish){this.startQuesTimer=!1,this.inputBlock.enabled=!0,this.quesTimer=0;var n=d.QAndAConfig.gameConfig.questions[this.curQuesIndex].answer;t==n?this.setToRight():this.setToWrang(),this.ansBtns[n].playRightAnim(),this.checkGameOver(1500)||setTimeout(function(){e.updateQues()},3e3)}},e.prototype.setToRight=function(){this.ansAnim.play("RightAnim"),this.ansMaskImg.spriteFrame=this.rightSpriteF,this.ansMaskImg.node.opacity=255,this.gameData.rightAnsCount++,this.addScore(d.QAndAConfig.gameConfig.questions[this.curQuesIndex].score),a.AudioManager.instance.play(this.audioPlayer,a.QAClipTypes.Right,a.QAClipTypes)},e.prototype.setToWrang=function(){this.ansAnim.play("WrongAnim"),this.ansMaskImg.spriteFrame=this.wrongSpriteF,this.ansMaskImg.node.opacity=255,this.gameData.wrongAnsCount++,this.updateWrongTxt(),this.addScore(0),a.AudioManager.instance.play(this.audioPlayer,a.QAClipTypes.Wrong,a.QAClipTypes)},e.prototype.setToNoAnswer=function(){this.gameData.wrongAnsCount++,this.updateWrongTxt(),this.addScore(0),this.wrongCounter.setCount(this.gameData.wrongAnsCount),this.checkGameOver()},e.prototype.addScore=function(t){this.addScoreTxt.string="+"+t,this.addScoreTxt.getComponent(cc.Animation).play(),this.gameData.score+=t,this.scoreTxt.string=this.gameData.score.toString(),this.gameData.turn++,this.gameData.curQuesId=0,u.default.setMessage(null,JSON.stringify(this.gameData))},e.prototype.checkGameOver=function(t){var e=this;return void 0===t&&(t=null),this.gameData.wrongAnsCount>=d.QAndAConfig.gameConfig.maxWrongTime&&(c.Loger.log("[QAManager] Max Wrong Time"),this.gameState=s.GameState.End,this.finish=!0,this.startQuesTimer=!1,this.wrongCounter.setCount(this.gameData.wrongAnsCount),this.initGameData(),u.default.setMessage(null,JSON.stringify(this.gameData)),t?setTimeout(function(){e.gameOver()},t):this.gameOver(),!0)},e.prototype.showResult=function(e){t.prototype.showResult.call(this,e),this.initGameData(),u.default.setMessage(null,JSON.stringify(this.gameData))},e.prototype.initGameData=function(){c.Loger.logErr("[QAManager] init game data"),this.gameData.turn=0,this.gameData.score=0,this.gameData.curQuesId=0,this.gameData.wrongAnsCount=0,this.gameData.rightAnsCount=0},e.prototype.updateWrongTxt=function(){this.wrongTxt.string="\u8fd8\u6709<color=#cc3300>"+(d.QAndAConfig.gameConfig.maxWrongTime-this.gameData.wrongAnsCount)+"</c>\u7b54\u9519\u673a\u4f1a"},o([w(cc.SpriteFrame)],e.prototype,"rightSpriteF",void 0),o([w(cc.SpriteFrame)],e.prototype,"wrongSpriteF",void 0),o([w(cc.SpriteFrame)],e.prototype,"btnOrgSpriteF",void 0),o([w(cc.SpriteFrame)],e.prototype,"btnRightSpriteF",void 0),e=o([v],e)}(s.default);n.default=S,cc._RF.pop()},{"../../Scripts/AudioManager":"AudioManager","../../Scripts/Config/Config":"Config","../../Scripts/GameManager":"GameManager","../../Scripts/Loger":"Loger","../../Scripts/Network":"Network","../../Scripts/UIs/Panels/AwardPanel":"AwardPanel","../../Scripts/UIs/Panels/FieldPanel":"FieldPanel","../../Scripts/UIs/Panels/MessagePanel":"MessagePanel","../../Scripts/Utils/Utils":"Utils","./Config/QAndAConfig":"QAndAConfig","./UIs/Widget/AnsBtn":"AnsBtn","./UIs/Widget/AnsCounter":"AnsCounter"}],QAndAConfig:[function(t,e,n){"use strict";cc._RF.push(e,"df30fxqy2FKr43uhKMhX17V","QAndAConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.QAndAConfig=void 0;var i=function(){function t(){}return t.gameConfig={maxGameTimes:3,maxTurn:3,maxWrongTime:5,questions:[{id:0,question:"\u4e0b\u9762\u54ea\u4e2a\u9009\u9879\u6b63\u786e1",imgUrl:"https://wx.qlogo.cn/mmopen/vi_32/sibKHGaZz0uW64nbhL6VTBKtRiadtxtzwonghdu3z1IBAzg4FSymmYUDcFTsUdTBJv9QTqOVLzo5zJqbouGU9fXQ/132",tips:"90%\u7684\u4eba\u9009\u62e9\u4e86A1",score:10,timer:10,answer:1,options:["\u8fd9\u662fA","\u8fd9\u662fB","\u8fd9\u662fC","\u8fd9\u662fD"]}]},t}();n.QAndAConfig=i,cc._RF.pop()},{}],ShakeBigScreenManager:[function(t,e,n){"use strict";cc._RF.push(e,"7e5c3mMLNBEgbRF9L0t/Z16","ShakeBigScreenManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/AudioManager"),r=t("../../Scripts/Config/Config"),s=t("../../Scripts/Data/AwardData"),c=t("../../Scripts/GameManager"),u=t("../../Scripts/Loger"),l=t("../../Scripts/Network"),p=t("../../Scripts/Utils/Utils"),h=t("./GetAwardUsersData"),g=t("./Panel/ShakeBigScreenResultPanel"),d=t("./ShakeGameConfig"),f=t("./Widget/ShakeRankItem"),m=t("./Widget/ShakeRedBagBulletScreen"),y=cc._decorator,v=y.ccclass,w=y.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgMusicMix=null,e.bgMusicShowAward=null,e.awardItems=new Array,e.changeAwardPicTime=0,e.awardPoolIndex=0,e.awardItemIndex=0,e.rankItems=new Array,e.getAwardUserDatas=new Array,e}return i(e,t),e.prototype.initGameID=function(){r.Config.gameID=5},e.prototype.onLoad=function(){this.bgAudioSource=cc.find("Canvas/BigScreenPanel").getComponent(cc.AudioSource),this.shakeRedBagBsPb=cc.find("Canvas/BigScreenPanel/redBagBulletScreenRoot/redBagBS"),this.redBagCountLabel=cc.find("Canvas/BigScreenPanel/TopRoot/redBagCount").getComponent(cc.Label),this.awardItemRoot=cc.find("Canvas/BigScreenPanel/LeftRoot/AwardRoot"),this.rankItemPb=cc.find("Canvas/rankItem"),this.rankRoot=cc.find("Canvas/BigScreenPanel/RightRoot/RankRoot"),this.bigScreenPanel=cc.find("Canvas/BigScreenPanel"),this.bigScreenResultPanel=cc.find("Canvas/BigScreenResultPanel").getComponent(g.default),this.qrSprite=cc.find("Canvas/BigScreenPanel/QRCode").getComponent(cc.Sprite),this.awardItems.push(this.awardItemRoot.children[0]),this.awardItems.push(this.awardItemRoot.children[1]),t.prototype.onLoad.call(this),this.playBgAudio(this.bgMusicMix)},e.prototype.playBgAudio=function(t){this.bgAudioSource&&(this.bgAudioSource.clip=t,this.bgAudioSource.loop=!0,this.bgAudioSource.play())},e.prototype.init=function(){this.rankItems.splice(0),this.getAwardUserDatas.splice(0),this.bigScreenResultPanel.Hide(),this.getAwardUserTS=0,t.prototype.init.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e),this.gameState>=c.GameState.Start&&this.gameState<c.GameState.End&&(this.changeAwardPicTime+=e,this.changeAwardPicTime>=5&&(this.changeAwardPicTime=0,this.ChangeAwardPic()))},e.prototype.updateAwardPool=function(e){t.prototype.updateAwardPool.call(this,e);for(var n=0;n<e.length;n++){var i=new s.AwardData(e[n].imgApp,e[n].couponName,1,e[n].couponId);this.awardPool.push(i)}u.Loger.log("awardPool : ",this.awardPool),this.awardPoolIndex=0,this.awardItemIndex=-1;var o=this.awardItems[0].getComponentInChildren(cc.Sprite);this.awardPool[this.awardPoolIndex].icon?o.spriteFrame=this.awardPool[this.awardPoolIndex].icon:p.loadImgByUrl(o,this.awardPool[this.awardPoolIndex].iconUrl,"png"),this.awardItems[0].getComponentInChildren(cc.Label).string=this.awardPool[this.awardPoolIndex].awardName},e.prototype.updateGameConfig=function(e){t.prototype.updateGameConfig.call(this,e),this.shakeGameConfig=null!=e?e:d.ShakeGameConfig.gameConfig},e.prototype.updateScreenInitInfo=function(e){t.prototype.updateScreenInitInfo.call(this,e),e.qrCode&&p.loadImgByUrl(this.qrSprite,e.qrCode,"png"),this.RefreshRedBagCount(parseInt(e.awardNum))},e.prototype.getBullet=function(){var t=this;this.gameState<c.GameState.Start||this.gameState>=c.GameState.End||l.default.screenGetShakeData(function(e){if(u.Loger.log("screen shake data : ",e),e.shakeNums){var n=e.shakeNums;u.Loger.log("rankdata : ",n);for(var i=0;i<n.length&&!(i>=10);i++){var o=null;if(i>=t.rankItems.length){var a=cc.instantiate(t.rankItemPb);a.setParent(t.rankRoot),a.setPosition(0),o=a.getComponent(f.default),t.rankItems.push(o)}else o=t.rankItems[i];o.Init(n[i].avatarUrl,i+1,n[i].userName,n[i].shakeNum,n[i].awardNum)}}if(e.awardLogs){var r=0;for(i=0;i<e.awardLogs.length;i++){var s=e.awardLogs[i].ts;if(r=r<s?s:r,t.getAwardUserTS<s){var c=e.awardLogs[i].avatarUrl,l=e.awardLogs[i].nickName;t.AddShakeRedBagBulletScreen(c,l)}}t.getAwardUserTS=r}e.awardNum&&t.RefreshRedBagCount(parseInt(e.awardNum))},this.sheetId)},e.prototype.RefreshRedBagCount=function(t){var e=this.shakeGameConfig.eachWaveRedBagCount-t;this.redBagCount=e<=0?0:e,this.redBagCountLabel.string="\u8fd8\u5269"+this.redBagCount+"\u4e2a\u7ea2\u5305",0==this.redBagCount&&this.gameOver()},e.prototype.gameOver=function(){var t=this;this.gameState=c.GameState.End,l.default.getAllAwardLog(function(e){u.Loger.log("game Over Get All Award Log : ",e),e.awardLogs.forEach(function(e){var n=new h.GetAwardUsersData(e.awardImg,e.awardName,e.avatarUrl,e.nickName);t.getAwardUserDatas.push(n)}),t.bigScreenPanel.active=!1,t.bigScreenResultPanel.Show(t.getAwardUserDatas),t.playBgAudio(t.bgMusicShowAward)})},e.prototype.ChangeAwardPic=function(){var t=this;this.awardItemIndex++,this.awardPoolIndex++,this.awardItemIndex>=2&&(this.awardItemIndex=0),this.awardPoolIndex>=this.awardPool.length&&(this.awardPoolIndex=0),this.awardItems[1-this.awardItemIndex].getComponentInChildren(cc.Sprite).spriteFrame=this.awardPool[this.awardPoolIndex].icon,this.awardItems[1-this.awardItemIndex].getComponentInChildren(cc.Label).string=this.awardPool[this.awardPoolIndex].awardName,cc.tween(this.awardItems[this.awardItemIndex]).to(.5,{position:new cc.Vec3(-300,0,0)}).call(function(){t.awardItems[t.awardItemIndex].setPosition(300,0,0)}).start(),cc.tween(this.awardItems[1-this.awardItemIndex]).to(.5,{position:new cc.Vec3(0,0,0)}).start()},e.prototype.AddShakeRedBagBulletScreen=function(t,e){var n=cc.instantiate(this.shakeRedBagBsPb);n.parent=this.shakeRedBagBsPb.parent,n.setPosition(p.RandomRange(-400,300,!0),700),n.active=!0,n.getComponent(m.default).Init(t,e),a.AudioManager.instance&&a.AudioManager.instance.play(this.audioSource,a.BigScreenAudioClipType.BulletRedBag,a.BigScreenAudioClipType)},o([w(cc.AudioClip)],e.prototype,"bgMusicMix",void 0),o([w(cc.AudioClip)],e.prototype,"bgMusicShowAward",void 0),e=o([v],e)}(c.default);n.default=S,cc._RF.pop()},{"../../Scripts/AudioManager":"AudioManager","../../Scripts/Config/Config":"Config","../../Scripts/Data/AwardData":"AwardData","../../Scripts/GameManager":"GameManager","../../Scripts/Loger":"Loger","../../Scripts/Network":"Network","../../Scripts/Utils/Utils":"Utils","./GetAwardUsersData":"GetAwardUsersData","./Panel/ShakeBigScreenResultPanel":"ShakeBigScreenResultPanel","./ShakeGameConfig":"ShakeGameConfig","./Widget/ShakeRankItem":"ShakeRankItem","./Widget/ShakeRedBagBulletScreen":"ShakeRedBagBulletScreen"}],ShakeBigScreenPanel:[function(t,e,n){"use strict";cc._RF.push(e,"ebebfw3L/BI+IqYw2FsK0tf","ShakeBigScreenPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},o([s(cc.Label)],e.prototype,"label",void 0),o([s],e.prototype,"text",void 0),e=o([r],e)}(cc.Component);n.default=c,cc._RF.pop()},{}],ShakeBigScreenResultPanel:[function(t,e,n){"use strict";cc._RF.push(e,"fb754Qea6RN3oeEAU/wC4Br","ShakeBigScreenResultPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scripts/Loger"),r=t("../Widget/WinRedBagItem"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstLineY=200,e.defaultH=356,e.spaceY=40,e.isCanMove=!1,e.moveSpeed=50,e.bottomY=0,e.resultLines=new Array,e.linesY=new Array,e}return i(e,t),e.prototype.onLoad=function(){this.winredBagPb=cc.find("Canvas/winRedBag"),this.resultItemRoot=this.node.getChildByName("resultItemRoot"),this.resultLines.push(this.resultItemRoot.children[0]),this.linesY.push(this.resultLines[0].getPosition().y),this.isCanMove=!1},e.prototype.Show=function(t){this.node.active=!0,a.Loger.log("Show Result Panel : ",t);var e=t.length;if(e>5)for(var n=1;n<e/5;n++){var i=cc.instantiate(this.resultLines[0]);i.setParent(this.resultItemRoot),i.setPosition(new cc.Vec2(0,this.firstLineY-n*this.defaultH-this.spaceY)),this.resultLines.push(i),this.linesY.push(this.resultLines[n].getPosition().y)}this.bottomY=this.resultLines[this.resultLines.length-1].getPosition().y;var o=0,s=0;for(n=0;n<t.length;n++){++s>5&&(s=1,o++);var c=cc.instantiate(this.winredBagPb);c.setParent(this.resultLines[o]),c.setPosition(new cc.Vec2(c.getPosition().x,0)),this.resultLines[o].getComponent(cc.Layout).updateLayout(),c.getComponent(r.default).Init(t[n].avaUrl,t[n].userName,t[n].awardUrl,t[n].awardName)}this.isCanMove=e>10},e.prototype.update=function(t){if(this.isCanMove)for(var e=0;e<this.linesY.length;e++)this.linesY[e]+=t*this.moveSpeed,this.linesY[e]>this.defaultH+this.firstLineY&&(this.linesY[e]=this.bottomY),this.resultLines[e].setPosition(new cc.Vec2(0,this.linesY[e]))},e.prototype.Hide=function(){this.isCanMove=!1,this.node.active=!1,this.resultLines.splice(1),this.linesY.splice(1)},e=o([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../../Scripts/Loger":"Loger","../Widget/WinRedBagItem":"WinRedBagItem"}],ShakeGameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"91ff5X3DvpMdJh8F5MTebSW","ShakeGameConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.ShakeGameConfig=void 0;var i=function(){function t(){}return t.gameConfig={maxGameTimes:2,waitingTime:60,gameTime:60,eachWaveRedBagCount:200,eachPlayerGetRedBagCount:3,firstTimeGetRedBagPrecent:50,backGroundImg:"",logoImg:""},t}();n.ShakeGameConfig=i,cc._RF.pop()},{}],ShakeGameManager:[function(t,e,n){"use strict";cc._RF.push(e,"578241ZnGNL/Zwzo8+Tk1Qo","ShakeGameManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/Config/Config"),r=t("../../Scripts/GameManager"),s=t("../../Scripts/Loger"),c=t("../../Scripts/Network"),u=t("../../Scripts/UIs/Panels/AwardPanel"),l=t("../../Scripts/UIs/Panels/FieldPanel"),p=t("../../Scripts/UIs/Panels/MessagePanel"),h=t("./Panel/ShakeMobileGamePanel"),g=t("./ShakeGameConfig"),d=cc._decorator,f=d.ccclass,m=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playTimes=0,e.gameData={playTimes:0},e}var n;return i(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.initGameID=function(){a.Config.gameID=5},e.prototype.onLoad=function(){n._instance=this,this.awardPanel=cc.find("/Canvas/AwardPanel").getComponent(u.default),this.msgPanel=cc.find("/Canvas/MessagePanel").getComponent(p.MessagePanel),this.bulletScreenPb=cc.find("/Canvas/BulletScreenRoot/BulletScreen"),this.fieldPanel=cc.find("/Canvas/FieldPanel").getComponent(l.default),this.init()},e.prototype.GetGameCongigInfo=function(){c.default.screenShakeGetInitInfo(this.updateGameInfos.bind(this),this.sheetId)},e.prototype.updateGameConfig=function(e){if(t.prototype.updateGameConfig.call(this,e),this.shakeGameConfig=null!=e?e:g.ShakeGameConfig.gameConfig,s.Loger.log("shakeGameConfig : "+this.shakeGameConfig),this.gameData&&this.gameData.hasOwnProperty("playTimes")?this.playTimes=this.gameData.playTimes:this.playTimes=0,this.playTimes++,s.Loger.logErr("playTimes : "+this.playTimes),this.SendGameData(),!this.isScreen){if(this.gamePanel=cc.find("Canvas/GamePanel").getComponent(h.default),this.gamePanel.node.active=!0,this.playTimes>this.shakeGameConfig.maxGameTimes)return s.Loger.log("[QAManager] Max Game Time"),void this.msgPanel.showMessage("\u5df2\u8d85\u8fc7\u5f53\u524d\u6700\u5927\u53ef\u73a9\u6b21\u6570\uff01");this.gamePanel.Init(this.shakeGameConfig)}},e.prototype.GameOver=function(){t.prototype.gameOver.call(this)},e.prototype.GameWin=function(t){this.showResult(t)},e.prototype.SendGameData=function(){this.gameData.playTimes=this.playTimes,c.default.setMessage(function(t){return s.Loger.log("pushMessage",t)},JSON.stringify(this.gameData))},e.prototype.ClearGameData=function(){c.default.setMessage(function(t){return s.Loger.log("pushMessage",t)},JSON.stringify({}))},e=n=o([f],e)}(r.default));n.default=m,cc._RF.pop()},{"../../Scripts/Config/Config":"Config","../../Scripts/GameManager":"GameManager","../../Scripts/Loger":"Loger","../../Scripts/Network":"Network","../../Scripts/UIs/Panels/AwardPanel":"AwardPanel","../../Scripts/UIs/Panels/FieldPanel":"FieldPanel","../../Scripts/UIs/Panels/MessagePanel":"MessagePanel","./Panel/ShakeMobileGamePanel":"ShakeMobileGamePanel","./ShakeGameConfig":"ShakeGameConfig"}],ShakeMobileAwardTip:[function(t,e,n){"use strict";cc._RF.push(e,"7f842OBbIlOAKWvjuVtCs6a","ShakeMobileAwardTip");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scripts/Utils/Utils"),r=cc._decorator,s=r.ccclass,c=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thanksSprite=null,e.autoHideTime=0,e.autoStep=0,e}return i(e,t),e.prototype.onLoad=function(){this.awardPic=this.node.children[0].getChildByName("AwardPic").getComponent(cc.Sprite),this.awardDesc=this.node.children[0].getChildByName("AwardDesc").getComponent(cc.Label)},e.prototype.Show=function(t,e){this.autoHideTime=0,this.autoStep=0,this.autoHideCB=e,this.node.children[0].active=!1,this.node.children[1].active=!0,this.node.active=!0,null!=t?(a.loadImgByUrl(this.awardPic,t.imgApp,"png"),this.awardDesc.node.active=!0,this.awardDesc.string=t.couponName):(this.awardPic.spriteFrame=this.thanksSprite,this.awardDesc.node.active=!1)},e.prototype.update=function(t){this.node.active&&(this.autoHideTime+=t,this.autoHideTime>=3&&(this.autoStep++,this.autoHideTime=0,1==this.autoStep?(this.node.children[0].active=!0,this.node.children[1].active=!1):2==this.autoStep&&(this.Hide(),this.autoHideCB())))},e.prototype.CloseRedBagClickEvent=function(){this.node.children[0].active=!0,this.node.children[1].active=!1},e.prototype.Hide=function(){this.node.active=!1},o([c(cc.SpriteFrame)],e.prototype,"thanksSprite",void 0),e=o([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scripts/Utils/Utils":"Utils"}],ShakeMobileGamePanel:[function(t,e,n){"use strict";cc._RF.push(e,"6adf4LgNW5J5o8B2GdeOtbP","ShakeMobileGamePanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scripts/AudioManager"),r=t("../../../Scripts/Loger"),s=t("../../../Scripts/Network"),c=t("../../../Scripts/Utils/MessageManager"),u=t("../../../Scripts/Utils/Utils"),l=t("../ShakeGameManager"),p=t("../Widget/AddNum"),h=t("../Widget/ShakeMobileAwardTip"),g=cc._decorator,d=g.ccclass,f=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getRedBagCount=0,e.gameTime=0,e.shakeCount=0,e.getAwardPrecent=0,e.totalShakeCount=0,e.sendShakeCount=0,e.sendShakeCountTime=0,e.isGetingAward=!1,e.isGameStart=!1,e.allAwards=new Array,e}return i(e,t),e.prototype.Init=function(t){r.Loger.log("gamePanel init !"),this.handSpeedLabel=cc.find("Canvas/GamePanel/numBg/handSpeedNum").getComponent(cc.Label),this.addNumPb=cc.find("Canvas/GamePanel/numBg/addNum"),this.awardTitle=this.node.getChildByName("AwardTitle"),this.gameTitle=this.node.getChildByName("GameTitle"),this.shakeSprite=this.node.getChildByName("shakeSprite"),this.getRedBagCountLabel=this.gameTitle.getChildByName("redBagCount").getComponent(cc.Label),this.gameTimeLabel=this.gameTitle.getChildByName("gameTime").getComponent(cc.Label),this.awardTip=this.node.getChildByName("AwardTips").getComponent(h.default),this.audioSource=this.getComponent(cc.AudioSource),c.MessageManager.AddListener("OnShake",this.OnShakeEvent,this),c.MessageManager.DoListen("ShowTipsMessage","\u83b7\u53d6\u6743\u9650\uff01",function(){u.motionPermission()},"\u786e\u5b9a"),this.getRedBagCount=t.eachPlayerGetRedBagCount,this.updateGetRedBagCountLabel(),this.gameTime=t.gameTime,this.updateGameTimeLabel(),this.shakeCount=0,this.getAwardPrecent=t.firstTimeGetRedBagPrecent,this.isGetingAward=!1,this.allAwards.splice(0),this.gameTitle.active=!0,this.awardTitle.active=!1,this.shakeSprite.active=!0,this.isGameStart=!0},e.prototype.update=function(t){this.isGameStart&&(this.awardTip.node.active||(this.gameTime-=t,this.updateGameTimeLabel()),this.sendShakeCountTime+=t,this.sendShakeCountTime>=8&&(this.sendShakeCountTime=0,this.sendShakeNum()))},e.prototype.sendShakeNum=function(){var t=this.totalShakeCount-this.sendShakeCount;this.sendShakeCount=this.totalShakeCount,t>0&&s.default.setShakeNum(function(e){r.Loger.log("send shake num cb: "+t+" - ",e)},t)},e.prototype.OnShakeEvent=function(){var t=this;!this.isGetingAward&&this.isGameStart&&(this.shakeCount++,this.totalShakeCount++,this.InstanceAddNum(),this.handSpeedLabel.string=this.totalShakeCount.toString(),r.Loger.log("on shake : "+this.shakeCount),this.shakeCount>=5&&(this.shakeCount=0,u.shakeVibrateShort(),a.AudioManager.instance.play(this.audioSource,a.shakeMobileClipType.shakeBell,a.shakeMobileClipType),this.isCanGetAward()?(r.Loger.log("\u83b7\u53d6\u5956\u52b1\uff01"),this.isGetingAward=!0,s.default.getShakeAward(function(e){t.ShowAwardTip(e)},100)):this.updateGetRedBagCountLabel()))},e.prototype.InstanceAddNum=function(){var t=cc.instantiate(this.addNumPb);t.setParent(this.addNumPb.parent),t.getComponent(p.default).Init()},e.prototype.ShowAwardTip=function(t){r.Loger.log("Show Award : ",t),null!=t&&(this.getAwardPrecent/=2,this.getRedBagCount--,u.vibrateLong(),this.gameTitle.active=!1,this.awardTitle.active=!0,this.shakeSprite.active=!1,this.allAwards.push(t),this.awardTip.Show(t,this.AwardTipBtnEvent.bind(this)))},e.prototype.AwardTipBtnEvent=function(){this.isGetingAward=!1,this.gameTitle.active=!0,this.awardTitle.active=!1,this.shakeSprite.active=!0,this.updateGetRedBagCountLabel()},e.prototype.isCanGetAward=function(){var t=100*Math.random();return r.Loger.log("random precent : "+t+"% ; target precent : "+this.getAwardPrecent+"%"),t<=this.getAwardPrecent},e.prototype.updateGetRedBagCountLabel=function(){this.getRedBagCount<=0&&(this.getRedBagCount=0,this.allAwards.length<=0?this.GameOver():this.GameWin(this.allAwards[0])),this.getRedBagCountLabel.string="\u8fd8\u6709"+this.getRedBagCount+"\u6b21\u673a\u4f1a"},e.prototype.updateGameTimeLabel=function(){this.gameTime<=0&&(this.gameTime=0,this.allAwards.length<=0?this.GameOver():this.GameWin(this.allAwards[0])),this.gameTimeLabel.string=u.numToTime(this.gameTime)},e.prototype.GameOver=function(){this.isGameStart=!1,l.default.instance.GameOver()},e.prototype.GameWin=function(t){this.isGameStart=!1,l.default.instance.GameWin(t)},e=o([d],e)}(cc.Component));n.default=f,cc._RF.pop()},{"../../../Scripts/AudioManager":"AudioManager","../../../Scripts/Loger":"Loger","../../../Scripts/Network":"Network","../../../Scripts/Utils/MessageManager":"MessageManager","../../../Scripts/Utils/Utils":"Utils","../ShakeGameManager":"ShakeGameManager","../Widget/AddNum":"AddNum","../Widget/ShakeMobileAwardTip":"ShakeMobileAwardTip"}],ShakeRankItem:[function(t,e,n){"use strict";cc._RF.push(e,"1ff3bXBtN9AJZYI9l5mqCiQ","ShakeRankItem");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scripts/Utils/Utils"),r=cc._decorator,s=r.ccclass,c=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rankLabel=null,e.headSprite=null,e.userName=null,e.crowns=new Array,e.shakeNum=null,e.awardNum=null,e}return i(e,t),e.prototype.Init=function(t,e,n,i,o){this.rankLabel.string=e.toString(),a.loadImgByUrl(this.headSprite,t,"png"),this.userName.string=n,this.shakeNum.string=i.toString(),this.awardNum.string=o.toString(),e>0&&e<=3?(this.crowns[0].parent.active=!0,this.crowns[0].active=1==e,this.crowns[1].active=2==e,this.crowns[2].active=3==e):this.crowns[0].parent.active=!1},o([c(cc.Label)],e.prototype,"rankLabel",void 0),o([c(cc.Sprite)],e.prototype,"headSprite",void 0),o([c(cc.Label)],e.prototype,"userName",void 0),o([c(cc.Node)],e.prototype,"crowns",void 0),o([c(cc.Label)],e.prototype,"shakeNum",void 0),o([c(cc.Label)],e.prototype,"awardNum",void 0),e=o([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scripts/Utils/Utils":"Utils"}],ShakeRedBagBulletScreen:[function(t,e,n){"use strict";cc._RF.push(e,"c06edhj8q5CpbE3PKK/zmpn","ShakeRedBagBulletScreen");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scripts/Utils/Utils"),r=cc._decorator,s=r.ccclass,c=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.head=null,e.playerName=null,e.maxX=300,e.minX=-400,e.defaultY=700,e.overY=-700,e.currentY=0,e.initX=0,e.moveSpeed=100,e.isInit=!1,e}return i(e,t),e.prototype.Init=function(t,e){a.loadImgByUrl(this.head,t,"png"),this.playerName.string=e,this.initX=a.RandomRange(this.minX,this.maxX,!0);var n=new cc.Vec2(this.initX,this.defaultY);this.node.setPosition(n),this.currentY=this.defaultY,this.moveSpeed=a.RandomRange(100,200,!0),this.isInit=!0},e.prototype.update=function(t){this.isInit&&(this.currentY-=t*this.moveSpeed,this.node.setPosition(this.initX,this.currentY),this.currentY<=this.overY&&(this.currentY=0,this.isInit=!1,this.node.destroy()))},o([c(cc.Sprite)],e.prototype,"head",void 0),o([c(cc.Label)],e.prototype,"playerName",void 0),e=o([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scripts/Utils/Utils":"Utils"}],SkinManager:[function(t,e,n){"use strict";cc._RF.push(e,"65b85ShgSpB5KIWUhIb8008","SkinManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./Utils/Utils"),r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return i(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.__preload=function(){n._instance=this},e.prototype.onReceiveSkinData=function(t){t.forEach(function(t){var e;if(t.url&&!(t.url.length<5)){var n=null===(e=cc.find(t.path))||void 0===e?void 0:e.getComponent(cc.Sprite);n&&a.loadImgByUrl(n,t.url,"png")}})},e=n=o([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{"./Utils/Utils":"Utils"}],SpawnBirdManager:[function(t,e,n){"use strict";cc._RF.push(e,"75010/4A1pKXophayRB77YI","SpawnBirdManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Scripts/Utils/Utils"),r=t("./Bird"),s=cc._decorator,c=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.birdPrefab=null,e}var n;return i(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){n._instance=this,this.birdList=new Array},e.prototype.SpawnBird=function(){var t=cc.instantiate(this.birdPrefab).getComponent(r.default);t.node.active=!0,t.node.parent=this.node;var e=a.RandomRange(0,1.9,!0);t.init(e),this.birdList.push(t)},e.prototype.ClearBird=function(){for(var t=0;t<this.birdList.length;t++)0!=cc.isValid(this.birdList[t],!0)&&(this.birdList[t].playBirdAnim("die"),this.birdList[t].playGiftAnim("gift"));this.birdList.splice(0)},e.prototype.start=function(){},e._instance=null,o([u(cc.Node)],e.prototype,"birdPrefab",void 0),e=n=o([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../Scripts/Utils/Utils":"Utils","./Bird":"Bird"}],TeachPanel:[function(t,e,n){"use strict";cc._RF.push(e,"4d2de3RXTFKFZiC/xEL6zz9","TeachPanel");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.explainTxt=this.node.getChildByName("ExplainTxt").getComponent(cc.Label),this.startBtn=this.node.getChildByName("StartBtn").getComponent(cc.Button)},e.prototype.showDesc=function(t){this.node.active=!0,t&&(this.explainTxt.string=t)},e.prototype.onBtnCloseClick=function(){this.node.active=!1},e=o([r],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],Toast:[function(t,e,n){"use strict";cc._RF.push(e,"c58acpdT29N/rJWNz+mmmNN","Toast"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t.showTosat=function(t){var e=this;if(!this.toastBox){this.toastBox=new cc.Node,this.toastBox.parent=cc.find("Canvas"),this.toastBox.width=300,this.toastBox.height=100;var n=this.toastBox.addComponent(cc.Graphics);n.fillColor=new cc.Color(0,0,0,180),n.roundRect(-150,-50,300,100,50),n.fill();var i=new cc.Node;i.parent=this.toastBox,i.width=200,i.height=100,i.color=cc.Color.WHITE,i.addComponent(cc.Label).string="Toast",this.toastBox.active=!1}this.toastBox.setSiblingIndex(this.toastBox.parent.children.length-1),this.toastBox.getComponentInChildren(cc.Label).string=t,this.toastBox.active||(this.toastBox.active=!0,setTimeout(function(){e.toastBox.active=!1},2e3))},t}();n.default=i,cc._RF.pop()},{}],UploadLoger:[function(t,e,n){"use strict";cc._RF.push(e,"6fefc70efxP77XbHH07cbT4","UploadLoger"),Object.defineProperty(n,"__esModule",{value:!0}),n.UploadLoger=void 0;var i=t("./Config/Config"),o=t("./Loger"),a=t("./Utils/md5"),r=t("./Utils/Utils"),s=cc._decorator,c=(s.ccclass,s.property,function(){function t(){}return t.init=function(t){this.url=t&&"2"===t?this.remoteUrl:this.testUrl},t.uploadNewUser=function(t){this.baseData.timestamp=(new Date).getTime(),this.baseData.data=[{action:"register",userId:t}],this.baseData.signature=this.setSignature(),this.sendToServer()},t.uploadGameTime=function(t,e,n){this.baseData.deviceId=this.baseData.tag=e,this.baseData.timestamp=(new Date).getTime(),this.baseData.data=[{action:"gameTime",lastTime:n,userId:t,gameType:i.Config.gameType,tag:e}],this.baseData.signature=this.setSignature(),this.sendToServer()},t.setSignature=function(){return(new a.Md5).appendStr(this.baseData.deviceId).appendStr(this.baseData.timestamp.toString()).appendStr(this.baseData.data.length.toString()).appendStr(this.secret).end().toString()},t.sendToServer=function(){o.Loger.log(this.baseData),o.Loger.log(this.url),r.httpResquestPost(this.url,this.baseData,this.sendToServerCB,"")},t.sendToServerCB=function(t){o.Loger.log(t)},t.testUrl="https://mossp.jd.com/sendoss_pre/collect/uploadlog",t.remoteUrl="https://mossp.jd.com/sendoss/collect/uploadlog",t.baseData={env:"game",deviceId:"test_device",tag:"test_device",timestamp:123458999,signature:"11",data:[]},t.secret="gaoxiangxxx",t}());n.UploadLoger=c,cc._RF.pop()},{"./Config/Config":"Config","./Loger":"Loger","./Utils/Utils":"Utils","./Utils/md5":"md5"}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"687bctv+4lJ45ZFx28q0Qxj","Utils"),Object.defineProperty(n,"__esModule",{value:!0}),n.shakeVibrateShort=n.motionPermission=n.loadImgByUrlWithDefaultSprit=n.ShuffleArrayListWithSeed=n.ShuffleArrayList=n.RandomRange01=n.RandomRange=n.playSubProgram=n.loadSence=n.getScreenMac=n.numToTime=n.wxBack=n.httpResquestPost=n.httpResquestGet=n.quitGame=n.loadSpriteByUrl=n.loadImgByUrl=n.wxBackToTickets=n.wxBackToJoinGame=n.wxBackToHome=n.isIphone=n.isAndroid=n.getQueryString=n.vibrateShort=n.vibrateLong=n.waitForMilliSeconds=n.loadAllRes=n.loadRes=n.RandomTool=void 0;var i=t("../Loger"),o=t("./MessageManager"),a=t("./Toast");n.loadRes=function(t,e,n){return new Promise(function(i,o){cc.loader.loadRes(t,e,function(t,e){t&&console.error(t),i(e),n&&n()})})},n.loadAllRes=function(t,e,n){return new Promise(function(i,o){cc.loader.loadResDir(t,e,null,function(t,e){t&&console.error(t),console.log("loadAllRes",e),i(e),n&&n()})})},n.waitForMilliSeconds=function(t){return new Promise(function(e,n){setTimeout(e,t)})},n.vibrateLong=function(){"vibrate"in window.navigator&&window.navigator.vibrate(400)},n.vibrateShort=function(){"vibrate"in window.navigator&&window.navigator.vibrate(15)},n.shakeVibrateShort=function(){"vibrate"in window.navigator&&window.navigator.vibrate([200,200])},n.getQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!==n?unescape(n[2]):null},n.isAndroid=function(){return Boolean(navigator.userAgent.match(/android/gi))},n.isIphone=function(){return Boolean(navigator.userAgent.match(/iphone|ipod/gi))},n.wxBackToHome=function(){return!!window.backToHome&&(setTimeout(function(){o.MessageManager.DoListen("ShowTipsMessage","\u8bf7\u70b9\u51fb\u5de6\u4e0a\u89d2\u8fd4\u56de\u6309\u94ae\u8fd4\u56de\u4e3b\u9875\u9762")},200),window.backToHome(),!0)},n.wxBackToJoinGame=function(t){return!!window.backToJoinGame&&(setTimeout(function(){o.MessageManager.DoListen("ShowTipsMessage","\u8bf7\u70b9\u51fb\u5de6\u4e0a\u89d2\u8fd4\u56de\u6309\u94ae\u8fd4\u56de\u4e3b\u9875\u9762\uff0c\u626b\u4e00\u626b\u52a0\u5165\u6e38\u620f")},200),window.backToJoinGame(t),!0)},n.wxBackToTickets=function(){return!!window.backToTickets&&(setTimeout(function(){o.MessageManager.DoListen("ShowTipsMessage","\u8bf7\u70b9\u51fb\u5de6\u4e0a\u89d2\u8fd4\u56de\u6309\u94ae\u8fd4\u56de\u4e3b\u9875\u9762\uff0c\u6253\u5f00\u5238\u5305\u67e5\u770b")},200),window.backToTickets(),!0)},n.wxBack=function(){return!!window.back&&(setTimeout(function(){o.MessageManager.DoListen("ShowTipsMessage","\u8bf7\u70b9\u51fb\u5de6\u4e0a\u89d2\u8fd4\u56de\u6309\u94ae\u8fd4\u56de")},200),window.back(),!0)},n.loadImgByUrl=function t(e,n,i,o){void 0===o&&(o=1),i||(i="png"),cc.loader.load({url:n,type:i},function(a,r){if(a)return console.log("load image fail"+a),void(o<10&&setTimeout(function(){t(e,n,i,o+1)},2e3));var s=new cc.SpriteFrame;s.setTexture(r),e.spriteFrame=s})},n.loadSpriteByUrl=function(t,e){return void 0===e&&(e="png"),new Promise(function(n,i){cc.loader.load({url:t,type:e},function(t,e){t&&console.error("load image fail"+t);var i=new cc.SpriteFrame;i.setTexture(e),n(i)})})},n.httpResquestGet=function t(e,n){var i=cc.loader.getXMLHttpRequest();i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?(console.log("XMLHttpResquestGet     Status:"+i.statusText),n&&n(i.responseText)):(console.log("request err request state"+i.status),setTimeout(function(){t(e,n)},1e3)))}.bind(this),i.send()},n.httpResquestPost=function t(e,n,i,o,r,s){void 0===s&&(s=1);var c=cc.loader.getXMLHttpRequest();c.open("POST",e,!0),c.onreadystatechange=function(){if(4===c.readyState)if(200===c.status){var u=JSON.parse(c.responseText);1e3!=u.code&&"SUCCESS"!=u.code||!i||i(u.data),1e3!=u.code&&"SUCCESS"!=u.code&&r&&r(u.msg)}else console.error("request err request state"+c.status),a.default.showTosat("\u7f51\u7edc\u5f02\u5e38"),s<10&&setTimeout(function(){t(e,n,i,o,r,s+1)},1e3)}.bind(this),c.setRequestHeader("Content-Type","application/json; charset=utf-8"),c.setRequestHeader("token",o),c.send(JSON.stringify(n))},n.quitGame=function(){console.log("Quit Game!"),setTimeout(function(){cc.director.end()},500)},n.numToTime=function(t){var e=Math.round(t),n=Math.floor(e/60);return e-=60*n,("0"+n).slice(-2)+":"+("0"+e).slice(-2)},n.getScreenMac=function(){var t=window.navigator.userAgent.split("#")[1];return!t&&window.getMac&&(t=window.getMac()),t||"00-D8-61-25-AD-CE"},n.loadSence=function t(e,n){cc.director.preloadScene(e,n,function(){cc.director.loadScene(e,function(i){i&&(console.error("faild load sence",i),setTimeout(function(){console.error("reload sence"+e),t(e,n)},1e3))})})},n.playSubProgram=function(){window.playSubProgram&&window.playSubProgram()},n.RandomRange=function(t,e,n){var i=Math.random()*(e-t+1)+t;return n?Math.floor(i):i},n.RandomRange01=function(t,e){return Math.random()*(e-t)+t},n.ShuffleArrayList=function(t){for(var e,n=t.length;--n;){var i=Math.floor(Math.random()*n);e=[t[n],t[i]],t[i]=e[0],t[n]=e[1]}return t},n.ShuffleArrayListWithSeed=function(t){for(var e,n=t.length;--n;){var i=r.RandomWithSeed(1,0),o=Math.floor(i*n);e=[t[n],t[o]],t[o]=e[0],t[n]=e[1]}return t};var r=function(){function t(){}return t.SetRandomSeed=function(){t.seed=50*Math.random()},t.seedRandom=function(){return(9301*this.seed+49297)%233280/233280},t.RandomWithSeed=function(t,e){return t=t||1,(e=e||0)+this.seedRandom()*(t-e)},t.seed=5,t}();n.RandomTool=r,n.loadImgByUrlWithDefaultSprit=function(t,e,n,i){t.spriteFrame=i,n||(n="png"),cc.loader.load({url:e,type:n},function(e,n){if(e)console.log("load\xa0image\xa0fail"+e);else{var i=new cc.SpriteFrame;i.setTexture(n),t.spriteFrame=i}})},n.motionPermission=function(){i.Loger.log("motionPermission"),window.motionPermission()},window.shackCB=function(t){i.Loger.log("shack!!!!!!!!!!!!!!!!!!",t),o.MessageManager.DoListen("OnShake")},cc._RF.pop()},{"../Loger":"Loger","./MessageManager":"MessageManager","./Toast":"Toast"}],WebStorage:[function(t,e,n){"use strict";var i;cc._RF.push(e,"d9833DN9TlGq7TUf6x3qLEo","WebStorage"),Object.defineProperty(n,"__esModule",{value:!0}),n.WebStorage=n.StorgeType=void 0,function(t){t[t.LocalStorage=0]="LocalStorage",t[t.IndexdedDB=1]="IndexdedDB",t[t.Cookie=2]="Cookie",t[t.WebSQL=3]="WebSQL"}(i=n.StorgeType||(n.StorgeType={}));var o=function(){function t(){}return t.changeStorageType=function(t){this.curStorgeType=t},t.set=function(t,e){localStorage.setItem(t,e)},t.get=function(t){return localStorage.getItem(t)},t.remove=function(t){return localStorage.removeItem(t)},t.clear=function(){localStorage.clear()},t.curStorgeType=i.LocalStorage,t}();n.WebStorage=o,cc._RF.pop()},{}],WheelConstants:[function(t,e,n){"use strict";cc._RF.push(e,"15607KirYVPbp/wt6HonUFn","WheelConstants"),Object.defineProperty(n,"__esModule",{value:!0}),n.WheelConstants=void 0,function(t){t[t.NOT_RUN=0]="NOT_RUN",t[t.SPEED_UP=1]="SPEED_UP",t[t.SPEED_CUT=2]="SPEED_CUT",t[t.WIN=3]="WIN"}(n.WheelConstants||(n.WheelConstants={})),cc._RF.pop()},{}],WheelGameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"93b71cDyBtPHr/szm7Pj7Jl","WheelGameConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.WheelGameConfig=void 0;var i=function(){function t(){}return t.wheelConfigData={maxGameTimes:3,gearNum:6,winDisplayTimeout:2e4,runTotalTime:8,runMinAcc:100,precision:1e3,musicVolum:1,adTurnSpeed:3,downAd:"http://storage.360buyimg.com/game-yanlibipin/downad.jpg",turn:"http://storage.360buyimg.com/game-yanlibipin/turn.png",upAd:"http://storage.360buyimg.com/game-yanlibipin/upad.jpg"},t}();n.WheelGameConfig=i,cc._RF.pop()},{}],WheelGameManager:[function(t,e,n){"use strict";cc._RF.push(e,"93190sXdytAtJ3KZBPE8HU/","WheelGameManager");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scripts/Config/Config"),r=t("./WheelGameConfig"),s=t("../../../Scripts/GameManager"),c=t("./const/WheelConstants"),u=t("./WheelLantern"),l=t("../../../Scripts/Loger"),p=t("../../../Scripts/Network"),h=t("../../../Scripts/Utils/Utils"),g=cc._decorator,d=g.ccclass,f=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PAdPic=null,e.bgMusic=null,e.helloAudio=null,e.runAudio=null,e.adIndex=0,e.adDt=0,e.adSpriteFrame=new Array,e.playTimes=0,e.gameData={playTimes:0},e}return i(e,t),e.prototype.initGameID=function(){a.Config.gameID=4},e.prototype.onLoad=function(){this.NWheel=this.node.getChildByName("wheel"),this.turn=this.NWheel.getComponent(cc.Sprite),this.CAd=this.node.getChildByName("ad").getComponent(cc.Sprite),this.downAd=this.node.getChildByName("downAd").getComponent(cc.Sprite),this.NStartButton=this.node.getChildByName("spin"),this.Clantern=this.node.getChildByName("lantern").getComponent(u.default),this.Clantern.init(),t.prototype.onLoad.call(this)},e.prototype.start=function(){this.musicInterval=this.startMusicPoll(this.helloAudio)},e.prototype.startMusicPoll=function(t){return setInterval(function(){cc.audioEngine.play(t,!1,this.gameData.musicVolum)},3e5)},e.prototype.stopMusicPoll=function(t){clearInterval(t)},e.prototype.init=function(){t.prototype.init.call(this),this.adIndex=0,this.adDt=0},e.prototype.updateGameData=function(e){t.prototype.updateGameData.call(this,e),this.gameData=e},e.prototype.updateAwardPool=function(e){var n=this;t.prototype.updateAwardPool.call(this,e),this.awardDataList=e,p.default.getAwardData(function(t){if(t){n.awardData=t;for(var e=0;e<n.awardDataList.length;e++)if(n.awardData.couponId==n.awardDataList[e].couponId){n.targetID=e,l.Loger.log("targetID : "+n.targetID);break}}else n.showResult(t)},100)},e.prototype.updateGameConfig=function(e){if(t.prototype.updateGameConfig.call(this,e),r.WheelGameConfig.wheelConfigData=e,this.gameConfig=r.WheelGameConfig.wheelConfigData,l.Loger.log("gameData : ",this.gameConfig),h.loadImgByUrl(this.CAd,this.gameConfig.upAd,"png"),h.loadImgByUrl(this.turn,this.gameConfig.turn,"png"),h.loadImgByUrl(this.downAd,this.gameConfig.downAd,"png"),this.gameData&&this.gameData.hasOwnProperty("playTimes")?this.playTimes=this.gameData.playTimes:this.playTimes=0,this.playTimes++,this.SendGameData(),this.playTimes>this.gameConfig.maxGameTimes)return l.Loger.log("[QAManager] Max Game Time"),void this.msgPanel.showMessage("\u5df2\u8d85\u8fc7\u5f53\u524d\u6700\u5927\u53ef\u73a9\u6b21\u6570\uff01");this.wheelState=c.WheelConstants.NOT_RUN,this.gearNum=this.gameConfig.gearNum,this.defaultAngle=0-360/this.gearNum/2,this.NWheel.angle=this.defaultAngle,this.gearAngle=360/this.gearNum,this.winDisplayTimeout=this.gameConfig.winDisplayTimeout,this.NStartButton.on(cc.Node.EventType.TOUCH_END,this.onClickStart.bind(this)),this.bgMusicId=cc.audioEngine.play(this.bgMusic,!0,this.gameConfig.musicVolum),this.Clantern.lanternState(),this.initAdSpriteFrame()},e.prototype.adRunState=function(t){this.gameConfig&&this.gameConfig.hasOwnProperty("adTurnSpeed")&&(this.adDt+=t,this.adDt>this.gameConfig.adTurnSpeed&&(this.adDt=0,this.CAd.spriteFrame=this.adSpriteFrame[this.adIndex].spriteFrame,this.adIndex++,this.adIndex>this.adSpriteFrame.length-1&&(this.adIndex=0)))},e.prototype.initAdSpriteFrame=function(){this.adSpriteFrame.splice(0);for(var t=cc.instantiate(this.PAdPic),e=0;e<t.children.length;e++){var n=t.children[e].getComponent(cc.Sprite);this.adSpriteFrame.push(n)}},e.prototype.update=function(t){this.doWheelUpdate(t)},e.prototype.countDown=function(){this.Clantern.lanternRunningState(),cc.audioEngine.stop(this.bgMusicId),cc.audioEngine.play(this.runAudio,!1,this.gameConfig.musicVolum),l.Loger.log(this.targetID,"targetID"),this.singleRingAngle=this.targetID*this.gearAngle,this.totalT=this.gameConfig.runTotalTime,this.minacc=this.gameConfig.runMinAcc;var t=this.computeS(this.totalT,this.minacc),e=360*Math.ceil(t/360)+this.singleRingAngle;this.acc=this.computeAcc(e/2,this.totalT/2),this.curSpeed=0,this.upCostTime=0,this.cutCostTime=0,this.maxSpeed=this.acc*this.totalT/2,this.finalAngle=e+this.defaultAngle,l.Loger.log("minS,realS,this.acc,this.maxSpeed",t,e,this.acc,this.maxSpeed),this.wheelState=c.WheelConstants.SPEED_UP},e.prototype.onClickStart=function(){this.stopMusicPoll(this.musicInterval),this.wheelState===c.WheelConstants.NOT_RUN&&this.countDown()},e.prototype.doWheelUpdate=function(t){var e=this,n=function(){e.showResult(e.awardData)};switch(this.wheelState){case c.WheelConstants.NOT_RUN:case c.WheelConstants.WIN:return;case c.WheelConstants.SPEED_UP:e.upCostTime+=t,e.NWheel.angle=e.acc*e.upCostTime*e.upCostTime/2+e.defaultAngle,e.curSpeed=e.upCostTime*e.acc,e.upCostTime<e.totalT/2||(e.wheelState=c.WheelConstants.SPEED_CUT,e.middleS=e.NWheel.angle);break;case c.WheelConstants.SPEED_CUT:e.cutCostTime+=t,e.curSpeed=e.maxSpeed-e.acc*e.cutCostTime,e.NWheel.angle=e.middleS+e.maxSpeed*e.cutCostTime-e.acc*e.cutCostTime*e.cutCostTime/2,e.NWheel.angle>=e.finalAngle&&(e.wheelState=c.WheelConstants.WIN,e.NWheel.angle=e.finalAngle,n())}},e.prototype.getProbability=function(t){var e=Math.floor(Math.random()*(t.precision+1));console.log(e,"rNum");for(var n=0,i=t.gearInfo,o=0,a=0;a<t.gearNum;a++){var r=o+i[a].r;if(console.log("min : "+o+" Max :"+r),e>o&&e<=r){n=a;break}o+=i[a].r}return{targetID:n,type:i[n].type}},e.prototype.computeS=function(t,e){var n=t/2,i=t/2;return e*n*n/2+(e*n*i-e*i*i/2)},e.prototype.computeAcc=function(t,e){return 2*t/(e*e)},e.prototype.SendGameData=function(){this.gameData.playTimes=this.playTimes,p.default.setMessage(function(t){return l.Loger.log("pushMessage",t)},JSON.stringify(this.gameData))},e.prototype.ClearGameData=function(){p.default.setMessage(function(t){return l.Loger.log("pushMessage",t)},JSON.stringify({}))},o([f(cc.Prefab)],e.prototype,"PAdPic",void 0),o([f(cc.AudioClip)],e.prototype,"bgMusic",void 0),o([f(cc.AudioClip)],e.prototype,"helloAudio",void 0),o([f(cc.AudioClip)],e.prototype,"runAudio",void 0),e=o([d],e)}(s.default);n.default=m,cc._RF.pop()},{"../../../Scripts/Config/Config":"Config","../../../Scripts/GameManager":"GameManager","../../../Scripts/Loger":"Loger","../../../Scripts/Network":"Network","../../../Scripts/Utils/Utils":"Utils","./WheelGameConfig":"WheelGameConfig","./WheelLantern":"WheelLantern","./const/WheelConstants":"WheelConstants"}],WheelLantern:[function(t,e,n){"use strict";cc._RF.push(e,"cbcd8qwlVZMx43hpIhilkYv","WheelLantern");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.init=function(){this.CAin=this.getComponent(cc.Animation)},e.prototype.lanternState=function(){var t=this.CAin.play("light");t.wrapMode=cc.WrapMode.Loop,t.repeatCount=1/0},e.prototype.lanternRunningState=function(){var t=this.CAin.play("runLight");t.wrapMode=cc.WrapMode.Loop,t.repeatCount=1/0},e=o([r],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],WinRedBagItem:[function(t,e,n){"use strict";cc._RF.push(e,"18190L69apBybPPBZVpSTqH","WinRedBagItem");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scripts/Utils/Utils"),r=cc._decorator,s=r.ccclass,c=r.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.avaSprite=null,e.avaName=null,e.awardSprite=null,e.awardName=null,e}return i(e,t),e.prototype.Init=function(t,e,n,i){a.loadImgByUrl(this.avaSprite,t,"png"),this.avaName.string=e,a.loadImgByUrl(this.awardSprite,n,"png"),this.awardName.string=i},o([c(cc.Sprite)],e.prototype,"avaSprite",void 0),o([c(cc.Label)],e.prototype,"avaName",void 0),o([c(cc.Sprite)],e.prototype,"awardSprite",void 0),o([c(cc.Label)],e.prototype,"awardName",void 0),e=o([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../Scripts/Utils/Utils":"Utils"}],md5:[function(t,e,n){"use strict";cc._RF.push(e,"9e71cRy0BxCh4d2JgwlSjeF","md5"),Object.defineProperty(n,"__esModule",{value:!0}),n.Md5=void 0;var i=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var n,i,o,a,r=t.hexChars,s=t.hexOut;for(a=0;a<4;a+=1)for(i=8*a,n=e[a],o=0;o<8;o+=2)s[i+1+o]=r.charAt(15&n),n>>>=4,s[i+0+o]=r.charAt(15&n),n>>>=4;return s.join("")},t._md5cycle=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3];i=((i+=((o=((o+=((a=((a+=((n=((n+=(i&o|~i&a)+e[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&o)+e[1]-389564586|0)<<12|a>>>20)+n|0)&n|~a&i)+e[2]+606105819|0)<<17|o>>>15)+a|0)&a|~o&n)+e[3]-1044525330|0)<<22|i>>>10)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i&o|~i&a)+e[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&o)+e[5]+1200080426|0)<<12|a>>>20)+n|0)&n|~a&i)+e[6]-1473231341|0)<<17|o>>>15)+a|0)&a|~o&n)+e[7]-45705983|0)<<22|i>>>10)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i&o|~i&a)+e[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&o)+e[9]-1958414417|0)<<12|a>>>20)+n|0)&n|~a&i)+e[10]-42063|0)<<17|o>>>15)+a|0)&a|~o&n)+e[11]-1990404162|0)<<22|i>>>10)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i&o|~i&a)+e[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&o)+e[13]-40341101|0)<<12|a>>>20)+n|0)&n|~a&i)+e[14]-1502002290|0)<<17|o>>>15)+a|0)&a|~o&n)+e[15]+1236535329|0)<<22|i>>>10)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i&a|o&~a)+e[1]-165796510|0)<<5|n>>>27)+i|0)&o|i&~o)+e[6]-1069501632|0)<<9|a>>>23)+n|0)&i|n&~i)+e[11]+643717713|0)<<14|o>>>18)+a|0)&n|a&~n)+e[0]-373897302|0)<<20|i>>>12)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i&a|o&~a)+e[5]-701558691|0)<<5|n>>>27)+i|0)&o|i&~o)+e[10]+38016083|0)<<9|a>>>23)+n|0)&i|n&~i)+e[15]-660478335|0)<<14|o>>>18)+a|0)&n|a&~n)+e[4]-405537848|0)<<20|i>>>12)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i&a|o&~a)+e[9]+568446438|0)<<5|n>>>27)+i|0)&o|i&~o)+e[14]-1019803690|0)<<9|a>>>23)+n|0)&i|n&~i)+e[3]-187363961|0)<<14|o>>>18)+a|0)&n|a&~n)+e[8]+1163531501|0)<<20|i>>>12)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i&a|o&~a)+e[13]-1444681467|0)<<5|n>>>27)+i|0)&o|i&~o)+e[2]-51403784|0)<<9|a>>>23)+n|0)&i|n&~i)+e[7]+1735328473|0)<<14|o>>>18)+a|0)&n|a&~n)+e[12]-1926607734|0)<<20|i>>>12)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i^o^a)+e[5]-378558|0)<<4|n>>>28)+i|0)^i^o)+e[8]-2022574463|0)<<11|a>>>21)+n|0)^n^i)+e[11]+1839030562|0)<<16|o>>>16)+a|0)^a^n)+e[14]-35309556|0)<<23|i>>>9)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i^o^a)+e[1]-1530992060|0)<<4|n>>>28)+i|0)^i^o)+e[4]+1272893353|0)<<11|a>>>21)+n|0)^n^i)+e[7]-155497632|0)<<16|o>>>16)+a|0)^a^n)+e[10]-1094730640|0)<<23|i>>>9)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i^o^a)+e[13]+681279174|0)<<4|n>>>28)+i|0)^i^o)+e[0]-358537222|0)<<11|a>>>21)+n|0)^n^i)+e[3]-722521979|0)<<16|o>>>16)+a|0)^a^n)+e[6]+76029189|0)<<23|i>>>9)+o|0,i=((i+=((o=((o+=((a=((a+=((n=((n+=(i^o^a)+e[9]-640364487|0)<<4|n>>>28)+i|0)^i^o)+e[12]-421815835|0)<<11|a>>>21)+n|0)^n^i)+e[15]+530742520|0)<<16|o>>>16)+a|0)^a^n)+e[2]-995338651|0)<<23|i>>>9)+o|0,i=((i+=((a=((a+=(i^((n=((n+=(o^(i|~a))+e[0]-198630844|0)<<6|n>>>26)+i|0)|~o))+e[7]+1126891415|0)<<10|a>>>22)+n|0)^((o=((o+=(n^(a|~i))+e[14]-1416354905|0)<<15|o>>>17)+a|0)|~n))+e[5]-57434055|0)<<21|i>>>11)+o|0,i=((i+=((a=((a+=(i^((n=((n+=(o^(i|~a))+e[12]+1700485571|0)<<6|n>>>26)+i|0)|~o))+e[3]-1894986606|0)<<10|a>>>22)+n|0)^((o=((o+=(n^(a|~i))+e[10]-1051523|0)<<15|o>>>17)+a|0)|~n))+e[1]-2054922799|0)<<21|i>>>11)+o|0,i=((i+=((a=((a+=(i^((n=((n+=(o^(i|~a))+e[8]+1873313359|0)<<6|n>>>26)+i|0)|~o))+e[15]-30611744|0)<<10|a>>>22)+n|0)^((o=((o+=(n^(a|~i))+e[6]-1560198380|0)<<15|o>>>17)+a|0)|~n))+e[13]+1309151649|0)<<21|i>>>11)+o|0,i=((i+=((a=((a+=(i^((n=((n+=(o^(i|~a))+e[4]-145523070|0)<<6|n>>>26)+i|0)|~o))+e[11]-1120210379|0)<<10|a>>>22)+n|0)^((o=((o+=(n^(a|~i))+e[2]+718787259|0)<<15|o>>>17)+a|0)|~n))+e[9]-343485551|0)<<21|i>>>11)+o|0,t[0]=n+t[0]|0,t[1]=i+t[1]|0,t[2]=o+t[2]|0,t[3]=a+t[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n,i,o=this._buffer8,a=this._buffer32,r=this._bufferLength;for(i=0;i<e.length;i+=1){if((n=e.charCodeAt(i))<128)o[r++]=n;else if(n<2048)o[r++]=192+(n>>>6),o[r++]=63&n|128;else if(n<55296||n>56319)o[r++]=224+(n>>>12),o[r++]=n>>>6&63|128,o[r++]=63&n|128;else{if((n=1024*(n-55296)+(e.charCodeAt(++i)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");o[r++]=240+(n>>>18),o[r++]=n>>>12&63|128,o[r++]=n>>>6&63|128,o[r++]=63&n|128}r>=64&&(this._dataLength+=64,t._md5cycle(this._state,a),r-=64,a[0]=a[16])}return this._bufferLength=r,this},t.prototype.appendAsciiStr=function(e){for(var n,i=this._buffer8,o=this._buffer32,a=this._bufferLength,r=0;;){for(n=Math.min(e.length-r,64-a);n--;)i[a++]=e.charCodeAt(r++);if(a<64)break;this._dataLength+=64,t._md5cycle(this._state,o),a=0}return this._bufferLength=a,this},t.prototype.appendByteArray=function(e){for(var n,i=this._buffer8,o=this._buffer32,a=this._bufferLength,r=0;;){for(n=Math.min(e.length-r,64-a);n--;)i[a++]=e[r++];if(a<64)break;this._dataLength+=64,t._md5cycle(this._state,o),a=0}return this._bufferLength=a,this},t.prototype.getState=function(){var t=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}},t.prototype.setState=function(t){var e,n=t.buffer,i=t.state,o=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,o[0]=i[0],o[1]=i[1],o[2]=i[2],o[3]=i[3],e=0;e<n.length;e+=1)this._buffer8[e]=n.charCodeAt(e)},t.prototype.end=function(e){void 0===e&&(e=!1);var n,i=this._bufferLength,o=this._buffer8,a=this._buffer32,r=1+(i>>2);if(this._dataLength+=i,o[i]=128,o[i+1]=o[i+2]=o[i+3]=0,a.set(t.buffer32Identity.subarray(r),r),i>55&&(t._md5cycle(this._state,a),a.set(t.buffer32Identity)),(n=8*this._dataLength)<=4294967295)a[14]=n;else{var s=n.toString(16).match(/(.*?)(.{0,8})$/);if(null===s)return;var c=parseInt(s[2],16),u=parseInt(s[1],16)||0;a[14]=c,a[15]=u}return t._md5cycle(this._state,a),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();n.Md5=i,"5d41402abc4b2a76b9719d911017c592"!==i.hashStr("hello")&&console.error("Md5 self test failed."),cc._RF.pop()},{}],start:[function(t,e,n){"use strict";cc._RF.push(e,"f7530PLgrRIOK8hIu8HV08O","start");var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./PaoItem"),r=t("../../Scripts/Utils/MessageManager"),s=t("../../Scripts/Loger"),c=t("../../Scripts/Utils/Utils"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.qrcode=null,e.noConfig=null,e.paopaoList=new Array,e.bullectScreenItem=null,e.versionLabel=null,e.backGroundSprite=null,e.appID="redBag",e.getDataPollingTotalTime=10,e.getDataPollingTime=0,e.dataPollingIndex=0,e.getAwardListPollingTotalTime=60,e.getAwardListPollingTime=0,e.isHasConfig=!1,e}return i(e,t),e.prototype.start=function(){this.dataPollingIndex=0,this.awards=new Array,this.bullectScreenList=new Array,r.MessageManager.AddListener("http610Stetus",this.On610Event,this),this.urlType=c.getQueryString("urlType"),this.urlType||(this.urlType="2")},e.prototype.setAward=function(t){for(var e=0;e<this.awards.length;e++)this.awards[e].node.destroy();this.awards.splice(0);for(e=0;e<t.length;e++){var n=c.RandomRange(0,this.paopaoList.length-1,!0),i=cc.instantiate(this.paopaoList[n]);i.parent=this.paopaoList[n].parent;var o=i.getComponent(a.default);o.init(t[e].ImgApp),this.awards.push(o)}},e.prototype.update=function(t){this.isHasConfig&&(this.getDataPollingTime+=t,this.getDataPollingTime>=this.getDataPollingTotalTime&&(this.getDataPollingTime=0)),this.getAwardListPollingTime+=t;var e=this.isHasConfig?5*this.getAwardListPollingTotalTime:this.getAwardListPollingTotalTime;this.getAwardListPollingTime>=e&&(this.getAwardListPollingTime=0)},e.prototype.onDestroy=function(){r.MessageManager.RemoveListener("http610Stetus",function(){},this)},e.prototype.On610Event=function(t,e){s.Loger.logErr(e),"login"==e&&(this.isHasConfig=!1,this.qrcode.node.active=!1,this.noConfig.active=!0)},o([p(cc.Sprite)],e.prototype,"qrcode",void 0),o([p(cc.Node)],e.prototype,"noConfig",void 0),o([p(cc.Node)],e.prototype,"paopaoList",void 0),o([p(cc.Node)],e.prototype,"bullectScreenItem",void 0),o([p(cc.Label)],e.prototype,"versionLabel",void 0),o([p(cc.Sprite)],e.prototype,"backGroundSprite",void 0),e=o([l],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Scripts/Loger":"Loger","../../Scripts/Utils/MessageManager":"MessageManager","../../Scripts/Utils/Utils":"Utils","./PaoItem":"PaoItem"}]},{},["EyesightConfig","EyesightGameManager","EyesightUIManager","EyesightAwardPanel","EyesightGameMainPanel","EyesightResultPanel","Pic","PicButton","GuessConfig","GuessManager","NumberWheel","PriceInputs","PriceSection","QAndAConfig","QAManager","AnsBtn","AnsCounter","Bird","BulletScreenItem","Game","PaoItem","SpawnBirdManager","start","AudioManager","Config","AwardData","GameManager","Loger","Network","SkinManager","AwardPanel","FieldPanel","MessagePanel","TeachPanel","BulletScreen","UploadLoger","Action","MessageManager","PersistNode","Toast","Utils","WebStorage","md5","GetAwardUsersData","ShakeBigScreenPanel","ShakeBigScreenResultPanel","ShakeMobileGamePanel","ShakeBigScreenManager","ShakeGameConfig","ShakeGameManager","AddNum","ShakeMobileAwardTip","ShakeRankItem","ShakeRedBagBulletScreen","WinRedBagItem","WheelGameConfig","WheelGameManager","WheelLantern","WheelConstants"]);