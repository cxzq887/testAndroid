System.register("chunks:///Utils/MessageManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,n){var t,r,s,a,i,c,o,l,u;return e({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(e){t=e.defineProperty},function(e){r=e.cclegacy,s=e._decorator}],execute:function(){r._RF.push({},"13c87lIB0BOdpeAfQih2rlO","MessageManager",void 0),l=s.ccclass,s.property,e("MessageManager",(a=l("MessageManager"),a((o=c=function(){function e(){}return e.AddListener=function(n,t,r){var s;e.listeners.has(n)||e.listeners.set(n,new Array),null===(s=e.listeners.get(n))||void 0===s||s.push(new u(t,r))},e.RemoveListener=function(n,t,r){var s=e.listeners.get(n);if(s){for(var a=s.length,i=0;i<a;i++){if(s[i].compar(r)){s.splice(i,1),t();break}}0==s.length&&e.listeners.delete(n)}},e.DoListen=function(n){var t=e.listeners.get(n);if(t){for(var r=t.length,s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];for(var c=0;c<r;c++){var o=t[c];o.notify.apply(o,[n].concat(a))}}},e}(),t(c,"listeners",new Map),i=o))||i)),u=function(){function e(e,n){t(this,"callback",Function),t(this,"context",null);this.callback=e,this.context=n}var n=e.prototype;return n.notify=function(){for(var e,n=this,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];(e=n.callback).call.apply(e,[n.context].concat(r))},n.compar=function(e){return e==this.context},e}(),r._RF.pop()}}}));

System.register("chunks:///Utils/Loger.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,n){var o,r,l;return{setters:[function(e){o=e.defineProperty},function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"3f171+3ksVAp4Ww/+492N4s","Loger",void 0),e("Loger",l=function(){function e(){}return e.log=function(e){if(!this.disable){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];o.length>0?console.log(e,o):console.log(e)}},e.logDebug=function(e){if(!this.disable){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];o.length>0?console.debug(e,o):console.debug(e)}},e.logWarn=function(e){if(!this.disable){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];o.length>0?console.warn(e,o):console.warn(e)}},e.logErr=function(e){if(!this.disable){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];o.length>0?console.error(e,o):console.error(e)}},e.appdenToFile=function(n,o){void 0===o&&(o=!0),this.disable||(e.logData+="\n"+n,o&&(e.logOrgData+="\n"+n))},e.saveToFile=function(){},e}()),o(l,"disable",!1),o(l,"logNet",!1),o(l,"logData",""),o(l,"logOrgData",""),r._RF.pop()}}}));

System.register("chunks:///Utils/Config.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,n){var t,o,i,a;return{setters:[function(e){t=e.createClass,o=e.defineProperty},function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"1a24buHpHlGtIPBIzPwmjzx","Config",void 0),e("Config",a=function(){function e(){}return t(e,null,[{key:"version",get:function(){return this.versions[this.gameID]}},{key:"gameType",get:function(){return this.gameTypes[this.gameID]}},{key:"playerCount",get:function(){return this.playerCounts[this.gameID]}}]),e}()),o(a,"roomConfig",{skin:[{name:"大屏UI背板",path:"Canvas/BigScreenUIPanel/Background",url:""}],width:1920,height:1080,frameType:1,adData:{sources:[{interval:10,type:"img",name:"",serverPath:""}],time:0},location:"",bulletCount:30,debug:!1,maskBgColor:"5951b9A5",IdolName:"",IdolColor:"19F34A",IdolGuardTotal:1e4,maxPlayCount:3}),o(a,"versions",["20210119.1"]),o(a,"gameTypes",["idol"]),o(a,"playerCounts",[5]),o(a,"gameID",0),o(a,"avaUrl","http://storage.360buyimg.com/aiad-game-h5/static/avatar-default.png"),o(a,"avaUrls",["https://wx.qlogo.cn/mmopen/vi_32/sibKHGaZz0uW64nbhL6VTBKtRiadtxtzwonghdu3z1IBAzg4FSymmYUDcFTsUdTBJv9QTqOVLzo5zJqbouGU9fXQ/132","https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLxR2vGS5HHWxhUc9vXb2eF7gLPNFQvaM4oeKguf4OZTSKqrEgHGJRUkQYdLkSml7rlWMqTtlESAg/132","https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJZsiblhicDcENYX4icqGdzJzJxhUCy2rbtxKX1ia82qwZplH9g9TmA6Lg9TPyD2FQkWuVCFlQj63lmsw/132","https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIhseUSvPCfkkYGEwwCER1OI6yqX9w4s3osWmRnWHrMFtAsOWk839yEdicuWyuJ68ic5wnv595Ay09w/132","https://wx.qlogo.cn/mmopen/vi_32/H6iaU4sCz76lfq6iadR7r96WmRpmGMOFGecWSJaKanrDiaQByCDicd0ibibfhGsq54qeuGcqkjnLmZUaWUDTYicumJhbA/132","https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83eqSialic22eDfGEYr3ffYnMNOZKwrOk3LanAUWxmiaxV67M2JvuMTdhsSJ0989ACXODNic07yzjiaH1bsw/132"]),o(a,"debug",!1),o(a,"sendLog",!1),o(a,"saveLog",!1),o(a,"debugByLog",!1),o(a,"disconnection",!1),o(a,"reconnection",!1),i._RF.pop()}}}));

System.register("chunks:///Utils/Toast.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,o){var s,a,i,n,e,r,h,c,l;return{setters:[function(t){s=t.defineProperty},function(t){a=t.cclegacy,i=t.Node,n=t.find,e=t.UITransform,r=t.Graphics,h=t.Color,c=t.Label}],execute:function(){a._RF.push({},"8cc0agqCaJGjbKZi3tnU2PU","Toast",void 0),s(l=function(){function t(){}return t.showTosat=function(t){var o=this;if(!this.toastBox){this.toastBox=new i,this.toastBox.parent=n("Canvas");var s=this.toastBox.addComponent(e);s.width=300,s.height=100;var a=this.toastBox.addComponent(r);a.fillColor=new h(0,0,0,180),a.roundRect(-150,-50,300,100,50),a.fill();var l=new i;l.parent=this.toastBox;var d=this.toastBox.addComponent(e);d.width=200,d.height=100;var u=l.addComponent(c);u.color=h.WHITE,u.string="Toast",this.toastBox.active=!1}this.toastBox.parent&&this.toastBox.setSiblingIndex(this.toastBox.parent.children.length-1);var x=this.toastBox.getComponentInChildren(c);x&&(x.string=t),this.toastBox.active||(this.toastBox.active=!0,setTimeout((function(){o.toastBox.active=!1}),2e3))},t}(),"toastBox",void 0),a._RF.pop(),t("default",l)}}}));

System.register("chunks:///Utils/Utils.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./MessageManager.js","./Loger.js","./Config.js","./Toast.js"],(function(e,t){var n,o,i,r,a,u,s,c,l,d,f;function g(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!==n?unescape(n[2]):null}return e({ShuffleArrayList:function(e){for(var t=e.length;--t;){var n=Math.floor(Math.random()*t),o=[e[t],e[n]];e[n]=o[0],e[t]=o[1]}return e},getFingerPrint:function(){return""},getQueryString:g,getScreenMac:function(){var e;return(e=window.navigator.userAgent.split("#")[1])||(e=g("mac")),e||"00-D8-61-25-AE-DE"},httpResquestGet:function e(t,n,o,i){void 0===i&&(i=1),c.log("httpResquestGet url : "+t);var r=new XMLHttpRequest;r.open("GET",t,!0),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?(console.log("XMLHttpResquestGet     Status:"+r.statusText),n&&n(r.responseText)):(console.log("request err request state"+r.status),d.showTosat("网络已断开，正在尝试重连..."),i<10&&setTimeout((function(){e(t,n,o,i++)}),1e3)))},r.setRequestHeader("Content-Type","application/json; charset=utf-8"),r.setRequestHeader("token",o),r.send()},httpResquestPost:function e(t,n,o,i,r,a){void 0===a&&(a=1),c.log("httpResquestPost url : "+t+" object : ",n);var u=new XMLHttpRequest;u.open("POST",t,!0),u.onreadystatechange=function(){if(4===u.readyState)if(200===u.status){var s=JSON.parse(u.responseText);1e3!=s.code&&"SUCCESS"!=s.code||!o||o(s.data),1e3!=s.code&&"SUCCESS"!=s.code&&r&&r(s.msg)}else console.error("request err request state"+u.status),d.showTosat("网络已断开，正在尝试重连..."),a<10&&setTimeout((function(){e(t,n,o,i,r,a+1)}),1e3)},u.setRequestHeader("Content-Type","application/json; charset=utf-8"),u.setRequestHeader("token",i),u.send(JSON.stringify(n))},isAndroid:function(){return Boolean(navigator.userAgent.match("/android/ig"))},isIphone:function(){return Boolean(navigator.userAgent.match("/iphone|ipod/ig"))},loadAllRes:function(e,t,n){return new Promise((function(t,o){i.loadDir(e,r,null,(function(e,o){e&&c.logErr(e),c.log("loadAllRes",o),t(o),n&&n()}))}))},loadImgByUrl:function e(t,n,o){void 0===o&&(o=1),a.loadRemote(n,{ext:".png"},(function(i,a){if(i)return console.log("load image fail"+i),void(o<10&&setTimeout((function(){e(t,n,o+1)}),1e3));if(a){var u=new r;u.texture=a._texture,t.spriteFrame=u}}))},loadImgForModel:function e(t,n,o){void 0===o&&(o=1),!n||n.length<10||a.loadRemote(n,{ext:".png"},(function(i,r){if(i||!(null==r?void 0:r._texture))return console.log("load image fail"+i),void(o<20&&setTimeout((function(){e(t,n,o+1)}),1e3));var a=r._texture;t.setProperty("mainTexture",a)}))},loadRes:function(e,t,n){return new Promise((function(o,r){i.load(e,t,(function(e,t){e&&c.logErr(e),o(t),n&&n()}))}))},loadSence:function e(t,n){u.preloadScene(t,n,(function(){u.loadScene(t,(function(o){o&&(c.logErr("faild load sence",o),setTimeout((function(){c.logErr("reload sence"+t),e(t,n)}),1e3))}))}))},loadSpriteByUrl:function e(t,n,o){return void 0===n&&(n=null),void 0===o&&(o=1),(!t||t.length<10)&&(t=l.avaUrl),new Promise((function(i,u){a.loadRemote(t,{ext:".png"},(function(a,u){!a&&u._texture||(c.logErr("load?image?fail"+a),o<20?setTimeout((function(){e(t,n,o+1)}),1e3):n&&i(n));var s=new r,l=u._texture;s.texture=l,i(s)}))}))},motionPermission:function(){c.log("motionPermission"),window.motionPermission()},numToTime:function(e){var t=Math.round(e),n=Math.floor(t/60);return t-=60*n,("0"+n).slice(-2)+":"+("0"+t).slice(-2)},quitGame:function(){c.log("Quit Game!"),setTimeout((function(){u.end()}),500)},vibrateLong:function(){"vibrate"in window.navigator&&window.navigator.vibrate(400)},vibrateShort:function(){"vibrate"in window.navigator&&window.navigator.vibrate(15)},waitForMilliSeconds:function(e){return new Promise((function(t,n){setTimeout(t,e)}))},wxBack:function(){return!1},wxBackToHome:function(){return!1},wxBackToJoinGame:function(e){return!1},wxBackToTickets:function(){return!1},wxVibrateShort:function(){}}),{setters:[function(e){n=e.defineProperty},function(e){o=e.cclegacy,i=e.resources,r=e.SpriteFrame,a=e.assetManager,u=e.director},function(e){s=e.MessageManager},function(e){c=e.Loger},function(e){l=e.Config},function(e){d=e.default}],execute:function(){o._RF.push({},"d5388unOspDDr9fILEyRNzx","Utils",void 0),window.shackCB=function(e){s.DoListen("OnShake")},e("RandomTool",f=function(){function e(){}return e.SetRandomSeed=function(){e.seed=50*Math.random()},e.seedRandom=function(){return(9301*this.seed+49297)%233280/233280},e.RandomWithSeed=function(e,t){return e=e||1,(t=t||0)+this.seedRandom()*(e-t)},e.RandomIntWithSeed=function(e,t){return Math.floor(this.RandomWithSeed(t,e))},e}()),n(f,"seed",5),o._RF.pop()}}}));

System.register("chunks:///UI/Panel/MessagePanel.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Utils/Loger.js","../../Utils/Utils.js"],(function(t,e){var n,s,o,i,l,a,u,c,r,h;return t({_class:void 0,_temp:void 0}),{setters:[function(t){n=t.inheritsLoose,s=t.defineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.Label,u=t.Component},function(t){c=t.Loger},function(t){}],execute:function(){i._RF.push({},"cf0b2oXeuBDvZO0J/8lmRoc","MessagePanel",void 0),h=l.ccclass,l.property,t("MessagePanel",h(r=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,s(o(e),"msgTxt",null),s(o(e),"buttonLabel",null),s(o(e),"closeButtonCB",null),e}n(e,t);var i=e.prototype;return i.onLoad=function(){var t,e;this.msgTxt=(null===(t=this.node.getChildByName("MsgTxt"))||void 0===t?void 0:t.getComponent(a))||null,this.buttonLabel=(null===(e=this.node.getChildByName("BtnClose"))||void 0===e?void 0:e.children[0].getComponent(a))||null},i.showMessage=function(t,e,n){c.log("show message : "+t+" ; ",e,n),this.node.active=!0,this.node.parent&&this.node.setSiblingIndex(this.node.parent.children.length-1),this.msgTxt&&(this.msgTxt.string=t),this.closeButtonCB=e,n?this.buttonLabel&&(this.buttonLabel.string=n):this.buttonLabel&&(this.buttonLabel.string="关闭")},i.onBtnCloseClick=function(){this.node.active=!1,this.closeButtonCB&&this.closeButtonCB()},e}(u))||r),i._RF.pop()}}}));

System.register("chunks:///Network/Network.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../Utils/MessageManager.js","../Utils/Utils.js"],(function(t,i){var e,s,n,o,h,c;return{setters:[function(t){e=t.defineProperty},function(t){s=t.cclegacy},function(t){n=t.MessageManager},function(t){o=t.httpResquestPost,h=t.httpResquestGet}],execute:function(){s._RF.push({},"9dc14k62ttBc7UAVZBDFGY5","Network",void 0),e(c=function(){function t(){}return t.init=function(t,i,e,s){this.url=t,this.deviceID=i,this.token=e,this.sheetID=s},t.screenIdolInitInfo=function(t){o(this.url+"/idol/screen_init_info",{deviceId:this.deviceID,activityId:this.sheetID},t,this.token,this.showMsg.bind(this))},t.getActiveInformation=function(t,i,e){void 0===i&&(i=2),o(this.url+"/idol/query_info",{deviceId:this.deviceID,activityId:this.sheetID,timestamp:t,state:i},e,this.token,this.showMsg.bind(this))},t.mobileIdolInitInfo=function(t){o(this.url+"/idol/phone_init_info",{deviceId:this.deviceID,activityId:this.sheetID},t,this.token,this.showMsg.bind(this))},t.mobileIdolUpvote=function(t){o(this.url+"/idol/upvote",{deviceId:this.deviceID,activityId:this.sheetID},t,this.token,this.showMsg.bind(this))},t.mobileIdolGetCityRank=function(t){h(this.url+"/idol/city_rank&activityId="+this.sheetID,t,this.token)},t.showMsg=function(t){n.DoListen("ShowTipsMessage",t)},t}(),"url","1111"),e(c,"deviceID","00-00-00-00-00"),e(c,"token",""),e(c,"sheetID",-1),s._RF.pop(),t("default",c)}}}));

System.register("chunks:///Utils/md5.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,e){var r,s,n;return{setters:[function(t){r=t.defineProperty},function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"558d51wli1GN7ateFHrrHsC","md5",void 0),t("Md5",n=function(){function t(){r(this,"_dataLength",0),r(this,"_bufferLength",0),r(this,"_state",new Int32Array(4)),r(this,"_buffer",new ArrayBuffer(68)),r(this,"_buffer8",void 0),r(this,"_buffer32",void 0),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var r,s,n,i,h=t.hexChars,f=t.hexOut;for(i=0;i<4;i+=1)for(s=8*i,r=e[i],n=0;n<8;n+=2)f[s+1+n]=h.charAt(15&r),r>>>=4,f[s+0+n]=h.charAt(15&r),r>>>=4;return f.join("")},t._md5cycle=function(t,e){var r=t[0],s=t[1],n=t[2],i=t[3];s=((s+=((n=((n+=((i=((i+=((r=((r+=(s&n|~s&i)+e[0]-680876936|0)<<7|r>>>25)+s|0)&s|~r&n)+e[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&s)+e[2]+606105819|0)<<17|n>>>15)+i|0)&i|~n&r)+e[3]-1044525330|0)<<22|s>>>10)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s&n|~s&i)+e[4]-176418897|0)<<7|r>>>25)+s|0)&s|~r&n)+e[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&s)+e[6]-1473231341|0)<<17|n>>>15)+i|0)&i|~n&r)+e[7]-45705983|0)<<22|s>>>10)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s&n|~s&i)+e[8]+1770035416|0)<<7|r>>>25)+s|0)&s|~r&n)+e[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&s)+e[10]-42063|0)<<17|n>>>15)+i|0)&i|~n&r)+e[11]-1990404162|0)<<22|s>>>10)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s&n|~s&i)+e[12]+1804603682|0)<<7|r>>>25)+s|0)&s|~r&n)+e[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&s)+e[14]-1502002290|0)<<17|n>>>15)+i|0)&i|~n&r)+e[15]+1236535329|0)<<22|s>>>10)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s&i|n&~i)+e[1]-165796510|0)<<5|r>>>27)+s|0)&n|s&~n)+e[6]-1069501632|0)<<9|i>>>23)+r|0)&s|r&~s)+e[11]+643717713|0)<<14|n>>>18)+i|0)&r|i&~r)+e[0]-373897302|0)<<20|s>>>12)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s&i|n&~i)+e[5]-701558691|0)<<5|r>>>27)+s|0)&n|s&~n)+e[10]+38016083|0)<<9|i>>>23)+r|0)&s|r&~s)+e[15]-660478335|0)<<14|n>>>18)+i|0)&r|i&~r)+e[4]-405537848|0)<<20|s>>>12)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s&i|n&~i)+e[9]+568446438|0)<<5|r>>>27)+s|0)&n|s&~n)+e[14]-1019803690|0)<<9|i>>>23)+r|0)&s|r&~s)+e[3]-187363961|0)<<14|n>>>18)+i|0)&r|i&~r)+e[8]+1163531501|0)<<20|s>>>12)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s&i|n&~i)+e[13]-1444681467|0)<<5|r>>>27)+s|0)&n|s&~n)+e[2]-51403784|0)<<9|i>>>23)+r|0)&s|r&~s)+e[7]+1735328473|0)<<14|n>>>18)+i|0)&r|i&~r)+e[12]-1926607734|0)<<20|s>>>12)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s^n^i)+e[5]-378558|0)<<4|r>>>28)+s|0)^s^n)+e[8]-2022574463|0)<<11|i>>>21)+r|0)^r^s)+e[11]+1839030562|0)<<16|n>>>16)+i|0)^i^r)+e[14]-35309556|0)<<23|s>>>9)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s^n^i)+e[1]-1530992060|0)<<4|r>>>28)+s|0)^s^n)+e[4]+1272893353|0)<<11|i>>>21)+r|0)^r^s)+e[7]-155497632|0)<<16|n>>>16)+i|0)^i^r)+e[10]-1094730640|0)<<23|s>>>9)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s^n^i)+e[13]+681279174|0)<<4|r>>>28)+s|0)^s^n)+e[0]-358537222|0)<<11|i>>>21)+r|0)^r^s)+e[3]-722521979|0)<<16|n>>>16)+i|0)^i^r)+e[6]+76029189|0)<<23|s>>>9)+n|0,s=((s+=((n=((n+=((i=((i+=((r=((r+=(s^n^i)+e[9]-640364487|0)<<4|r>>>28)+s|0)^s^n)+e[12]-421815835|0)<<11|i>>>21)+r|0)^r^s)+e[15]+530742520|0)<<16|n>>>16)+i|0)^i^r)+e[2]-995338651|0)<<23|s>>>9)+n|0,s=((s+=((i=((i+=(s^((r=((r+=(n^(s|~i))+e[0]-198630844|0)<<6|r>>>26)+s|0)|~n))+e[7]+1126891415|0)<<10|i>>>22)+r|0)^((n=((n+=(r^(i|~s))+e[14]-1416354905|0)<<15|n>>>17)+i|0)|~r))+e[5]-57434055|0)<<21|s>>>11)+n|0,s=((s+=((i=((i+=(s^((r=((r+=(n^(s|~i))+e[12]+1700485571|0)<<6|r>>>26)+s|0)|~n))+e[3]-1894986606|0)<<10|i>>>22)+r|0)^((n=((n+=(r^(i|~s))+e[10]-1051523|0)<<15|n>>>17)+i|0)|~r))+e[1]-2054922799|0)<<21|s>>>11)+n|0,s=((s+=((i=((i+=(s^((r=((r+=(n^(s|~i))+e[8]+1873313359|0)<<6|r>>>26)+s|0)|~n))+e[15]-30611744|0)<<10|i>>>22)+r|0)^((n=((n+=(r^(i|~s))+e[6]-1560198380|0)<<15|n>>>17)+i|0)|~r))+e[13]+1309151649|0)<<21|s>>>11)+n|0,s=((s+=((i=((i+=(s^((r=((r+=(n^(s|~i))+e[4]-145523070|0)<<6|r>>>26)+s|0)|~n))+e[11]-1120210379|0)<<10|i>>>22)+r|0)^((n=((n+=(r^(i|~s))+e[2]+718787259|0)<<15|n>>>17)+i|0)|~r))+e[9]-343485551|0)<<21|s>>>11)+n|0,t[0]=r+t[0]|0,t[1]=s+t[1]|0,t[2]=n+t[2]|0,t[3]=i+t[3]|0};var e=t.prototype;return e.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},e.appendStr=function(e){var r,s,n=this._buffer8,i=this._buffer32,h=this._bufferLength;for(s=0;s<e.length;s+=1){if((r=e.charCodeAt(s))<128)n[h++]=r;else if(r<2048)n[h++]=192+(r>>>6),n[h++]=63&r|128;else if(r<55296||r>56319)n[h++]=224+(r>>>12),n[h++]=r>>>6&63|128,n[h++]=63&r|128;else{if((r=1024*(r-55296)+(e.charCodeAt(++s)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[h++]=240+(r>>>18),n[h++]=r>>>12&63|128,n[h++]=r>>>6&63|128,n[h++]=63&r|128}h>=64&&(this._dataLength+=64,t._md5cycle(this._state,i),h-=64,i[0]=i[16])}return this._bufferLength=h,this},e.appendAsciiStr=function(e){for(var r,s=this._buffer8,n=this._buffer32,i=this._bufferLength,h=0;;){for(r=Math.min(e.length-h,64-i);r--;)s[i++]=e.charCodeAt(h++);if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,n),i=0}return this._bufferLength=i,this},e.appendByteArray=function(e){for(var r,s=this._buffer8,n=this._buffer32,i=this._bufferLength,h=0;;){for(r=Math.min(e.length-h,64-i);r--;)s[i++]=e[h++];if(i<64)break;this._dataLength+=64,t._md5cycle(this._state,n),i=0}return this._bufferLength=i,this},e.setState=function(t){var e,r=t.buffer,s=t.state,n=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],e=0;e<r.length;e+=1)this._buffer8[e]=r.charCodeAt(e)},e.end=function(e){void 0===e&&(e=!1);var r,s=this._bufferLength,n=this._buffer8,i=this._buffer32,h=1+(s>>2);if(this._dataLength+=s,n[s]=128,n[s+1]=n[s+2]=n[s+3]=0,i.set(t.buffer32Identity.subarray(h),h),s>55&&(t._md5cycle(this._state,i),i.set(t.buffer32Identity)),(r=8*this._dataLength)<=4294967295)i[14]=r;else{var f=r.toString(16).match(/(.*?)(.{0,8})$/);if(null===f)return;var a=parseInt(f[2],16),u=parseInt(f[1],16)||0;i[14]=a,i[15]=u}return t._md5cycle(this._state,i),e?this._state:t._hex(this._state)},t}()),r(n,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),r(n,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),r(n,"hexChars","0123456789abcdef"),r(n,"hexOut",[]),r(n,"onePassHasher",new n),"5d41402abc4b2a76b9719d911017c592"!==n.hashStr("hello")&&console.error("Md5 self test failed."),s._RF.pop()}}}));

System.register("chunks:///UploadLoger.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./Utils/Loger.js","./Utils/Config.js","./Utils/Utils.js","./Utils/md5.js"],(function(t,e){var a,s,i,n,r,o,c,u;return{setters:[function(t){a=t.defineProperty},function(t){s=t.cclegacy,i=t._decorator},function(t){n=t.Loger},function(t){r=t.Config},function(t){o=t.httpResquestPost},function(t){c=t.Md5}],execute:function(){s._RF.push({},"4cb71GeK7NFZKTB4N7hxJQ1","UploadLoger",void 0),i.ccclass,i.property,t("UploadLoger",u=function(){function t(){}return t.init=function(t){this.url=t&&"2"===t?this.remoteUrl:this.testUrl},t.uploadNewUser=function(t){this.baseData.timestamp=(new Date).getTime(),this.baseData.data=[{action:"register",userId:t}];var e=this.setSignature();e&&(this.baseData.signature=e),this.sendToServer()},t.uploadEnterGame=function(t,e){this.baseData.deviceId=this.baseData.tag=e,this.baseData.timestamp=(new Date).getTime(),this.baseData.data=[{action:"enterGame",userId:t,gameType:r.gameType,tag:e}];var a=this.setSignature();a&&(this.baseData.signature=a),this.sendToServer()},t.uploadGameTime=function(t,e,a){this.baseData.deviceId=this.baseData.tag=e,this.baseData.timestamp=(new Date).getTime(),this.baseData.data=[{action:"gameTime",lastTime:a,userId:t,gameType:r.gameType,tag:e}];var s=this.setSignature();s&&(this.baseData.signature=s),this.sendToServer()},t.setSignature=function(){var t;return null===(t=(new c).appendStr(this.baseData.deviceId).appendStr(this.baseData.timestamp.toString()).appendStr(this.baseData.data.length.toString()).appendStr(this.secret).end())||void 0===t?void 0:t.toString()},t.sendToServer=function(){n.log(this.baseData),n.log(this.url),o(this.url,this.baseData,this.sendToServerCB,"")},t.sendToServerCB=function(t){n.log(t)},t}()),a(u,"testUrl","https://mossp.jd.com/game_collect_pre/collect/uploadlog"),a(u,"remoteUrl","https://mossp.jd.com/game_collect/collect/uploadlog"),a(u,"url",void 0),a(u,"baseData",{env:"game",deviceId:"test_device",tag:"test_device",timestamp:123458999,signature:"11",data:[{}]}),a(u,"secret","gaoxiangxxx"),s._RF.pop()}}}));

System.register("chunks:///Data/SkinData.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,n){var c,a,t;return{setters:[function(e){c=e.defineProperty},function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"28b35sBvt1EDYlHRDckQbsp","SkinData",void 0),e("StaticSkinData",t=function(){}),c(t,"skinData",{background:["Canvas/BigScreenPanel/Background"],ScaleBg:["Canvas_Bg/ScaleBg"],sceneBg:["Scenes/Scene1/bg","Scenes/Scene2/bg","Scenes/Scene3/bg","Scenes/Scene4/bg","Scenes/Scene5/bg","Scene1/BackSceneGround/BackgroundContinueZ-002/BackgroundContinue"]}),e("SkinData",(function(e,n,c){this.name=e,this.path=n,this.url=c})),a._RF.pop()}}}));

System.register("chunks:///Manager/SkinManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../Utils/Loger.js","../Utils/Utils.js","../Data/SkinData.js"],(function(n,t){var e,r,a,i,o,s,u,c,l,h,p,f,g,d,k,v,m,y,D,_,M;return n({_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(n){e=n.defineProperty,r=n.inheritsLoose,a=n.assertThisInitialized,i=n.createClass,o=n.asyncToGenerator},function(n){s=n.cclegacy,u=n._decorator,c=n.Component,l=n.find,h=n.Sprite,p=n.MeshRenderer},function(n){f=n.Loger},function(n){g=n.loadImgByUrl,d=n.loadImgForModel},function(n){k=n.SkinData,v=n.StaticSkinData}],execute:function(){s._RF.push({},"543e8JdbTVM47kljrBM+M5j","SkinManager",void 0),_=u.ccclass,u.property,M=_((D=y=function(n){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n.call.apply(n,[this].concat(i))||this,e(a(t),"skinDataArray",new Array),e(a(t),"matCheck",new Array),t}r(t,n);var s=t.prototype;return s.init=function(){t._instance=this},s.onReceiveSkinData=function(n){var t=this;f.log("[SkinManager] change skin!",n),this.skinDataArray.splice(0),!n||n.length<=0||(n.forEach(function(){var n=o(regeneratorRuntime.mark((function n(e){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.url&&!(e.url.length<5)){n.next=2;break}return n.abrupt("return");case 2:t.onMatchData(e);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()),this.skinDataArray.forEach(function(){var n=o(regeneratorRuntime.mark((function n(e){var r,a,i,o,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:f.log("find path:",e.path),(a=null===(r=l(e.path))||void 0===r?void 0:r.getComponent(h))?g(a,e.url):(o=null===(i=l(e.path))||void 0===i?void 0:i.getComponent(p))&&(!(s=o.getMaterial(0))||s._uuid in t.matCheck||(t.matCheck.push(s._uuid),d(s,e.url)));case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()))},s.onMatchData=function(n){var t=this;if(n.path){var e=new k(null,n.path,n.url);this.skinDataArray.push(e)}else if(n.name){var r=v.skinData[n.name];null==r||r.forEach((function(e){t.skinDataArray.push(new k(n.name,e,n.url))}))}},i(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(c),e(y,"_instance",void 0),m=D))||m,s._RF.pop(),n("default",M)}}}));

System.register("chunks:///UI/Panel/BulletScreenPanel.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Utils/Config.js","../../Utils/Utils.js"],(function(t,e){var i,s,o,r,n,a,l,h,u,c,d,g,f,b,m,y,p,v,N,x,P,A,_,B,I,w,C;return t({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(t){i=t.applyDecoratedDescriptor,s=t.defineProperty,o=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.asyncToGenerator},function(t){l=t.cclegacy,h=t._decorator,u=t.Prefab,c=t.randomRangeInt,d=t.instantiate,g=t.Component,f=t.Sprite,b=t.Label,m=t.RichText,y=t.UITransform},function(t){p=t.Config},function(t){v=t.loadSpriteByUrl}],execute:function(){l._RF.push({},"92effwZuExAnbJ34SkIYxfM","BulletScreenPanel",void 0),I=h.ccclass,w=h.property,t("BulletScreenPanel",(N=I("BulletScreenPanel"),x=w(u),N((_=i((A=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(n(e),"bulletPrefab",_,n(e)),r(n(e),"isMobile",B,n(e)),s(n(e),"items",new Array),s(n(e),"itemRecovery",new Array),s(n(e),"argsArray",new Array),s(n(e),"lastArgs",null),s(n(e),"argsMaxCount",10),s(n(e),"argsIndex",0),s(n(e),"testIndex",0),e}o(e,t);var i=e.prototype;return i.onLoad=function(){},i.start=function(){var t=this;this.schedule((function(){t.showBullet()}),3)},i.addBulletArgs=function(t){if(!this.containArgs(t)){if(this.argsArray.length>=this.argsMaxCount){var e=this.argsArray.shift();console.log("moveBulletArgs:"+e.myName)}console.log("addBulletArgs:"+t.myName),this.argsArray.push(t)}},i.showBullet=function(){var t;0!=this.argsArray.length&&(this.items.length>=this.argsMaxCount||((t=this.itemRecovery.shift())?this.isMobile?(t.bullet_x=850,t.bullet_y=c(528,620)):t.bullet_y=this.items[this.items.length-1].getBottomPosition()-90:t=this.getBullItem(),this.items.push(t),this.lastArgs?(this.argsIndex=this.argsArray.indexOf(this.lastArgs),this.argsIndex=++this.argsIndex%this.argsArray.length):this.argsIndex=0,this.lastArgs=this.argsArray[this.argsIndex],t.setArgs(this.lastArgs)))},i.containArgs=function(t){var e=!1;return this.argsArray.forEach((function(i){t.myName+t.timestamp==i.myName+i.timestamp&&(e=!0)})),e},i.getBullItem=function(){var t=d(this.bulletPrefab),e=new C;return this.isMobile?(e.bullet_x=850,e.bullet_y=c(528,620)):(e.bullet_x=0,0==this.items.length?e.bullet_y=-250:e.bullet_y=this.items[this.items.length-1].getBottomPosition()-90),e.parent=this.items,e.recovery=this.itemRecovery,e.speed=80,e.init(t),t.setParent(this.node),e},i.update=function(t){var e=this;this.items.forEach((function(i){e.isMobile?i.mobileMove(t):i.move(t)}))},e}(g)).prototype,"bulletPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(A.prototype,"isMobile",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=A))||P)),t("BulletItem",C=function(){function t(){s(this,"baseNode",void 0),s(this,"bg",void 0),s(this,"headIcon",void 0),s(this,"label01",void 0),s(this,"label02",void 0),s(this,"args",void 0)}var e=t.prototype;return e.init=function(t){this.baseNode=t,this.bg=this.baseNode.getChildByName("Background"),this.headIcon=this.baseNode.getChildByName("HeadIcon"),this.label01=this.baseNode.getChildByName("Label01"),this.label02=this.baseNode.getChildByName("Label02"),this.baseNode.setPosition(this.bullet_x,this.bullet_y,0)},e.setParentAndPosition=function(t,e){t.setParent(e);var i=t.getPosition();i.x+=this.bullet_x,i.y=this.bullet_y,t.setPosition(i)},e.setArgs=function(){var t=a(regeneratorRuntime.mark((function t(e){var i,s,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.args=e,e){t.next=3;break}return t.abrupt("return");case 3:if(console.log("setArgs:"+e.myName),!e.avaUrl){t.next=8;break}return t.next=7,v(e.avaUrl);case 7:this.headIcon.getComponent(f).spriteFrame=t.sent;case 8:this.label01.getComponent(b).string=e.myName,i=p.roomConfig.IdolColor||"19F34A",this.label02.getComponent(m).string="<color=#ffffff>为</color><color=#"+i+">"+e.awardName+"</color><color=#ffffff>"+e.content+"</color>",this.label01.getComponent(y).width,s=this.label02.getComponent(y).width,55+s*this.label02.getScale().x,(o=this.baseNode.getPosition()).y=this.bullet_y,o.x=this.bullet_x,this.baseNode.setPosition(o);case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.getBottomPosition=function(){return this.baseNode.getPosition().y},e.move=function(t){try{if(!this.baseNode||!this.baseNode.position)return!1;var e=this.baseNode.getPosition();return e.y+=t*this.speed,this.baseNode.setPosition(e),!(e.y>250)||(this.destroy(),!1)}catch(t){return this.destroy(),!1}},e.mobileMove=function(t){try{if(!this.baseNode||!this.baseNode.position)return!1;var e=this.baseNode.getPosition();return e.x-=t*this.speed,this.baseNode.setPosition(e),!(e.x<=-850)||(this.destroy(),!1)}catch(t){return this.destroy(),!1}},e.destroy=function(){var t=this.baseNode.getPosition();t.y=-363,this.baseNode.setPosition(t),this.parent.splice(this.parent.indexOf(this),1),this.recovery.push(this)},t}()),t("BulletArgs",(function(t,e,i,o,r){void 0===r&&(r="守护一次"),s(this,"avaUrl",void 0),s(this,"myName",void 0),s(this,"awardName",void 0),s(this,"timestamp",void 0),s(this,"content",void 0),this.avaUrl=t,this.myName=e,this.awardName=i,this.timestamp=o,this.content=r})),l._RF.pop()}}}));

System.register("chunks:///GameManager.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./Utils/MessageManager.js","./Utils/Loger.js","./Utils/Config.js","./Utils/Utils.js","./UI/Panel/MessagePanel.js","./Network/Network.js","./UploadLoger.js","./Manager/SkinManager.js","./UI/Panel/BulletScreenPanel.js"],(function(e,t){var i,n,a,o,s,l,r,d,u,h,c,g,m,p,f,S,v,I,G,D,w,T,C,y,B,_,M,b,A,R,P,k,N,j,L,q,E,U,V,x,z;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_class3:void 0,_temp:void 0,GameState:void 0}),{setters:[function(e){i=e.defineProperty,n=e.applyDecoratedDescriptor,a=e.inheritsLoose,o=e.assertThisInitialized,s=e.initializerDefineProperty,l=e.createClass},function(e){r=e.cclegacy,d=e._decorator,u=e.macro,h=e.find,c=e.AnimationComponent,g=e.Sprite,m=e.AudioSource,p=e.v3,f=e.Node,S=e.Widget,v=e.Label,I=e.Component},function(e){G=e.MessageManager},function(e){D=e.Loger},function(e){w=e.Config},function(e){T=e.getQueryString,C=e.getScreenMac,y=e.loadImgByUrl},function(e){B=e.MessagePanel},function(e){_=e.default},function(e){M=e.UploadLoger},function(e){b=e.default},function(e){A=e.BulletScreenPanel}],execute:function(){r._RF.push({},"30d6ejTW2lLxoJLFD1ItFSx","GameManager",void 0),U=d.ccclass,V=d.property,u.ENABLE_TRANSPARENT_CANVAS=!0,function(e){e[e.Null=0]="Null",e[e.Init=1]="Init",e[e.Start=2]="Start",e[e.Gameing=3]="Gameing",e[e.End=4]="End"}(x||e("GameState",x={})),R=V(Boolean),P=V(Boolean),z=U((E=q=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(o(t),"gameState",x.Null),s(o(t),"isScreen",j,o(t)),s(o(t),"isVertical",L,o(t)),i(o(t),"token",void 0),i(o(t),"uid",void 0),i(o(t),"sheetId",-1),i(o(t),"urlType",void 0),i(o(t),"deviceID",void 0),i(o(t),"bulletScreen",void 0),i(o(t),"startGameTimeStamp",0),i(o(t),"getBulletInterval",2),i(o(t),"bulletTimeStamp",0),i(o(t),"msgPanel",void 0),i(o(t),"countDownAnim",void 0),i(o(t),"audioSource",void 0),i(o(t),"qrSprite",void 0),i(o(t),"netaddrs",new Map),i(o(t),"joinBulletIDs",new Map),i(o(t),"awardsBulletIDs",new Map),i(o(t),"gameData",void 0),i(o(t),"qrRealScale",void 0),t}a(t,e);var n=t.prototype;return n.__preload=function(){u.ENABLE_TRANSPARENT_CANVAS=!0,D.log("[GameManager] pLoad"),t._instance=this,this.initGameID(),this.netaddrs.set("1","https://mossp.jd.com/game_web_pre"),this.netaddrs.set("2","https://mossp.jd.com/game_web"),this.netaddrs.set("3","http://10.13.224.105:8070"),this.token=T("token"),this.uid=T("uid");var e=T("sheetId");e&&(this.sheetId=parseInt(e)),this.urlType=T("urlType"),this.deviceID=T(this.isScreen?"mac":"deviceId"),null==this.urlType&&(this.uid="5f55f607f1f8ed54a56eb422",this.sheetId=1934,this.token="99068a258d7f6e407e9100a0242856a2",this.urlType="1",this.deviceID=C());var i=this.urlType?this.netaddrs.get(this.urlType):"http://127.0.0.1:8070";D.log("token: "+this.token),D.log("uid: "+this.uid),D.log("sheetId: "+this.sheetId),D.log("urlType: "+this.urlType),D.log("deviceID: "+this.deviceID),this.startGameTimeStamp=(new Date).getTime(),this.deviceID&&this.token&&_.init(i,this.deviceID,this.token,this.sheetId),M.init(this.urlType),this.addVersionLabel()},n.initGameID=function(){w.gameID=0},n.onLoad=function(){var e,t,i,n,a;this.isScreen?(this.countDownAnim=(null===(t=h("/Canvas/BigScreenPanel/countDown"))||void 0===t?void 0:t.getComponent(c))||null,this.qrSprite=null===(i=h("Canvas/BigScreenPanel/QRCode/Image"))||void 0===i?void 0:i.getComponent(g),this.audioSource=this.getComponent(m),this.qrRealScale=null===(n=this.qrSprite)||void 0===n?void 0:n.node.getScale(p()).clone()):this.msgPanel=(null===(a=h("/Canvas/MessagePanel"))||void 0===a?void 0:a.getComponent(B))||null;this.bulletScreen=null===(e=h("Canvas/BulletScreenRoot"))||void 0===e?void 0:e.getComponent(A),this.init(),this.node.addComponent(b).init()},n.update=function(e){this.gameState>=x.Start&&(this.getBulletInterval-=e,this.getBulletInterval<=0&&(this.getBullet(),this.getBulletInterval=4))},n.init=function(){var e,t=this;(D.log("[GameManager] init!"),this.gameState=x.Init,G.AddListener("ShowTipsMessage",(function(e,i,n,a){var o;t.isScreen?D.logErr("get message : "+i):null===(o=t.msgPanel)||void 0===o||o.showMessage(i,a,n)}),this),this.isScreen)?(null===(e=this.countDownAnim)||void 0===e||e.play(),_.screenIdolInitInfo(this.updateScreenInitInfo.bind(this))):this.GetGameCongigInfo()},n.GetGameCongigInfo=function(){_.mobileIdolInitInfo(this.updateGameInfos.bind(this))},n.updateScreenInitInfo=function(e){if(D.log("[GameManager] updateScreenInitInfo",e),this.gameState=x.Start,e.qrCode){var t=e.qrCode;/^(https):\/\/.+$/.test(t)||(t=t.replace("http","https")),D.logErr(t),this.qrSprite?y(this.qrSprite,t):D.logErr("qrSprite is null!")}this.updateGameInfos(e)},n.updateGameInfos=function(e){D.log("[GameManager] updateGameInfos",e),this.gameState=x.Start;var t,i=e;i.conf&&(t=JSON.parse(i.conf)),i.data&&this.updateGameData(JSON.parse(i.data)),i.awards&&this.updateAwardPool(JSON.parse(i.awards)),t&&this.updateGameConfig(t),t.skin&&this.updateGameSkin(t.skin)},n.updateGameData=function(e){D.log("[GameManager] GameData",e),e&&(this.gameData=e)},n.updateAwardPool=function(e){D.log("[GameManager] AwardPool",e)},n.updateGameConfig=function(e){if(D.log("[GameManager] GameConfig",e),this.gameState=x.Gameing,this.isScreen){var t;if(!e.widthRatio||!e.heightRatio||e.widthRatio<=0||e.heightRatio<=0)return;this.qrRealScale&&(null===(t=this.qrSprite)||void 0===t||t.node.setScale(this.qrRealScale.x*e.widthRatio,this.qrRealScale.y*e.heightRatio))}w.roomConfig.IdolName=e.IdolName,w.roomConfig.IdolColor=e.IdolColor,w.roomConfig.IdolGuardTotal=e.IdolGuardTotal},n.updateGameSkin=function(e){D.log("[GameManager] GameSkin",e),b.instance.onReceiveSkinData(e)},n.showResult=function(e){D.log("[GameManager] showResult",e),this.gameState=x.End,!this.isScreen&&this.uid&&this.deviceID&&M.uploadGameTime(this.uid,this.deviceID,(new Date).getTime()-this.startGameTimeStamp)},n.gameOver=function(){this.gameState=x.End,!this.isScreen&&this.uid&&this.deviceID&&M.uploadGameTime(this.uid,this.deviceID,(new Date).getTime()-this.startGameTimeStamp)},n.addVersionLabel=function(){var e=new f;e.parent=this.node,e.setPosition(0,0),e.setScale(.5,.5);var t=e.addComponent(S);t.isAbsoluteBottom=!0,t.isAbsoluteLeft=!0,t.bottom=0,t.left=0,t.updateAlignment();var i="v"+w.version;this.urlType?"1"===this.urlType?i+="_debug":"2"===this.urlType&&(i+="_online"):i+="_local",e.addComponent(v).string=i},n.getBullet=function(){var e=this.isScreen?2:1;_.getActiveInformation(this.bulletTimeStamp,e,this.UpdateBullet.bind(this))},n.UpdateBullet=function(e){D.log("getBullet : ",e)},n.pushBulletScreen=function(e,t,i,n){if("加入了游戏"===n){if(this.joinBulletIDs.has(e))return;this.joinBulletIDs.set(e,!0)}else{if(this.awardsBulletIDs.has(e))return;this.awardsBulletIDs.set(e,!0)}},l(t,null,[{key:"instance",get:function(){return this._instance}}]),t}(I),i(q,"_instance",void 0),j=n((N=E).prototype,"isScreen",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=n(N.prototype,"isVertical",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=N))||k,r._RF.pop(),e("default",z)}}}));

System.register("chunks:///UI/ScreenGrid.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../Utils/Utils.js"],(function(t,i){var e,n,o,r,a,s,l,c,d,h,p,u,f,g,m,v,y,C,w,I,_,z,S;return t({_dec:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.defineProperty},function(t){s=t.cclegacy,l=t._decorator,c=t.UITransform,d=t.randomRangeInt,h=t.Layout,p=t.instantiate,u=t.randomRange,f=t.Sprite,g=t.Animation,m=t.Component},function(t){v=t.loadImgByUrl}],execute:function(){s._RF.push({},"8de78Yi1NFKNbctPd9Z2pL1","ScreenGrid",void 0),z=l.ccclass,S=l.property,t("ScreenGrid",(y=z("ScreenGrid"),y((I=e((w=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return i=t.call.apply(t,[this].concat(n))||this,o(r(i),"clow",I,r(i)),o(r(i),"row",_,r(i)),a(r(i),"isInit",!1),a(r(i),"setData",!1),a(r(i),"layoutWidth",0),a(r(i),"layoutHeight",0),a(r(i),"positionMap",new Map),a(r(i),"currentTime",0),i}n(i,t);var e=i.prototype;return e.start=function(){var t,i,e=this;this.layoutWidth=(null===(t=this.getComponent(c))||void 0===t?void 0:t.contentSize.width)||0,this.layoutHeight=(null===(i=this.getComponent(c))||void 0===i?void 0:i.contentSize.height)||0,this.resize(this.clow,this.row),this.schedule((function(){if(e.setData)for(var t=0;t<3;t++){var i=d(0,e.node.children.length);e.flipOff(e.node.children[i])}}),3)},e.resize=function(t,i){var e;if(t&&i&&(!this.isInit||this.clow!=t||this.row!=i)){this.isInit=!0;var n=this.node.getComponent(h),o=this.layoutWidth/t,r=this.layoutHeight/i,a=Math.min(o,r),s=this.node.children[0],l=0;o<r?(l=(this.layoutHeight-i*a)/2,n.paddingTop=l,n.paddingBottom=l,a-=n.spacingY):(l=(this.layoutWidth-t*a)/2,n.paddingLeft=l,n.paddingRight=l,a-=n.spacingX),null===(e=s.getComponent(c))||void 0===e||e.setContentSize(a,a),s.children.forEach((function(t){var i;null===(i=t.getComponent(c))||void 0===i||i.setContentSize(a,a)})),s.active=!0,this.node.removeAllChildren(),this.node.addChild(s);for(var d=1;d<t*i;d++)this.node.addChild(p(s))}},e.updateItemBack=function(t){this.node.children.forEach((function(i){v(i.getChildByName("Back").getComponent(f),t[u(0,t.length)])}))},e.updateItemIcon=function(t,i){t>this.node.children.length-1||(this.setData=!0,this.positionMap.has(t)||(this.positionMap.set(t,this.currentTime),v(this.node.children[t].getChildByName("Front").getComponent(f),i)))},e.update=function(t){this.currentTime+=t},e.flipOff=function(t){var i=this;t.getComponent(g).play("itemFlipOff"),this.scheduleOnce((function(){i.flipOn(t)}),2)},e.flipOn=function(t){t.getComponent(g).play("itemFlipOn")},i}(m)).prototype,"clow",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=e(w.prototype,"row",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=w))||C)),s._RF.pop()}}}));

System.register("chunks:///BigScreen/IdolScreenRoom.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../Utils/Loger.js","../Utils/Config.js","../Network/Network.js","../UI/Panel/BulletScreenPanel.js","../GameManager.js","../UI/ScreenGrid.js"],(function(o,t){var e,n,a,i,r,l,s,d,u,c,f,m,p,g,v,h,C;return o({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(o){e=o.inheritsLoose,n=o.defineProperty,a=o.assertThisInitialized},function(o){i=o.cclegacy,r=o._decorator,l=o.find,s=o.Label,o.assetManager,o.VideoPlayer},function(o){d=o.Loger},function(o){u=o.Config},function(o){c=o.default},function(o){f=o.BulletScreenPanel,m=o.BulletArgs},function(o){p=o.default},function(o){g=o.ScreenGrid}],execute:function(){i._RF.push({},"4b0ed97rVpOgpXKsOtjVRVj","IdolScreenRoom",void 0),C=r.ccclass,r.property,o("IdolScreenRoom",(v=C("IdolScreenRoom"),v(h=function(o){function t(){for(var t,e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=o.call.apply(o,[this].concat(i))||this,n(a(t),"timestamp",0),n(a(t),"state",1),n(a(t),"screenGrid",void 0),n(a(t),"idolName",void 0),n(a(t),"bulletScreen",void 0),n(a(t),"totalGuardValue",void 0),n(a(t),"dayGuardValue",void 0),n(a(t),"dayGuardTotal",void 0),n(a(t),"fansCount",void 0),t}e(t,o);var i=t.prototype;return i.onLoad=function(){var t,e,n,a;o.prototype.onLoad.call(this),this.screenGrid=null===(t=l("Canvas/GridRoot/GridLayout"))||void 0===t?void 0:t.getComponent(g),this.totalGuardValue=l("Canvas/BigScreenPanel/IdolInfo/GuardValue").getComponent(s),this.dayGuardValue=l("Canvas/ProgressRoot/Bar/Current").getComponent(s),this.dayGuardTotal=l("Canvas/ProgressRoot/Bar/Total").getComponent(s),this.bulletScreen=null===(e=l("Canvas/BulletScreenRoot"))||void 0===e?void 0:e.getComponent(f),this.idolName=null===(n=l("Canvas/BigScreenPanel/IdolInfo/IdolName"))||void 0===n?void 0:n.getComponent(s),this.fansCount=null===(a=l("Canvas/GridRoot/FansNumber/Number"))||void 0===a?void 0:a.getComponent(s)},i.start=function(){this.schedule(this.updateActiveInfo.bind(this),3)},i.updateGameConfig=function(t){if(o.prototype.updateGameConfig.call(this,t),this.isScreen){var e;if(t.IdolClow>0&&t.IdolRow>0)u.roomConfig.IdolClow=t.IdolClow,u.roomConfig.IdolRow=t.IdolRow,null===(e=this.screenGrid)||void 0===e||e.resize(t.IdolClow,t.IdolRow);this.idolName.string=u.roomConfig.IdolName||"Idol",this.dayGuardTotal.string=u.roomConfig.IdolGuardTotal}},i.updateGameSkin=function(t){o.prototype.updateGameSkin.call(this,t)},i.updateActiveInfo=function(){var o=this;c.getActiveInformation(this.timestamp,this.state,(function(t){d.log(t),o.state=t.state,o.updatePlayer(t.players),o.updateNumber(t),o.updateBullet(t.barrages),o.updateRanks(t.ranks)}))},i.updateNumber=function(o){this.totalGuardValue.string=o.total+" 守护值",this.dayGuardValue.string=o.dayNum},i.updatePlayer=function(o){var t=this;o&&(this.fansCount.string=(u.roomConfig.IdolRow*u.roomConfig.IdolClow-o.length).toString(),o.forEach((function(o){t.screenGrid.updateItemIcon(o.pos,o.avatarUrl)})))},i.updateBullet=function(o){var t=this;o&&o.forEach((function(o){var e=new m(o.avatarUrl,o.nickName||"fans",u.roomConfig.IdolName||"Idol",o.timestamp);t.bulletScreen.addBulletArgs(e),t.timestamp<o.timestamp&&(t.timestamp=o.timestamp)}))},i.updateRanks=function(o){},t}(p))||h)),i._RF.pop()}}}));

System.register("chunks:///Data/BasePlayerInfo.js",["cc"],(function(e,a){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0e562h55nhKSogMU58yf5HN","BasePlayerInfo",void 0),e("BasePlayerInfo",(function(e,a,t,n){this.uid=e,this.playerName=a,this.avaUrl=t,this.avaSpriteF=n})),t._RF.pop()}}}));

System.register("chunks:///Data/PropInfo.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../Utils/Utils.js"],(function(e,r){var o,t,p,n,i;return{setters:[function(e){o=e.defineProperty,t=e.asyncToGenerator},function(e){p=e.cclegacy},function(e){n=e.loadSpriteByUrl}],execute:function(){p._RF.push({},"30576F2h0tLurLKCtcRvGvm","PropInfo",void 0),e("PropInfo",i=function(){function e(e,r,t,p,n,i,l){o(this,"imageSpriteFrame",void 0),this.id=e,this.power=r,this.propId=t,this.price=p,this.imageUrl=n,this.name=i,this.level=l,this.getImageSprite()}return e.prototype.getImageSprite=function(){var e=t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(this.imageUrl);case 2:this.imageSpriteFrame=e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}()),o(i,"customPropInfoData",[{power:666,propId:"car",level:3},{power:1,propId:"normal",level:3},{power:33,propId:"duck",level:1},{power:100,propId:"flower",level:2},{power:1,propId:"normal",level:3},{power:80,propId:"love",level:1},{power:1314,propId:"makeHeart",level:3},{power:120,propId:"party",level:2},{power:1,propId:"normal",level:3},{power:250,propId:"rocket",level:2},{power:888,propId:"rose",level:3},{power:180,propId:"carousel",level:2}]),p._RF.pop()}}}));

System.register("chunks:///IdolMobileGameManager.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./Utils/MessageManager.js","./Utils/Loger.js","./Utils/Config.js","./Network/Network.js","./UI/Panel/BulletScreenPanel.js","./GameManager.js","./Data/PropInfo.js"],(function(e,o){var t,r,i,a,n,l,p,c,s,u,d,f,v,g,m,b,_,h,I,B,y,k,L,C,G,M,w,P,U,D,j,z,A,N,S;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_class3:void 0,_temp:void 0}),{setters:[function(e){t=e.defineProperty,r=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,l=e.createClass},function(e){p=e.cclegacy,c=e._decorator,s=e.SpriteFrame},function(e){u=e.MessageManager},function(e){d=e.Loger},function(e){f=e.Config},function(e){v=e.default},function(e){g=e.BulletArgs},function(e){m=e.default},function(e){b=e.PropInfo}],execute:function(){p._RF.push({},"fdb1bqBrbBMf6LYNdeC89MB","IdolMobileGameManager",void 0),N=c.ccclass,S=c.property,e("IdolMobileGameManager",(_=N("IdolMobileGameManager"),h=S(s),I=S(s),B=S(s),y=S(s),k=S(s),L=S(s),_((A=z=function(e){function o(){for(var o,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return o=e.call.apply(e,[this].concat(i))||this,a(n(o),"propBackLevel01",M,n(o)),a(n(o),"propBackLevel02",w,n(o)),a(n(o),"propBackLevel03",P,n(o)),a(n(o),"propBackLevel01_small",U,n(o)),a(n(o),"propBackLevel02_small",D,n(o)),a(n(o),"propBackLevel03_small",j,n(o)),t(n(o),"propInfoList",new Array),t(n(o),"bulletScreen",void 0),o}i(o,e);var r=o.prototype;return r.__preload=function(){e.prototype.__preload.call(this),o._instance=this},r.updateGameInfos=function(o){e.prototype.updateGameInfos.call(this,o),u.DoListen("OnCreatMap",o)},r.updateAwardPool=function(o){e.prototype.updateAwardPool.call(this,o);for(var t=0;t<o.length;t++){var r=new b(o[t].couponId,b.customPropInfoData[t].power,b.customPropInfoData[t].propId,o[t].salesPrice,o[t].imgApp,o[t].couponName,b.customPropInfoData[t].level);this.propInfoList.push(r)}d.log(this.propInfoList)},r.GetPropInfoWithID=function(e){for(var o=0;o<this.propInfoList.length;o++)if(this.propInfoList[o].id==e)return this.propInfoList[o];return null},r.updateGameConfig=function(o){e.prototype.updateGameConfig.call(this,o),f.roomConfig=o},r.GetCityList=function(){v.mobileIdolGetCityRank(this.GetCityCallBack.bind(this))},r.GetCityCallBack=function(e){d.log("GetCityCallBack : ",e)},r.Upvote=function(){v.mobileIdolUpvote(this.UpvoteCallBack.bind(this))},r.UpvoteCallBack=function(e){d.log("UpvoteCallBack : ",e),u.DoListen("OnUpvoteCallBack",e.couponId)},r.UpdateBullet=function(o){if(e.prototype.UpdateBullet.call(this,o),o.barrages.length>0){for(var t=0,r=0;r<o.barrages.length;r++){var i=o.barrages[r].timestamp;if(t=t<i?i:t,this.bulletTimeStamp<i){var a=o.barrages[r].avatarUrl,n=o.barrages[r].nickName,l=this.GetPropInfoWithID(o.barrages[r].couponId),p=o.barrages[r].couponNum,c="守护一次";"normal"!=l.propId&&(c="送出"+l.name+" * "+p);var s=new g(a,n||"fans",f.roomConfig.IdolName||"Idol",i,c);this.bulletScreen.addBulletArgs(s)}}this.bulletTimeStamp=t}},l(o,null,[{key:"instance",get:function(){return this._instance}}]),o}(m),t(z,"_instance",void 0),M=r((G=A).prototype,"propBackLevel01",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(G.prototype,"propBackLevel02",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(G.prototype,"propBackLevel03",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(G.prototype,"propBackLevel01_small",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(G.prototype,"propBackLevel02_small",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(G.prototype,"propBackLevel03_small",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=G))||C)),p._RF.pop()}}}));

System.register("chunks:///UI/Panel/IdolMobileCityRankPanel.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../IdolMobilePanelManager.js"],(function(n,e){var o,t,i,l,a,r,c,s;return n({_dec:void 0,_class:void 0}),{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator,l=n.Component},function(n){a=n.IdolMobilePanelManager}],execute:function(){t._RF.push({},"bd7a3EraZVH05J6Wg0KwGIg","IdolMobileCityRankPanel",void 0),s=i.ccclass,i.property,n("IdolMobileCityRankPanel",(r=s("IdolMobileCityRankPanel"),r(c=function(n){function e(){return n.apply(this,arguments)||this}return o(e,n),e.prototype.BannerButtonEvent=function(){a.instance.showMainPanel()},e}(l))||c)),t._RF.pop()}}}));

System.register("chunks:///UI/widge/IdolMobilePropTrackItem.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Utils/Utils.js","../../IdolMobileGameManager.js"],(function(e,r){var i,t,o,a,l,n,p,c,s,m,d,u,b,I,v,f,k,h,g,_,T,S,y,L,w,F,M;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized,l=e.defineProperty},function(e){n=e.cclegacy,p=e._decorator,c=e.LabelComponent,s=e.SpriteComponent,m=e.Node,d=e.Color,u=e.Component},function(e){b=e.loadImgByUrl},function(e){I=e.IdolMobileGameManager}],execute:function(){n._RF.push({},"97e1900hflK/4LnBGHZYRvf","IdolMobilePropTrackItem",void 0),F=p.ccclass,M=p.property,e("IdolMobilePropTrackItem",(v=F("IdolMobilePropTrackItem"),f=M(c),k=M(s),h=M(m),g=M(s),v((S=i((T=function(e){function r(){for(var r,i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];return r=e.call.apply(e,[this].concat(t))||this,o(a(r),"propTrackItemLabel",S,a(r)),o(a(r),"propTrackItemSprite",y,a(r)),o(a(r),"selectImage",L,a(r)),o(a(r),"backSprite",w,a(r)),l(a(r),"info",void 0),r}t(r,e);var i=r.prototype;return i.Init=function(e){this.info=e,this.info.imageSpriteFrame?this.propTrackItemSprite.spriteFrame=e.imageSpriteFrame:b(this.propTrackItemSprite,e.imageUrl),this.propTrackItemLabel.node.active="normal"!=e.propId,this.backSprite.node.active="normal"!=e.propId,"normal"!=e.propId&&(this.propTrackItemLabel.string=e.name),1==e.level?(this.backSprite.spriteFrame=I.instance.propBackLevel01_small,this.propTrackItemLabel.color=new d(43,176,252,255)):2==e.level?(this.backSprite.spriteFrame=I.instance.propBackLevel02_small,this.propTrackItemLabel.color=new d(214,156,255,255)):3==e.level&&(this.backSprite.spriteFrame=I.instance.propBackLevel03_small,this.propTrackItemLabel.color=new d(255,153,51,255))},i.ChangeSpriteColor=function(e){this.selectImage.active=e},r}(u)).prototype,"propTrackItemLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(T.prototype,"propTrackItemSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(T.prototype,"selectImage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(T.prototype,"backSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=T))||_)),n._RF.pop()}}}));

System.register("chunks:///UI/widge/IdolMobilePropItem.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Utils/MessageManager.js","../../Utils/Utils.js","../../IdolMobileGameManager.js"],(function(e,t){var i,n,o,s,r,a,l,c,p,h,m,d,S,g,b,u;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){i=e.inheritsLoose,n=e.defineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.SpriteComponent,l=e.LabelComponent,c=e.Color,p=e.SystemEventType,h=e.Component},function(e){m=e.MessageManager},function(e){d=e.loadImgByUrl},function(e){S=e.IdolMobileGameManager}],execute:function(){s._RF.push({},"077daHDIVtBKKtVwGa9Ot0k","IdolMobilePropItem",void 0),u=r.ccclass,r.property,e("IdolMobilePropItem",(g=u("IdolMobilePropItem"),g(b=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,n(o(t),"propItemID",-1),n(o(t),"isSelect",!1),n(o(t),"info",void 0),n(o(t),"backSprite",null),n(o(t),"selectSprite",void 0),n(o(t),"contentSprite",void 0),n(o(t),"nameLabel",void 0),n(o(t),"priceLabel",void 0),t}i(t,e);var s=t.prototype;return s.init=function(e,t){var i=this;this.propItemID=e,this.info=t,this.isSelect=!1,this.backSprite=this.node.getChildByName("back").getComponent(a),this.selectSprite=this.node.getChildByName("selectSprite"),this.contentSprite=this.node.getChildByName("content").getComponent(a),this.nameLabel=this.node.getChildByName("name").getComponent(l),this.priceLabel=this.node.getChildByName("priceLabel").getComponent(l),1==t.level?(this.backSprite.spriteFrame=S.instance.propBackLevel01,this.nameLabel.color=new c(43,176,252,255)):2==t.level?(this.backSprite.spriteFrame=S.instance.propBackLevel02,this.nameLabel.color=new c(214,156,255,255)):3==t.level&&(this.backSprite.spriteFrame=S.instance.propBackLevel03,this.nameLabel.color=new c(255,153,51,255)),t.imageSpriteFrame?this.contentSprite.spriteFrame=t.imageSpriteFrame:d(this.contentSprite,t.imageUrl),this.nameLabel.string=t.name,this.priceLabel.string=t.price+"元",this.node.on(p.TOUCH_END,(function(){m.DoListen("OnTouchPropItem",i.propItemID)}),this)},s.Select=function(){this.isSelect||(this.isSelect=!0,this.selectSprite.active=!0)},s.UnSelect=function(){this.isSelect&&(this.isSelect=!1,this.selectSprite.active=!1)},t}(h))||b)),s._RF.pop()}}}));

System.register("chunks:///UI/Panel/IdolMobilePropPanel.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Utils/MessageManager.js","../../Utils/Loger.js","../../IdolMobileGameManager.js","../widge/IdolMobilePropItem.js"],(function(t,o){var n,e,i,s,l,r,c,a,h,u,p,C,m,d,P,f,g,v,L,I;return t({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.ScrollView,c=t.LabelComponent,a=t.tween,h=t.Vec3,u=t.instantiate,p=t.clamp,C=t.math,m=t.Component},function(t){d=t.MessageManager},function(t){P=t.Loger},function(t){f=t.IdolMobileGameManager},function(t){g=t.IdolMobilePropItem}],execute:function(){s._RF.push({},"fb4289FixBKm4EoXX91nunX","IdolMobilePropPanel",void 0),I=l.ccclass,l.property,t("IdolMobilePropPanel",(v=I("IdolMobilePropPanel"),v(L=function(t){function o(){for(var o,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return o=t.call.apply(t,[this].concat(s))||this,e(i(o),"propItemNode",null),e(i(o),"scrollView",null),e(i(o),"numKeyboard",null),e(i(o),"propCountLabel",null),e(i(o),"propItemList",new Map),e(i(o),"panelList",new Array),e(i(o),"propCount",1),e(i(o),"currentSelectPropInfo",void 0),e(i(o),"scrollContentMinPos",-507.5),e(i(o),"scrollContentMaxPos",void 0),e(i(o),"scrollContentCurrentPos",-507.5),e(i(o),"targetContentPos",void 0),e(i(o),"changePos",void 0),e(i(o),"scrollAnimTotalTime",.5),e(i(o),"scrollAnimChangeTime",0),e(i(o),"isStartScrollContentAnim",!1),e(i(o),"scrollLeftButton",void 0),e(i(o),"scrollRightButton",void 0),e(i(o),"panelAnimTime",.5),o}n(o,t);var s=o.prototype;return s.onEnable=function(){d.AddListener("OnTouchPropItem",this.OnPropItemTouch,this),d.AddListener("OnSetPropCount",this.setPropCount,this)},s.onDisable=function(){d.RemoveListener("OnTouchPropItem",(function(){}),this),d.RemoveListener("OnSetPropCount",(function(){}),this)},s.onLoad=function(){var t;this.propItemNode=this.node.getChildByName("propItem"),this.scrollView=(null===(t=this.node.getChildByName("ScrollView"))||void 0===t?void 0:t.getComponent(r))||null,this.numKeyboard=this.node.getChildByName("numberKeyBoard"),this.propCountLabel=this.node.getChildByName("countLabel").getComponent(c),this.scrollLeftButton=this.node.getChildByName("leftButton"),this.scrollRightButton=this.node.getChildByName("rightButton"),this.node.active=!1},s.update=function(t){this.UpdateScrollContentAnim(t)},s.ResetPanel=function(){this.OnPropItemTouch("",0),this.scrollView.content.setPosition(-507.5,0,0),this.setPropCount("",1),this.scrollLeftButton.active=!1,this.scrollRightButton.active=!0,this.scrollContentCurrentPos=this.scrollContentMinPos},s.Show=function(){this.panelList.push(this.node),this.ResetPanel(),this.node.active=!0,a(this.node).to(this.panelAnimTime,{position:new h(0,-582,0)},{easing:"quartInOut"}).start()},s.Hide=function(){for(var t=0;t<this.panelList.length;t++)this.panelList[t].active=!1;this.panelList.splice(0)},s.closeCurrentPanel=function(){if(!(this.panelList.length<=0)){var t,o=this.panelList.pop();o==this.node?t=new h(0,-1337,0):o==this.numKeyboard&&(t=new h(0,-755,0)),a(o).to(this.panelAnimTime,{position:t},{onComplete:function(){o.active=!1},easing:"quartOut"}).start()}},s.spawnPropItem=function(){var t=JSON.parse(JSON.stringify(f.instance.propInfoList));t.sort((function(t,o){return t.price-o.price}));for(var o=0;o<t.length;o++){var n;if("normal"!==t[o].propId){var e=u(this.propItemNode);this.scrollView&&(null==e||e.setParent(null===(n=this.scrollView)||void 0===n?void 0:n.content)),e&&(e.active=!0);var i=null==e?void 0:e.getComponent(g);null==i||i.init(o,t[o]),this.propItemList.set(o,i)}}this.scrollContentMaxPos=this.scrollContentMinPos-203*(this.propItemList.size-5)},s.OnPropItemTouch=function(t,o){var n=this;this.propItemList.forEach((function(t,e){e!=o?null==t||t.UnSelect():(null==t||t.Select(),n.currentSelectPropInfo=null==t?void 0:t.info)}))},s.openNumKeyboard=function(){this.panelList.push(this.numKeyboard),this.numKeyboard.active=!0,a(this.numKeyboard).to(this.panelAnimTime,{position:h.ZERO},{easing:"quartInOut"}).start()},s.UpdatePropCountLabel=function(){this.propCountLabel.string=this.propCount.toString()},s.setPropCount=function(t,o){P.log("prop panel set prop count : "+o),this.propCount=o,this.UpdatePropCountLabel()},s.AddPropCountButtonEvent=function(){this.propCount++,this.propCount>=9999&&(this.propCount=9999),this.UpdatePropCountLabel()},s.MinusPropCountButtonEvent=function(){this.propCount--,this.propCount<=1&&(this.propCount=1),this.UpdatePropCountLabel()},s.GoScreenButtonEvent=function(){P.logErr("GoScreenButtonEvent : ","propCount : "+this.propCount,"info : ",this.currentSelectPropInfo)},s.ScrollViewButtonEvent=function(t,o){var n=parseInt(o);1==n&&this.scrollContentCurrentPos<=this.scrollContentMaxPos||-1==n&&this.scrollContentCurrentPos>=this.scrollContentMinPos||(this.targetContentPos=this.scrollContentCurrentPos-1015*n,this.targetContentPos=p(this.targetContentPos,this.scrollContentMaxPos,this.scrollContentMinPos),this.isStartScrollContentAnim=!0,this.scrollView.enabled=!1)},s.UpdateScrollContentAnim=function(t){this.isStartScrollContentAnim&&(this.scrollAnimChangeTime+=t,this.changePos=C.lerp(this.scrollContentCurrentPos,this.targetContentPos,this.scrollAnimChangeTime/this.scrollAnimTotalTime),this.scrollAnimChangeTime>=this.scrollAnimTotalTime&&(this.isStartScrollContentAnim=!1,this.changePos=this.scrollContentCurrentPos=this.targetContentPos,this.scrollAnimChangeTime=0,this.scrollLeftButton.active=!(this.scrollContentCurrentPos==this.scrollContentMinPos),this.scrollRightButton.active=!(this.scrollContentCurrentPos==this.scrollContentMaxPos),this.scrollView.enabled=!0),this.scrollView.content.setPosition(this.changePos,0,0))},s.OnScrollviewEvent=function(){this.scrollContentCurrentPos=this.scrollView.content.getPosition().x,this.scrollLeftButton.active=!(this.scrollContentCurrentPos>=this.scrollContentMinPos),this.scrollRightButton.active=!(this.scrollContentCurrentPos<=this.scrollContentMaxPos)},o}(m))||L)),s._RF.pop()}}}));

System.register("chunks:///UI/Panel/IdolMobileMainPanel.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Utils/MessageManager.js","../../Utils/Loger.js","../../Utils/Config.js","../../Utils/Utils.js","../../IdolMobileGameManager.js","../widge/IdolMobilePropTrackItem.js","./IdolMobilePropPanel.js","../../IdolMobilePanelManager.js"],(function(n,t){var e,o,i,a,r,s,p,l,h,c,u,m,d,g,C,f,k,P,I,v,T,M,y;return n({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(n){e=n.inheritsLoose,o=n.defineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.Vec3,p=n.LabelComponent,l=n.AnimationComponent,h=n.ButtonComponent,c=n.instantiate,u=n.SpriteComponent,m=n.Component},function(n){d=n.MessageManager},function(n){g=n.Loger},function(n){C=n.Config},function(n){f=n.motionPermission},function(n){k=n.IdolMobileGameManager},function(n){P=n.IdolMobilePropTrackItem},function(n){I=n.IdolMobilePropPanel},function(n){v=n.IdolMobilePanelManager}],execute:function(){a._RF.push({},"c373bH/kS5CcqlccQ7Xm8MI","IdolMobileMainPanel",void 0),y=r.ccclass,r.property,n("IdolMobileMainPanel",(T=y("IdolMobileMainPanel"),T(M=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,o(i(t),"propPanel",null),o(i(t),"shakeNum",0),o(i(t),"isShaked",!1),o(i(t),"currentPropIndex",0),o(i(t),"propTrackItemPosList",[new s(-382.605,342.648,0),new s(-129.183,342.648,0),new s(125.972,342.648,0),new s(380.01,342.648,0),new s(380.01,50.69,0),new s(380.01,-241,0),new s(380.01,-531.189,0),new s(125.102,-531.189,0),new s(-128.44,-531.189,0),new s(-383.015,-531.189,0),new s(-383.015,-240.967,0),new s(-383.015,51.046,0)]),o(i(t),"propTrackRoot",null),o(i(t),"propTrackItemNode",null),o(i(t),"cityGuardian",null),o(i(t),"selfGuardian",null),o(i(t),"guardianCount",null),o(i(t),"propAnimation",null),o(i(t),"goButton",null),o(i(t),"propTrackItems",new Array),o(i(t),"playCount",void 0),t}e(t,n);var a=t.prototype;return a.onEnable=function(){d.AddListener("OnShake",this.OnShakeEvent,this),d.AddListener("OnCreatMap",this.OnCreatMap,this),d.AddListener("OnClosePropPanelEvent",this.OnClosePropPanelEvent,this),d.AddListener("OnUpvoteCallBack",this.OnUpvoteCallBack,this)},a.onDisable=function(){d.RemoveListener("OnShake",(function(){}),this),d.RemoveListener("OnCreatMap",(function(){}),this),d.RemoveListener("OnClosePropPanelEvent",(function(){}),this),d.RemoveListener("OnUpvoteCallBack",(function(){}),this)},a.onLoad=function(){this.propPanel=this.node.getChildByName("PropPanel").getComponent(I),this.propTrackRoot=this.node.getChildByName("propTrack"),this.propTrackItemNode=this.node.getChildByName("propTrackItem"),this.cityGuardian=this.node.getChildByPath("Label/GuardianCityValue").getComponent(p),this.selfGuardian=this.node.getChildByPath("Label/GuardianSelfValue").getComponent(p),this.guardianCount=this.node.getChildByPath("Label/GuardianCount").getComponent(p),this.propAnimation=this.node.getChildByName("propAnimation").getComponent(l),this.goButton=this.node.getChildByName("GO").getComponent(h),this.propAnimation.on("stop",this.OnPropAnimationStop,this)},a.OnCreatMap=function(n,t){this.CreatTrack(),this.cityGuardian.string=t.total,this.selfGuardian.string=t.playerTotal,this.playCount=(C.roomConfig.maxPlayCount?C.roomConfig.maxPlayCount:3)-t.dayTimes,this.guardianCount.string=this.playCount.toString(),this.propPanel.spawnPropItem()},a.CreatTrack=function(){for(var n=0;n<this.propTrackItemPosList.length;n++){var t=c(this.propTrackItemNode);t.active=!0,t.setParent(this.propTrackRoot),t.setPosition(this.propTrackItemPosList[n]);var e=t.getComponent(P);e.Init(k.instance.propInfoList[n]),this.propTrackItems.push(e)}},a.getMotionPermission=function(){f(),this.goButton.interactable=!1},a.OnBannerEvent=function(){g.logErr("Banner Button Touch!"),v.instance.showCityPanel()},a.OnShowPropPanelButtonEvent=function(){this.propPanel.Show()},a.OnClosePropPanelEvent=function(){this.propPanel.closeCurrentPanel()},a.OnShakeEvent=function(){this.isShaked||(g.log("OnShakeEvent : "+ ++this.shakeNum),!this.isShaked&&this.shakeNum>=5&&(this.isShaked=!0,this.shakeNum=0,k.instance.Upvote()))},a.OnUpvoteCallBack=function(n,t){for(var e=0;e<this.propTrackItems.length;e++)if(this.propTrackItems[e].info.id==t){this.StartTrackAnimation(e,this.TrackAnimationEnd.bind(this));break}},a.StartTrackAnimation=function(n,t){g.log("start track animation : "+n);var e,o=0,i=0,a=0,r=0;!function s(p,l){if(i>=3&&p==n)return l.currentPropIndex=n,void t(n);e=p,a++,++p>=l.propTrackItems.length&&(p=0),a>=l.propTrackItems.length&&(a=0,i++),l.propTrackItems[p].ChangeSpriteColor(!0),e>=0&&e<l.propTrackItems.length&&l.propTrackItems[e].ChangeSpriteColor(!1),o=2*(r+=.01)*r*r,l.scheduleOnce((function(){s(p,l)}),o)}(this.currentPropIndex-1,this)},a.TrackAnimationEnd=function(n){g.logErr(this.propTrackItems[n].info);for(var t=this.propTrackItems[n].info.propId,e=!1,o=0;o<this.propAnimation.clips.length;o++)if(t==this.propAnimation.clips[o].name){e=!0;break}e?(this.propAnimation.node.active=!0,this.propAnimation.play(t)):this.isShaked=!1},a.OnPropAnimationStop=function(n,t){g.log("OnPropAnimationStop : ",n,t),g.logErr("stop animation name : "+t._name),this.propAnimation.getComponent(u).spriteFrame=null,this.propAnimation.node.active=!1,this.isShaked=!1},t}(m))||M)),a._RF.pop()}}}));

System.register("chunks:///IdolMobilePanelManager.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./UI/Panel/IdolMobileCityRankPanel.js","./UI/Panel/IdolMobileMainPanel.js"],(function(e,n){var i,a,t,o,l,r,c,s,d,u,p,P,f,v,y,_,M,b,h,g,I,k;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_class3:void 0,_temp:void 0}),{setters:[function(e){i=e.defineProperty,a=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,s=e._decorator,d=e.Component},function(e){u=e.IdolMobileCityRankPanel},function(e){p=e.IdolMobileMainPanel}],execute:function(){c._RF.push({},"267498KecBLU67/+6CkEMtY","IdolMobilePanelManager",void 0),I=s.ccclass,k=s.property,e("IdolMobilePanelManager",(P=I("IdolMobilePanelManager"),f=k(p),v=k(u),P((g=h=function(e){function n(){for(var n,i=arguments.length,a=new Array(i),t=0;t<i;t++)a[t]=arguments[t];return n=e.call.apply(e,[this].concat(a))||this,o(l(n),"mainPanel",M,l(n)),o(l(n),"cityRankPanel",b,l(n)),n}t(n,e);var i=n.prototype;return i.__preload=function(){n._instance=this},i.showCityPanel=function(){this.mainPanel.node.active=!1,this.cityRankPanel.node.active=!0},i.showMainPanel=function(){this.mainPanel.node.active=!0,this.cityRankPanel.node.active=!1},r(n,null,[{key:"instance",get:function(){return this._instance}}]),n}(d),i(h,"_instance",void 0),M=a((_=g).prototype,"mainPanel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=a(_.prototype,"cityRankPanel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=_))||y)),c._RF.pop()}}}));

System.register("chunks:///Network/Base/BasePlayer.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../Data/BasePlayerInfo.js"],(function(e,n){var r,t,a,o,i,s,c,u,l,p,f;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){r=e.inheritsLoose,t=e.defineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator},function(e){i=e.cclegacy,s=e._decorator,c=e.Component},function(e){u=e.BasePlayerInfo}],execute:function(){i._RF.push({},"bf2c2jDwlZA/rmmmRCUREeK","BasePlayer",void 0),f=s.ccclass,s.property,e("BasePlayer",(l=f("BasePlayer"),l(p=function(e){function n(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,t(a(n),"isAI",!1),n}r(n,e);var i=n.prototype;return i.initForAI=function(e,n){this.playerInfo=new u(e,n,"",null)},i.init=function(){var e=o(regeneratorRuntime.mark((function e(n,r,t,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.playerInfo=new u(n,r,t,a),this.onSpawn();case 3:case"end":return e.stop()}}),e,this)})));return function(n,r,t,a){return e.apply(this,arguments)}}(),i.onSpawn=function(){},n}(c))||p)),i._RF.pop()}}}));

System.register("chunks:///Network/Base/BufferUtil.js",["cc"],(function(r,n){var t;return r({ab2number:function(r){var n=new Uint8Array(r).buffer;return new Uint32Array(n)[0]},ab2str:function(r){for(var n=new Uint8Array(r),t="",e=0;e<n.length;e++)t+=String.fromCharCode(n[e]);return t},dynimicNumber2Uint:function(r){for(var n=[];0!=r;){var t=r%128,e=r>>7;0!=e&&(t+=128),n.push(t),r=e}return new Uint8Array(n)},dynimicUint2Number:function(r,n){for(var t=0,e=0,i=n;i<r.length;i++){e++;var u=r[i];if(t+=(127&u)*Math.pow(2,7*(i-n)),u<128)break}return{n:t,length:e}},number2Uint32:function(r){return new Uint32Array([r]).buffer},number2Uint8:function(r){return new Uint8Array([r]).buffer},str2ab:function(r){for(var n=new ArrayBuffer(r.length),t=new Uint8Array(n),e=0,i=r.length;e<i;e++)t[e]=r.charCodeAt(e);return n},writeBytes:function(r,n,t){for(var e=new Uint8Array(t),i=new Uint8Array(r),u=0;u<t.byteLength;u++)i[n]=e[u],n++;return n}}),{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"3e7bcBhAKBF64v+kypKdpdY","BufferUtil",void 0),t._RF.pop()}}}));

System.register("chunks:///Utils/Action.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(n,t){var o,i,r,e,u;return{setters:[function(n){o=n.createForOfIteratorHelperLoose,i=n.inheritsLoose,r=n.defineProperty},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"1c17e5K5KdKj5ARH712bfYB","Action",void 0),n("Action",u=function(){function n(){r(this,"funcs",void 0),this.funcs=new Array}var t=n.prototype;return t.add=function(n){this.funcs.push(n)},t.remove=function(n){var t=this.funcs.indexOf(n);this.funcs.splice(t,1)},t.ClearAll=function(){this.funcs.splice(0,this.funcs.length)},t.invok=function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];for(var r,e=o(this.funcs);!(r=e()).done;){var u=r.value;u(t)}},n}()),n("Action_1",function(n){function t(){return n.apply(this,arguments)||this}return i(t,n),t.prototype.invok=function(n){for(var t,i=o(this.funcs);!(t=i()).done;){(0,t.value)(n)}},t}(u)),n("Action_2",function(n){function t(){return n.apply(this,arguments)||this}return i(t,n),t.prototype.invok=function(n,t){for(var i,r=o(this.funcs);!(i=r()).done;){(0,i.value)(n,t)}},t}(u)),n("Action_3",function(n){function t(){return n.apply(this,arguments)||this}return i(t,n),t.prototype.invok=function(n,t,i){for(var r,e=o(this.funcs);!(r=e()).done;){(0,r.value)(n,t,i)}},t}(u)),n("Action_4",function(n){function t(){return n.apply(this,arguments)||this}return i(t,n),t.prototype.invok=function(n,t,i,r){for(var e,u=o(this.funcs);!(e=u()).done;){(0,e.value)(n,t,i,r)}},t}(u)),e._RF.pop()}}}));

System.register("chunks:///Network/Base/Event/NetEventManager.js",["../../../_virtual/_rollupPluginBabelHelpers.js","cc","../../../Utils/Action.js"],(function(e,a){var t,n,i,l,c;return{setters:[function(e){t=e.defineProperty},function(e){n=e.cclegacy,i=e._decorator},function(e){l=e.Action_1,c=e.Action}],execute:function(){n._RF.push({},"c2bf0Q5MPxEYJGF9u5rQL4A","NetEventManager",void 0),i.ccclass,i.property,e("NetEventManager",function(){function e(){t(this,"callBackMap",void 0),t(this,"eventMap",void 0),this.callBackMap=new Map,this.eventMap=new Map}var a=e.prototype;return a.ClearEventMap=function(){this.eventMap.clear()},a.ClearCBMap=function(){this.callBackMap.clear()},a.addCallBack=function(e,a){if(e>0&&null!=a)if(a instanceof l)this.callBackMap.set(e,a);else if(this.callBackMap.has(e)){var t;null===(t=this.callBackMap.get(e))||void 0===t||t.add(a)}else{var n=new l;n.add(a),this.callBackMap.set(e,n)}},a.invokeCallBack=function(e,a){var t;this.callBackMap.has(e)&&(null===(t=this.callBackMap.get(e))||void 0===t||t.invok(a),this.callBackMap.delete(e))},a.addOnEvent=function(e,a){if(null!=e&&null!=a)if(a instanceof c)this.eventMap.set(e,a);else if(this.eventMap.has(e)){var t;null===(t=this.eventMap.get(e))||void 0===t||t.add(a)}else{var n=new l;n.add(a),this.eventMap.set(e,n)}},a.invokeOnEvent=function(e,a){var t;this.eventMap.has(e)&&(null===(t=this.eventMap.get(e))||void 0===t||t.invok(a))},e}()),n._RF.pop()}}}));

System.register("chunks:///UI/widge/ColorAssembler2D.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(o,e){var t,r,s,i,n,c,l,a,p,u,_,d,f,h,y,v,D,b,C,g,m;return o({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(o){t=o.applyDecoratedDescriptor,r=o.inheritsLoose,s=o.initializerDefineProperty,i=o.assertThisInitialized,n=o.createClass},function(o){c=o.cclegacy,l=o._decorator,a=o.Color,p=o.director,u=o.Director,_=o.RenderComponent,d=o.Sprite,f=o.Component}],execute:function(){c._RF.push({},"dbbebDysDFJw51/Yp4K9+zx","ColorAssembler2D",void 0),C=l.ccclass,g=l.property,h=C("ColorAssembler2D"),y=g({type:[a]}),m=h((b=t((D=function(o){function e(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=o.call.apply(o,[this].concat(r))||this,s(i(e),"_colors",b,i(e)),e}r(e,o);var t=e.prototype;return t.onEnable=function(){p.once(u.EVENT_AFTER_DRAW,this._updateColors,this),this._updateColors()},t.onDisable=function(){p.off(u.EVENT_AFTER_DRAW,this._updateColors,this)},t._updateColors=function(){var o=this.getComponent(_);if(o){var e=o._assembler,t=e._renderData.uintVDatas[0];if(t)for(var r=this.node.getComponent(d).color,s=e.floatsPerVert,i=0,n=e.colorOffset,c=t.length;n<c;n+=s)t[n]=(this.colors[i++]||r)._val}},n(e,[{key:"colors",get:function(){return this._colors},set:function(o){this._colors=o}}]),e}(f)).prototype,"_colors",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),t(D.prototype,"colors",[y],Object.getOwnPropertyDescriptor(D.prototype,"colors"),D.prototype),v=D))||v,c._RF.pop(),o("default",m)}}}));

System.register("chunks:///Utils/CustomNumberKeyBoard.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./MessageManager.js"],(function(t,e){var i,n,r,s,o,a,l,u,c,h,p,d,g,b,f,m,L,v,_,y,x;return t({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.defineProperty,a=t.createClass},function(t){l=t.cclegacy,u=t._decorator,c=t.LabelComponent,h=t.Component},function(t){p=t.MessageManager}],execute:function(){l._RF.push({},"78fe1q2hN5CV4EQtHiLTAJB","CustomNumberKeyBoard",void 0),y=u.ccclass,x=u.property,t("CustomNumberKeyBoard",(d=y("CustomNumberKeyBoard"),g=x(c),b=x(c),d((L=i((m=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(s(e),"textLabel",L,s(e)),r(s(e),"placeholderLabel",v,s(e)),r(s(e),"maxLength",_,s(e)),o(s(e),"_string",""),e}n(e,t);var i=e.prototype;return i.onEnable=function(){this.string=""},i.updateString=function(t){var e=this.textLabel;this.textLabel&&(e.string=t,this.updateLabels())},i.updateLabels=function(){var t=this._string;this.textLabel&&(this.textLabel.node.active=""!==t),this.placeholderLabel&&(this.placeholderLabel.node.active=""===t)},i.inputNum=function(t,e){"0"===e&&""===this.string||(this.string+=e)},i.deletNum=function(){this.string=this.string.slice(0,this.string.length-1)},i.confirmNum=function(){if(p.DoListen("OnClosePropPanelEvent"),""!=this.string){var t=parseInt(this.string);p.DoListen("OnSetPropCount",t)}},a(e,[{key:"string",get:function(){return this._string},set:function(t){this.maxLength>=0&&t.length>=this.maxLength&&(t=t.slice(0,this.maxLength)),this._string=t,this.updateString(t)}}]),e}(h)).prototype,"textLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(m.prototype,"placeholderLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(m.prototype,"maxLength",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),f=m))||f)),l._RF.pop()}}}));

System.register("chunks:///_virtual/main",["../Utils/MessageManager.js","../Utils/Loger.js","../Utils/Config.js","../Utils/Toast.js","../Utils/Utils.js","../UI/Panel/MessagePanel.js","../Network/Network.js","../Utils/md5.js","../UploadLoger.js","../Data/SkinData.js","../Manager/SkinManager.js","../UI/Panel/BulletScreenPanel.js","../GameManager.js","../UI/ScreenGrid.js","../BigScreen/IdolScreenRoom.js","../Data/BasePlayerInfo.js","../Data/PropInfo.js","../IdolMobileGameManager.js","../UI/Panel/IdolMobileCityRankPanel.js","../UI/widge/IdolMobilePropTrackItem.js","../UI/widge/IdolMobilePropItem.js","../UI/Panel/IdolMobilePropPanel.js","../UI/Panel/IdolMobileMainPanel.js","../IdolMobilePanelManager.js","../Network/Base/BasePlayer.js","../Network/Base/BufferUtil.js","../Utils/Action.js","../Network/Base/Event/NetEventManager.js","../UI/widge/ColorAssembler2D.js","../Utils/CustomNumberKeyBoard.js"],(function(n,e){return{setters:[function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){}],execute:function(){}}}));

(function(r) {
  r('project:///assets/Script/Utils/MessageManager.js', 'chunks:///Utils/MessageManager.js');
  r('project:///assets/Script/Utils/Loger.js', 'chunks:///Utils/Loger.js');
  r('project:///assets/Script/Utils/Config.js', 'chunks:///Utils/Config.js');
  r('project:///assets/Script/Utils/Toast.js', 'chunks:///Utils/Toast.js');
  r('project:///assets/Script/Utils/Utils.js', 'chunks:///Utils/Utils.js');
  r('project:///assets/Script/UI/Panel/MessagePanel.js', 'chunks:///UI/Panel/MessagePanel.js');
  r('project:///assets/Script/Network/Network.js', 'chunks:///Network/Network.js');
  r('project:///assets/Script/Utils/md5.js', 'chunks:///Utils/md5.js');
  r('project:///assets/Script/UploadLoger.js', 'chunks:///UploadLoger.js');
  r('project:///assets/Script/Data/SkinData.js', 'chunks:///Data/SkinData.js');
  r('project:///assets/Script/Manager/SkinManager.js', 'chunks:///Manager/SkinManager.js');
  r('project:///assets/Script/UI/Panel/BulletScreenPanel.js', 'chunks:///UI/Panel/BulletScreenPanel.js');
  r('project:///assets/Script/GameManager.js', 'chunks:///GameManager.js');
  r('project:///assets/Script/UI/ScreenGrid.js', 'chunks:///UI/ScreenGrid.js');
  r('project:///assets/Script/BigScreen/IdolScreenRoom.js', 'chunks:///BigScreen/IdolScreenRoom.js');
  r('project:///assets/Script/Data/BasePlayerInfo.js', 'chunks:///Data/BasePlayerInfo.js');
  r('project:///assets/Script/Data/PropInfo.js', 'chunks:///Data/PropInfo.js');
  r('project:///assets/Script/IdolMobileGameManager.js', 'chunks:///IdolMobileGameManager.js');
  r('project:///assets/Script/UI/Panel/IdolMobileCityRankPanel.js', 'chunks:///UI/Panel/IdolMobileCityRankPanel.js');
  r('project:///assets/Script/UI/widge/IdolMobilePropTrackItem.js', 'chunks:///UI/widge/IdolMobilePropTrackItem.js');
  r('project:///assets/Script/UI/widge/IdolMobilePropItem.js', 'chunks:///UI/widge/IdolMobilePropItem.js');
  r('project:///assets/Script/UI/Panel/IdolMobilePropPanel.js', 'chunks:///UI/Panel/IdolMobilePropPanel.js');
  r('project:///assets/Script/UI/Panel/IdolMobileMainPanel.js', 'chunks:///UI/Panel/IdolMobileMainPanel.js');
  r('project:///assets/Script/IdolMobilePanelManager.js', 'chunks:///IdolMobilePanelManager.js');
  r('project:///assets/Script/Network/Base/BasePlayer.js', 'chunks:///Network/Base/BasePlayer.js');
  r('project:///assets/Script/Network/Base/BufferUtil.js', 'chunks:///Network/Base/BufferUtil.js');
  r('project:///assets/Script/Utils/Action.js', 'chunks:///Utils/Action.js');
  r('project:///assets/Script/Network/Base/Event/NetEventManager.js', 'chunks:///Network/Base/Event/NetEventManager.js');
  r('project:///assets/Script/UI/widge/ColorAssembler2D.js', 'chunks:///UI/widge/ColorAssembler2D.js');
  r('project:///assets/Script/Utils/CustomNumberKeyBoard.js', 'chunks:///Utils/CustomNumberKeyBoard.js');
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});